(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return w}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return o}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return v}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return y});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function m(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function _(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function O(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",function(){return of});var r=n("os0x"),i=n("zIRd"),o=n("q/0M"),s=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function g(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}(this)},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function x(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var N,j=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var R=f.navigator;if(R){var V=R.userAgent;if(V){N=V;break t}}N=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e={};for(var n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var z,B,H=D(N,"Opera"),G=D(N,"Trident")||D(N,"MSIE"),$=D(N,"Edge"),W=$||G,K=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Y=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function Q(){var t=f.document;return t?t.documentMode:void 0}t:{var Z="",X=(B=N,K?/rv:([^\);]+)(\)|;)/.exec(B):$?/Edge\/([\d\.]+)/.exec(B):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Y?/WebKit\/(\S+)/.exec(B):H?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(X&&(Z=X?X[1]:""),G){var J=Q();if(null!=J&&J>parseFloat(Z)){z=String(J);break t}}z=Z}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=j(String(z)).split("."),r=j(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var nt=f.document&&G&&(Q()||parseInt(z,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},C(at,st);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(ur){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),yt={};function mt(t,e,n,r,i){if(r&&r.once)return wt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ct]?t.va(e,n,v(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i;if(s&&!rt)return null;var a=Tt(t);if(a||(t[vt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=St,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ct]?t.wa(e,n,v(r)?!!r.capture:!!r,i):bt(t,e,n,!0,r,i)}function _t(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=xt(n),t&&t[ct]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=gt(o=t.a[e],n,r,i))&&(ft(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Tt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=gt(e,n,r,i)),(n=-1<t?e[t]:null)&&Et(n))}function Et(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(pt(n,t),0==n.b&&(n.src=null,e[vt]=null)):ft(t)}}}function It(t){return t in yt?yt[t]:yt[t]="on"+t}function Ct(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Et(t),n.call(r,e)}function St(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ct(t,e=new at(e,this))}return Ct(t,new at(e,this))}function Tt(t){return(t=t[vt])instanceof dt?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==p(t)?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function At(){S.call(this),this.c=new dt(this),this.J=this,this.C=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&pt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}C(At,S),At.prototype[ct]=!0,(c=At.prototype).addEventListener=function(t,e,n,r){mt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){_t(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;F(t=new st(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=kt(s,r,!0,t)&&i}if(i=kt(s=t.a=n,r,!0,t)&&i,i=kt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(s=t.a=e[o],r,!1,t)&&i;return i},c.G=function(){if(At.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nt=f.JSON.stringify;function jt(){this.b=this.a=null}var Dt,Pt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Vt},function(t){t.reset()},100);function Rt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Vt(){this.next=this.b=this.a=null}function Lt(t){f.setTimeout(function(){throw t},0)}function Mt(t,e){Dt||function(){var t=f.Promise.resolve(void 0);Dt=function(){t.then(qt)}}(),Ut||(Dt(),Ut=!0),Ft.add(t,e)}jt.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Vt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Vt.prototype.reset=function(){this.next=this.b=this.a=null};var Ut=!1,Ft=new jt;function qt(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){Lt(n)}var e=Pt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Ut=!1}function zt(t,e){At.call(this),this.b=t||1,this.a=e||f,this.f=_(this.Ya,this),this.g=I()}function Bt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ht(t,e,n){if("function"==p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Gt(t){t.a=Ht(function(){t.a=null,t.c&&(t.c=!1,Gt(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}C(zt,At),(c=zt.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=I()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Bt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=I())},c.G=function(){zt.S.G.call(this),Bt(this),delete this.a};var $t=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Gt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(S);function Wt(t){S.call(this),this.b=t,this.a={}}C(Wt,S);var Kt=[];function Yt(t,e,n,r){Array.isArray(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){L(t.a,function(t,e){this.a.hasOwnProperty(e)&&Et(t)},t),t.a={}}function Zt(){this.a=!0}function Xt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Nt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Wt.prototype.G=function(){Wt.S.G.call(this),Qt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.info=function(){};var Jt=null;function te(){return Jt=Jt||new At}function ee(t){st.call(this,"serverreachability",t)}function ne(t){var e=te();e.dispatchEvent(new ee(e,t))}function re(t){st.call(this,"statevent",t)}function ie(t){var e=te();e.dispatchEvent(new re(e,t))}function oe(t){st.call(this,"timingevent",t)}function se(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){t()},e)}C(ee,st),C(re,st),C(oe,st);var ae={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ue={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ce(){}function le(){}ce.prototype.a=null;var he,fe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function de(){st.call(this,"d")}function pe(){st.call(this,"c")}function ge(){}function ve(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Wt(this),this.P=ye,this.R=new zt(t=W?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}C(de,st),C(pe,st),C(ge,ce),he=new ge;var ye=45e3,me={},be={};function we(t,e,n){t.H=1,t.i=ze(Ve(e)),t.j=n,t.I=!0,_e(t,null)}function _e(t,e){t.u=I(),Ce(t),t.l=Ve(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),en(n.b,"t",r),t.D=0,t.a=Qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new $t(_(t.Ca,t,t.a),t.O)),Yt(t.J,t.a,"readystatechange",t.Wa),e=t.B?M(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ne(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.T,t.j)}function Ee(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ie(t,n);if(i==be){4==e&&(t.h=4,ie(14),r=!1),Xt(t.c,t.f,null,"[Incomplete Response]");break}if(i==me){t.h=4,ie(15),Xt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Xt(t.c,t.f,i,null),Ae(t,i)}4==e&&0==n.length&&(t.h=1,ie(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zn(e),e.F=!0)):(Xt(t.c,t.f,n,"[Invalid Chunked Response]"),xe(t),Oe(t))}function Ie(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?be:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?be:(e=e.substr(r,n),t.D=r+n,e))}function Ce(t){t.U=I()+t.P,Se(t,t.P)}function Se(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=se(_(t.Ua,t),e)}function Te(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Oe(t){0==t.g.v||t.A||Gn(t.g,t)}function xe(t){Te(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Bt(t.R),Qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ae(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||cn(n.b,t)))if(n.I=t.N,!t.C&&cn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Hn(n),Dn(n)}qn(n),ie(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=se(_(n.Ra,n),6e3));if(1>=un(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else Wn(n,11)}else if((t.C||n.a==t)&&Hn(n),!k(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ln(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,qe(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=I()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Yn(u,u.C?u.ga:null,u.fa),d.C){hn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Te(p),Ce(p)),u.a=d}else Fn(u);0<n.g.length&&Vn(n)}else"stop"!=i[0]&&"close"!=i[0]||Wn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Wn(n,7):jn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ne(4)}catch(v){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"==typeof t)O(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(g(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ne(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ne)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function je(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];De(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)De(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=ve.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==xn(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=xn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||ne(8==n||0>=r?3:2),Te(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ie(12),xe(this),Oe(this);break t}Xt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ae(this,u)}this.I?(Ee(this,e,o),W&&this.b&&3==e&&(Yt(this.J,this.R,"tick",this.Va),this.R.start())):(Xt(this.c,this.f,o,null),Ae(this,o)),4==e&&xe(this),this.b&&!this.A&&(4==e?Gn(this.g,this):(this.b=!1,Ce(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ie(12)):(this.h=0,ie(13)),xe(this),Oe(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=xn(this.a),e=this.a.$();this.D<e.length&&(Te(this),Ee(this,t,e),this.b&&4!=t&&Ce(this))}},c.cancel=function(){this.A=!0,xe(this)},c.Ua=function(){this.o=null;var t=I();0<=t-this.U?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ne(3),ie(17)),xe(this),this.h=2,Oe(this)):Se(this,this.U-t)},(c=Ne.prototype).K=function(){je(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return je(this),this.a.concat()},c.get=function(t,e){return De(this.b,t)?this.b[t]:e},c.set=function(t,e){De(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,Le(this,t.f),this.j=t.j,Me(this,t.c),Ue(this,t.h),this.g=t.g,e=t.b;var n=new Ze;n.c=e.c,e.a&&(n.a=new Ne(e.a),n.b=e.b),Fe(this,n),this.i=t.i}else t&&(n=String(t).match(Pe))?(this.a=!!e,Le(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Ue(this,n[4]),this.g=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.i=Be(n[7]||"")):(this.a=!!e,this.b=new Ze(null,this.a))}function Ve(t){return new Re(t)}function Le(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?Be(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fe(t,e,n){e instanceof Ze?(t.b=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),en(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=He(e,Ye)),t.b=new Ze(e,t.a))}function qe(t,e,n){t.b.set(e,n)}function ze(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^I()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(He(e,$e,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(He(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ke:We,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",He(n,Qe)),t.join("")};var $e=/[#\/\?@]/g,We=/[#\?:]/g,Ke=/[#\?]/g,Ye=/[#\?@]/g,Qe=/#/g;function Ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new Ne,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Xe(t),e=nn(t,e),De(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,De((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&je(t)))}function tn(t,e){return Xe(t),e=nn(t,e),De(t.a.b,e)}function en(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(nn(t,e),A(n)),t.b+=n.length)}function nn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rn(t,e){this.b=t,this.a=e}function on(t){this.g=t||sn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Ze.prototype).add=function(t,e){Xe(this),this.c=null,t=nn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Xe(this),this.a.forEach(function(n,r){O(n,function(n){t.call(e,n,r,this)},this)},this)},c.L=function(){Xe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){Xe(this);var e=[];if("string"==typeof t)tn(this,t)&&(e=x(e,this.a.get(nn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=x(e,t[n])}return e},c.set=function(t,e){return Xe(this),this.c=null,tn(this,t=nn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sn=10;function an(t){return!!t.b||!!t.a&&t.a.size>=t.f}function un(t){return t.b?1:t.a?t.a.size:0}function cn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ln(t,e){t.a?t.a.add(e):t.b=e}function hn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function fn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.c)}function dn(){}function pn(){this.a=new dn}function gn(t,e,n){var r=n||"";try{ke(t,function(t,n){var i=t;v(t)&&(i=Nt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}on.prototype.cancel=function(){var t,e;if(this.c=fn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},dn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},dn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var yn=f.JSON.parse;function mn(t){At.call(this),this.headers=new Ne,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=bn,this.D=this.F=!1}C(mn,At);var bn="",wn=/^https?$/i,_n=["POST","PUT"];function En(t){return"content-type"==t.toLowerCase()}function In(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Cn(t),Tn(t)}function Cn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sn(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=xn(t)||2!=t.X()))if(t.l&&4==xn(t))Ht(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==xn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pe)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!wn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<xn(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",Cn(t)}}finally{Tn(t)}}}function Tn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function xn(t){return t.a?t.a.readyState:0}function An(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return L(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Nn(t){this.pa=0,this.g=[],this.c=new Zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=kn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=kn("baseRetryDelayMs",5e3,t),this.Ma=kn("retryDelaySeedMs",1e4,t),this.Ja=kn("forwardChannelMaxRetries",2,t),this.ma=kn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new on(t&&t.concurrentRequestLimit),this.ka=new pn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function jn(t){if(Pn(t),3==t.v){var e=t.R++,n=Ve(t.B);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),Mn(t,n),(e=new ve(t,t.c,e,void 0)).H=2,e.i=ze(Ve(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qn(e.g,null),e.a.ba(e.i)),e.u=I(),Ce(e)}Kn(t)}function Dn(t){t.a&&(zn(t),t.a.cancel(),t.a=null)}function Pn(t){Dn(t),t.j&&(f.clearTimeout(t.j),t.j=null),Hn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new rn(t.La++,e)),3==t.v&&Vn(t)}function Vn(t){an(t.b)||t.h||(t.h=!0,Mt(t.Ba,t),t.u=0)}function Ln(t,e){var n;n=e?e.f:t.R++;var r=Ve(t.B);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.P),Mn(t,r),t.i&&t.l&&An(r,t.i,t.l),n=new ve(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Un(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ln(t.b,n),we(n,r,e)}function Mn(t,e){t.f&&ke({},function(t,n){qe(e,n,t)})}function Un(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{gn(l,s,"req"+c+"_")}catch(jr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Fn(t){t.a||t.j||(t.U=1,Mt(t.Aa,t),t.o=0)}function qn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=se(_(t.Aa,t),$n(t,t.o)),t.o++,0))}function zn(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function Bn(t){t.a=new ve(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ve(t.la);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.H?"0":"1"),qe(e,"AID",t.P),Mn(t,e),qe(e,"TYPE","xmlhttp"),t.i&&t.l&&An(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ze(Ve(e)),n.j=null,n.I=!0,_e(n,t)}function Hn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function Gn(t,e){var n=null;if(t.a==e){Hn(t),zn(t),t.a=null;var r=2}else{if(!cn(t.b,e))return;n=e.s,hn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=I()-e.u;var i=t.u;(r=te()).dispatchEvent(new oe(r,n,e,i)),Vn(t)}else Fn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(un(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=se(_(t.Ba,t,e),$n(t,t.u)),t.u++,0)))}(t,e)||2==r&&qn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Wn(t,5);break;case 4:Wn(t,10);break;case 3:Wn(t,6);break;default:Wn(t,2)}}function $n(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Wn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_(t.Xa,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Le(n,"https"),ze(n)),function(t,e){var n=new Zt;if(f.Image){var r=new Image;r.onload=E(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(vn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ie(2);t.v=0,t.f&&t.f.ra(e),Kn(t),Pn(t)}function Kn(t){t.v=0,t.I=-1,t.f&&(0==fn(t.b).length&&0==t.g.length||(t.b.c.length=0,A(t.g),t.g.length=0),t.f.qa())}function Yn(t,e,n){var r=function(t){return t instanceof Re?Ve(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Me(r,e+"."+r.c),Ue(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Le(i,t),e&&Me(i,e),n&&Ue(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&L(t.W,function(t,e){qe(r,e,t)}),n=t.na,(e=t.A)&&n&&qe(r,e,n),qe(r,"VER",t.ha),Mn(t,r),r}function Qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t.Ka)).F=t.C,e}function Zn(){}function Xn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Jn(t,e){At.call(this),this.a=new Nn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new nr(this)}function tr(t){de.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function er(){pe.call(this),this.status=1}function nr(t){this.a=t}(c=mn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:he),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void In(this,o)}t=n||"";var i=new Ne(this.headers);r&&ke(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=En,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=T(_n,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=Ht(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){In(this,o)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Tn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Tn(this,!0)),mn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?Sn(this):this.Ta())},c.Ta=function(){Sn(this)},c.X=function(){try{return 2<xn(this)?this.a.status:-1}catch(B){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=Nn.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ve(this,this.c,t,void 0),r=this.l;if(this.O&&(r?F(r=M(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Un(this,n,e),qe(i=Ve(this.B),"RID",t),qe(i,"CVER",22),this.A&&qe(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&An(i,this.i,r),ln(this.b,n),this.Ga&&qe(i,"TYPE","init"),this.da?(qe(i,"$req",e),qe(i,"SID","null"),n.V=!0,we(n,i,null)):we(n,i,e),this.v=2}}else 3==this.v&&(t?Ln(this,t):0==this.g.length||an(this.b)||Ln(this))},c.Aa=function(){if(this.j=null,Bn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=se(_(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Dn(this),Bn(this))},c.Ra=function(){null!=this.m&&(this.m=null,Dn(this),qn(this),ie(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ie(2)):(this.c.info("Failed to ping google.com"),ie(1))},(c=Zn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Xn.prototype.a=function(t,e){return new Jn(t,e)},C(Jn,At),(c=Jn.prototype).addEventListener=function(t,e,n,r){Jn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Jn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ie(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Yn(t,null,t.fa),Vn(t)},c.close=function(){jn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.g?((e={}).__data__=Nt(t),Rn(this.a,e)):Rn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,jn(this.a),delete this.a,Jn.S.G.call(this)},C(tr,de),C(er,pe),C(nr,Zn),nr.prototype.ta=function(){this.a.dispatchEvent("a")},nr.prototype.sa=function(t){this.a.dispatchEvent(new tr(t))},nr.prototype.ra=function(t){this.a.dispatchEvent(new er(t))},nr.prototype.qa=function(){this.a.dispatchEvent("b")},Xn.prototype.createWebChannel=Xn.prototype.a,Jn.prototype.send=Jn.prototype.Pa,Jn.prototype.open=Jn.prototype.Oa,Jn.prototype.close=Jn.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,ue.COMPLETE="complete",le.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",At.prototype.listen=At.prototype.va,mn.prototype.listenOnce=mn.prototype.wa,mn.prototype.getLastError=mn.prototype.Qa,mn.prototype.getLastErrorCode=mn.prototype.ua,mn.prototype.getStatus=mn.prototype.X,mn.prototype.getResponseJson=mn.prototype.Na,mn.prototype.getResponseText=mn.prototype.$,mn.prototype.send=mn.prototype.ba;var rr=ae,ir=ue,or=le,sr=mn,ar=n("/6Yf"),ur={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),lr=new o.b("@firebase/firestore");function hr(){return lr.logLevel}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=o.a.DEBUG){var i=e.map(gr);lr.debug.apply(lr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function dr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=o.a.ERROR){var i=e.map(gr);lr.error.apply(lr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=o.a.WARN){var i=e.map(gr);lr.warn.apply(lr,Object(r.g)(["Firestore (8.0.0): "+t],i))}}function gr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function vr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+t;throw dr(e),new Error(e)}function yr(t,e){t||vr()}function mr(t,e){return t}function br(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=br(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _r(t,e){return t<e?-1:t>e?1:0}function Er(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ir(t){return t+"\0"}var Cr=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.h=function(t){return _r(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Cr.u=new Cr("");var Sr=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Cr.fromBase64String(e))}catch(e){throw new cr(ur.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Tr(){if("undefined"==typeof Uint8Array)throw new cr(ur.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Or(){if("undefined"==typeof atob)throw new cr(ur.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){Or();try{return new e(Cr.fromBase64String(t))}catch(t){throw new cr(ur.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Tr(),new e(Cr.fromUint8Array(t))},e.prototype.toBase64=function(){return Or(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Tr(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Sr),Ar=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},kr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return _r(this.projectId,t.projectId)||_r(this.database,t.database)},t}();function Nr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pr=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.A(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jr(this.R,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.P=function(){return Dr(this.R)},t}(),Rr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cr(ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cr(ur.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cr(ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cr(ur.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?_r(this.nanoseconds,t.nanoseconds):_r(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vr=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Rr(0,0))},t.prototype.h=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),Lr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&vr(),void 0===n?n=t.length-e:n>t.length-e&&vr(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.k=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new cr(ur.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.U=function(){return new e([])},e}(Lr),Ur=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Ur.test(t)},e.prototype.B=function(){return this.L().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new cr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new cr(ur.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new cr(ur.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new cr(ur.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(Lr),qr=function(){function t(t){this.path=t}return t.H=function(e){return new t(Mr.q(e))},t.J=function(e){return new t(Mr.q(e).N(5))},t.prototype.Y=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mr.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Mr.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Mr(e.slice()))},t}();function zr(t){return null==t}function Br(t){return 0===t&&1/t==-1/0}function Hr(t){return"number"==typeof t&&Number.isInteger(t)&&!Br(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Gr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function $r(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Gr(t,e,n,r,i,o,s)}function Wr(t){var e=mr(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.B()+t.op.toString()+Mi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.B()+e.dir;var e}).join(","),zr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Bs(e.startAt)),e.endAt&&(n+="|ub:",n+=Bs(e.endAt)),e.tt=n}return e.tt}function Kr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ks(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Pi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gs(t.startAt,e.startAt)&&Gs(t.endAt,e.endAt)}function Yr(t){return qr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qr,Zr,Xr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vr.min()),void 0===o&&(o=Vr.min()),void 0===s&&(s=Cr.u),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Jr=function(t){this.count=t};function ti(t){switch(t){case ur.OK:return vr();case ur.CANCELLED:case ur.UNKNOWN:case ur.DEADLINE_EXCEEDED:case ur.RESOURCE_EXHAUSTED:case ur.INTERNAL:case ur.UNAVAILABLE:case ur.UNAUTHENTICATED:return!1;case ur.INVALID_ARGUMENT:case ur.NOT_FOUND:case ur.ALREADY_EXISTS:case ur.PERMISSION_DENIED:case ur.FAILED_PRECONDITION:case ur.ABORTED:case ur.OUT_OF_RANGE:case ur.UNIMPLEMENTED:case ur.DATA_LOSS:return!0;default:return vr()}}function ei(t){if(void 0===t)return dr("GRPC error has no .code"),ur.UNKNOWN;switch(t){case Qr.OK:return ur.OK;case Qr.CANCELLED:return ur.CANCELLED;case Qr.UNKNOWN:return ur.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return ur.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return ur.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return ur.INTERNAL;case Qr.UNAVAILABLE:return ur.UNAVAILABLE;case Qr.UNAUTHENTICATED:return ur.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return ur.INVALID_ARGUMENT;case Qr.NOT_FOUND:return ur.NOT_FOUND;case Qr.ALREADY_EXISTS:return ur.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return ur.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return ur.FAILED_PRECONDITION;case Qr.ABORTED:return ur.ABORTED;case Qr.OUT_OF_RANGE:return ur.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return ur.UNIMPLEMENTED;case Qr.DATA_LOSS:return ur.DATA_LOSS;default:return vr()}}(Zr=Qr||(Qr={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";var ni=function(){function t(t,e){this.D=t,this.root=e||ii.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ii.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ii.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ut(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ri(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new ri(this.root,t,this.D,!1)},t.prototype.dt=function(){return new ri(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new ri(this.root,t,this.D,!0)},t}(),ri=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ii=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.P=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.Vt()||i.left.left.Vt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Vt()&&(i=i.bt()),i.right.P()||i.right.Vt()||i.right.left.Vt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Vt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.St()),t.left.Vt()&&t.left.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.right.Vt()&&(t=t.Dt()),t},t.prototype.yt=function(){var t=this.Dt();return t.right.left.Vt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.Vt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.Vt()&&this.left.Vt())throw vr();if(this.right.Vt())throw vr();var t=this.left.Nt();if(t!==this.right.Nt())throw vr();return t+(this.Vt()?0:1)},t}();ii.EMPTY=null,ii.RED=!0,ii.at=!1,ii.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw vr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw vr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ii(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ht=function(){return null},t.prototype.ct=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var oi=function(){function t(t){this.D=t,this.data=new ni(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut(function(e,n){return t(e),!1})},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.kt=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new si(this.data._t())},t.prototype.ft=function(t){return new si(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.Ot=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),si=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),ai=new ni(qr.D);function ui(){return ai}function ci(){return ui()}var li=new ni(qr.D);function hi(){return li}var fi=new ni(qr.D),di=new oi(qr.D);function pi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=di,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var gi=new oi(_r);function vi(){return gi}var yi=function(){function t(t){this.D=t?function(e,n){return t(e,n)||qr.D(e.key,n.key)}:function(t,e){return qr.D(t.key,e.key)},this.$t=hi(),this.Lt=new ni(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ht()},t.prototype.last=function(){return this.Lt.ct()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ut(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),mi=function(){function t(){this.qt=new ni(qr.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):vr():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ut(function(e,n){t.push(n)}),t},t}(),bi=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,yi.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&xs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),wi=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Jt=r,this.Yt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,_i.Zt(e,n)),new t(Vr.min(),r,vi(),ui(),pi())},t}(),_i=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Cr.u,n,pi(),pi(),pi())},t}(),Ei=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Ii=function(t,e){this.targetId=t,this.oe=e},Ci=function(t,e,n,r){void 0===n&&(n=Cr.u),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Si=function(){function t(){this.ae=0,this.he=xi(),this.ce=Cr.u,this.ue=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ce=t)},t.prototype.we=function(){var t=pi(),e=pi(),n=pi();return this.he.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:vr()}}),new _i(this.ce,this.ue,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.he=xi()},t.prototype.Te=function(t,e){this.le=!0,this.he=this.he.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.he=this.he.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.ue=!0},t}(),Ti=function(){function t(t){this.Pe=t,this.ge=new Map,this.Ve=ui(),this.ye=Oi(),this.pe=new oi(_r)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof fs?this.ve(r,t.re):t.re instanceof ds&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:vr()}})},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach(function(t,r){n.xe(r)&&e(r)})},t.prototype.ke=function(t){var e=t.targetId,n=t.oe.count,r=this.Oe(e);if(r){var i=r.target;if(Yr(i))if(0===n){var o=new qr(i.path);this.Se(e,o,new ds(o,Vr.min()))}else yr(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach(function(r,i){var o=e.Oe(i);if(o){if(r.te&&Yr(o.target)){var s=new qr(o.target.path);null!==e.Ve.get(s)||e.Le(i,s)||e.Se(i,s,new ds(s,t))}r.fe&&(n.set(i,r.we()),r.Ee())}});var r=pi();this.ye.forEach(function(t,n){var i=!0;n.Ft(function(t){var n=e.Oe(t);return!n||2===n.et||(i=!1,!1)}),i&&(r=r.add(t))});var i=new wi(t,n,this.pe,this.Ve,r);return this.Ve=ui(),this.ye=Oi(),this.pe=new oi(_r),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.Ve=this.Ve.ot(e.key,e),this.ye=this.ye.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.ye=this.ye.ot(e,this.Be(e).delete(t)),n&&(this.Ve=this.Ve.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Si,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.ye.get(t);return e||(e=new oi(_r),this.ye=this.ye.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.Oe(t);return e||fr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Oe=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new Si),this.Pe.qe(t).forEach(function(n){e.Se(t,n,null)})},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Oi(){return new ni(qr.D)}function xi(){return new ni(qr.D)}function Ai(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ki(t){var e=t.mapValue.fields.__previous_value__;return Ai(e)?ki(e):e}function Ni(t){var e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}var ji=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ai(t)?4:10:vr()}function Pi(t,e){var n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ni(t).isEqual(Ni(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Fi(t.timestampValue),r=Fi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return zi(t.bytesValue).isEqual(zi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return qi(t.geoPointValue.latitude)===qi(e.geoPointValue.latitude)&&qi(t.geoPointValue.longitude)===qi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return qi(t.integerValue)===qi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=qi(t.doubleValue),r=qi(e.doubleValue);return n===r?Br(n)===Br(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Er(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Nr(n)!==Nr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(t,e);default:return vr()}}function Ri(t,e){return void 0!==(t.values||[]).find(function(t){return Pi(t,e)})}function Vi(t,e){var n=Di(t),r=Di(e);if(n!==r)return _r(n,r);switch(n){case 0:return 0;case 1:return _r(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=qi(t.integerValue||t.doubleValue),r=qi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Li(t.timestampValue,e.timestampValue);case 4:return Li(Ni(t),Ni(e));case 5:return _r(t.stringValue,e.stringValue);case 6:return function(t,e){var n=zi(t),r=zi(e);return n.h(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_r(n[i],r[i]);if(0!==o)return o}return _r(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_r(qi(t.latitude),qi(e.latitude));return 0!==n?n:_r(qi(t.longitude),qi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vi(n[i],r[i]);if(o)return o}return _r(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=_r(r[s],o[s]);if(0!==a)return a;var u=Vi(n[r[s]],i[o[s]]);if(0!==u)return u}return _r(r.length,o.length)}(t.mapValue,e.mapValue);default:throw vr()}}function Li(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _r(t,e);var n=Fi(t),r=Fi(e),i=_r(n.seconds,r.seconds);return 0!==i?i:_r(n.nanos,r.nanos)}function Mi(t){return Ui(t)}function Ui(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Fi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zi(t.bytesValue).toBase64():"referenceValue"in t?qr.J(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ui(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ui(t.fields[o])}return e+"}"}(t.mapValue):vr();var e}function Fi(t){if(yr(!!t),"string"==typeof t){var e=0,n=ji.exec(t);if(yr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qi(t.seconds),nanos:qi(t.nanos)}}function qi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function zi(t){return"string"==typeof t?Cr.fromBase64String(t):Cr.fromUint8Array(t)}function Bi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Hi(t){return!!t&&"integerValue"in t}function Gi(t){return!!t&&"arrayValue"in t}function $i(t){return!!t&&"nullValue"in t}function Wi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ki(t){return!!t&&"mapValue"in t}var Yi={asc:"ASCENDING",desc:"DESCENDING"},Qi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zi=function(t,e){this._=t,this.Ke=e};function Xi(t){return{integerValue:""+t}}function Ji(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Br(e)?"-0":e}}function to(t,e){return Hr(e)?Xi(e):Ji(t,e)}function eo(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function no(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function ro(t,e){return eo(t,e.v())}function io(t){return yr(!!t),Vr.V(function(t){var e=Fi(t);return new Rr(e.seconds,e.nanos)}(t))}function oo(t,e){return function(t){return new Mr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function so(t){var e=Mr.q(t);return yr(ko(e)),e}function ao(t,e){return oo(t._,e.path)}function uo(t,e){var n=so(e);return yr(n.get(1)===t._.projectId),yr(!n.get(3)&&!t._.database||n.get(3)===t._.database),new qr(fo(n))}function co(t,e){return oo(t._,e)}function lo(t){var e=so(t);return 4===e.length?Mr.U():fo(e)}function ho(t){return new Mr(["projects",t._.projectId,"databases",t._.database]).B()}function fo(t){return yr(t.length>4&&"documents"===t.get(4)),t.N(5)}function po(t,e,n){return{name:ao(t,e),fields:n.proto.mapValue.fields}}function go(t,e){var n;if(e instanceof ts)n={update:po(t,e.key,e.value)};else if(e instanceof ss)n={delete:ao(t,e.key)};else if(e instanceof es)n={update:po(t,e.key,e.data),updateMask:Ao(e.Qe)};else if(e instanceof rs)n={transform:{document:ao(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ro)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vo)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof Mo)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.B(),increment:n.We};throw vr()}(0,t)})}};else{if(!(e instanceof as))return vr();n={verify:ao(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ro(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:vr()}(t,e.Ge)),n}function vo(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?$o.updateTime(io(t.updateTime)):void 0!==t.exists?$o.exists(t.exists):$o.ze()}(e.currentDocument):$o.ze();if(e.update){var r=uo(t,e.update.name),i=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Bo((t.fieldPaths||[]).map(function(t){return Fr.G(t)}))}(e.updateMask);return new es(r,i,o,n)}return new ts(r,i,n)}if(e.delete){var s=uo(t,e.delete);return new ss(s,n)}if(e.transform){var a=uo(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(yr("REQUEST_TIME"===e.setToServerValue),n=new Ro):"appendMissingElements"in e?n=new Vo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Mo(e.removeAllFromArray.values||[]):"increment"in e?n=new Fo(t,e.increment):vr();var r=Fr.G(e.fieldPath);return new Ho(r,n)}(t,e)});return yr(!0===n.exists),new rs(a,u)}if(e.verify){var c=uo(t,e.verify);return new as(c,n)}return vr()}function yo(t,e){return{documents:[co(t,e.path)]}}function mo(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=co(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=co(t,r.F()),n.structuredQuery.from=[{collectionId:r.O()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wi(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NAN"}};if($i(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wi(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NAN"}};if($i(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(t.field),op:Co(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:So(t.field),direction:Io(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ke||zr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=_o(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_o(e.endAt)),n}function bo(t){var e=lo(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=wo(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new $s(To(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return zr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Eo(n.startAt));var l=null;return n.endAt&&(l=Eo(n.endAt)),Cs(vs(e,i,a,s,u,"F",c,l))}function wo(t){return t?void 0!==t.unaryFilter?[xo(t)]:void 0!==t.fieldFilter?[Oo(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return wo(t)}).reduce(function(t,e){return t.concat(e)}):vr():[]}function _o(t){return{before:t.before,values:t.position}}function Eo(t){return new zs(t.values||[],!!t.before)}function Io(t){return Yi[t]}function Co(t){return Qi[t]}function So(t){return{fieldPath:t.B()}}function To(t){return Fr.G(t.fieldPath)}function Oo(t){return Ds.create(To(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return vr()}}(t.fieldFilter.op),t.fieldFilter.value)}function xo(t){switch(t.unaryFilter.op){case"IS_NAN":var e=To(t.unaryFilter.field);return Ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=To(t.unaryFilter.field);return Ds.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=To(t.unaryFilter.field);return Ds.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=To(t.unaryFilter.field);return Ds.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return vr()}}function Ao(t){var e=[];return t.fields.forEach(function(t){return e.push(t.B())}),{fieldPaths:e}}function ko(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var No=function(){this.He=void 0};function jo(t,e,n){return t instanceof Ro?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vo?Lo(t,e):t instanceof Mo?Uo(t,e):function(t,e){var n=Po(t,e),r=qo(n)+qo(t.We);return Hi(n)&&Hi(t.We)?Xi(r):Ji(t.serializer,r)}(t,e)}function Do(t,e,n){return t instanceof Vo?Lo(t,e):t instanceof Mo?Uo(t,e):n}function Po(t,e){return t instanceof Fo?Hi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(No),Vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(No);function Lo(t,e){for(var n=zo(e),r=function(t){n.some(function(e){return Pi(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Mo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(No);function Uo(t,e){for(var n=zo(e),r=function(t){n=n.filter(function(e){return!Pi(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(r.c)(e,t),e}(No);function qo(t){return qi(t.integerValue||t.doubleValue)}function zo(t){return Gi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Bo=function(){function t(t){this.fields=t,t.sort(Fr.D)}return t.prototype.Je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return Er(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ho=function(t,e){this.field=t,this.transform=e},Go=function(t,e){this.version=t,this.transformResults=e},$o=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Wo(t,e){return void 0!==t.updateTime?e instanceof fs&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof fs}var Ko=function(){};function Yo(t,e,n){return t instanceof ts?function(t,e,n){return new fs(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof es?function(t,e,n){if(!Wo(t.Ge,e))return new ps(t.key,n.version);var r=ns(t,e);return new fs(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof rs?function(t,e,n){if(yr(null!=n.transformResults),!Wo(t.Ge,e))return new ps(t.key,n.version);var r=is(0,e),i=function(t,e,n){var r=[];yr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof fs&&(a=e.field(o.field)),r.push(Do(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=os(t,r.data(),i);return new fs(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ds(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Qo(t,e,n,r){return t instanceof ts?function(t,e){if(!Wo(t.Ge,e))return e;var n=Jo(e);return new fs(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof es?function(t,e){if(!Wo(t.Ge,e))return e;var n=Jo(e),r=ns(t,e);return new fs(t.key,n,r,{Ye:!0})}(t,e):t instanceof rs?function(t,e,n,r){if(!Wo(t.Ge,e))return e;var i=is(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof fs&&(c=n.field(a.field)),null===c&&r instanceof fs&&(c=r.field(a.field)),i.push(jo(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=os(t,i.data(),o);return new fs(t.key,i.version,s,{Ye:!0})}(t,e,r,n):function(t,e){return Wo(t.Ge,e)?new ds(t.key,Vr.min()):e}(t,e)}function Zo(t,e){return t instanceof rs?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof fs?e.field(o.field):void 0,a=Po(o.transform,s||null);null!=a&&(n=null==n?(new cs).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function Xo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Er(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vo&&e instanceof Vo||t instanceof Mo&&e instanceof Mo?Er(t.elements,e.elements,Pi):t instanceof Fo&&e instanceof Fo?Pi(t.We,e.We):t instanceof Ro&&e instanceof Ro}(t.transform,e.transform)}(t,e)}))}function Jo(t){return t instanceof fs?t.version:Vr.min()}var ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(r.c)(e,t),e}(Ko),es=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return Object(r.c)(e,t),e}(Ko);function ns(t,e){return function(t,e){var n=new cs(e);return t.Qe.fields.forEach(function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Xe()}(t,e instanceof fs?e.data():us.empty())}var rs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=$o.exists(!0),r}return Object(r.c)(e,t),e}(Ko);function is(t,e){return e}function os(t,e,n){for(var r=new cs(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var ss=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(r.c)(e,t),e}(Ko),as=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(r.c)(e,t),e}(Ko),us=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ki(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return Pi(this.proto,t.proto)},t}(),cs=function(){function t(t){void 0===t&&(t=us.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Di(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.Xe=function(){var t=this.nn(Fr.U(),this.tn);return null!=t?new us(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Ki(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function ls(t){var e=[];return jr(t.fields||{},function(t,n){var r=new Fr([t]);if(Ki(n)){var i=ls(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Bo(e)}var hs=function(t,e){this.key=t,this.version=e},fs=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(r.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(hs),ds=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hs),ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hs),gs=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.hn=null,this.cn=null};function vs(t,e,n,r,i,o,s,a){return new gs(t,e,n,r,i,o,s,a)}function ys(t){return new gs(t)}function ms(t){return!zr(t.limit)&&"F"===t.an}function bs(t){return!zr(t.limit)&&"L"===t.an}function ws(t){return t.on.length>0?t.on[0].field:null}function _s(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function Es(t){return null!==t.collectionGroup}function Is(t){var e=mr(t);if(null===e.hn){e.hn=[];var n=_s(e),r=ws(e);if(null!==n&&null===r)n.W()||e.hn.push(new $s(n)),e.hn.push(new $s(Fr.j(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.hn.push(a),a.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.hn.push(new $s(Fr.j(),u))}}}return e.hn}function Cs(t){var e=mr(t);if(!e.cn)if("F"===e.an)e.cn=$r(e.path,e.collectionGroup,Is(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Is(e);r<i.length;r++){var o=i[r];n.push(new $s(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new zs(e.endAt.position,!e.endAt.before):null,a=e.startAt?new zs(e.startAt.position,!e.startAt.before):null;e.cn=$r(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.cn}function Ss(t,e,n){return new gs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ts(t,e){return new gs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Os(t,e){return new gs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function xs(t,e){return Kr(Cs(t),Cs(e))&&t.an===e.an}function As(t){return Wr(Cs(t))+"|lt:"+t.an}function ks(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.B()+" "+e.op+" "+Mi(e.value);var e}).join(", ")+"]"),zr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.B()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Bs(t.startAt)),t.endAt&&(e+=", endAt: "+Bs(t.endAt)),"Target("+e+")"}(Cs(t))+"; limitType="+t.an+")"}function Ns(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Y(t.collectionGroup)&&t.path.M(n):qr.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hs(t.startAt,Is(t),e)||t.endAt&&Hs(t.endAt,Is(t),e))}(t,e)}function js(t){return function(e,n){for(var r=!1,i=0,o=Is(t);i<o.length;i++){var s=o[i],a=Ws(s,e,n);if(0!==a)return a;r=r||s.field.W()}return 0}}var Ds=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Ps(t,n,r):"array-contains"===n?new Ms(t,r):"in"===n?new Us(t,r):"not-in"===n?new Fs(t,r):"array-contains-any"===n?new qs(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Rs(t,n):new Vs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Vi(e,this.value)):null!==e&&Di(this.value)===Di(e)&&this._n(Vi(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return vr()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ps=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=qr.J(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=qr.D(t.key,this.key);return this._n(e)},e}(Ds),Rs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ls(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ds),Vs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ls(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ds);function Ls(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return qr.J(t.referenceValue)})}var Ms=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Gi(e)&&Ri(e.arrayValue,this.value)},e}(Ds),Us=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ri(this.value.arrayValue,e)},e}(Ds),Fs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Ri(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ri(this.value.arrayValue,e)},e}(Ds),qs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Gi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ri(e.value.arrayValue,t)})},e}(Ds),zs=function(t,e){this.position=t,this.before=e};function Bs(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mi(t)}).join(",")}function Hs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.W()?qr.D(qr.J(s.referenceValue),n.key):Vi(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}var $s=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ws(t,e,n){var r=t.field.W()?qr.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Vi(r,i):vr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vr()}}function Ks(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ys=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Qs=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&fr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.Vn(this.dn,i,function(){return e.An=Date.now(),t()}),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.yn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Zs=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t(function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)},function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&vr(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}})},t.prototype.xn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.kn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.On=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.kn(r)},t}(),Xs=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(s.j)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return fr("SimpleDb","Removing database:",t),ia(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(s.j)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(fr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ta(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new cr(ur.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ta(t,n))},i.onupgradeneeded=function(t){fr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){fr("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}})})},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s,a,u,c;return Object(r.d)(this,function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return Object(r.d)(this,function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Qn(t)];case 2:return u.db=r.sent(),e=na.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch(function(t){return e.abort(t),Zs.reject(t)}).xn(),c={},a.catch(function(){}),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return fr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Js=function(){function t(t){this.zn=t,this.Hn=!1,this.Jn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Jn=t},t.prototype.delete=function(){return ia(this.zn.delete())},t}(),ta=function(t){function e(e,n){var r=this;return(r=t.call(this,ur.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(cr);function ea(t){return"IndexedDbTransactionError"===t.name}var na=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Ys,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new ta(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=sa(e.target.error);n.Zn.reject(new ta(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ta(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(fr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ra(e)},t}(),ra=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(fr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(fr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ia(n)},t.prototype.add=function(t){return fr("SimpleDb","ADD",this.store.name,t,t),ia(this.store.add(t))},t.prototype.get=function(t){var e=this;return ia(this.store.get(t)).next(function(n){return void 0===n&&(n=null),fr("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return fr("SimpleDb","DELETE",this.store.name,t),ia(this.store.delete(t))},t.prototype.count=function(){return fr("SimpleDb","COUNT",this.store.name),ia(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.ns=function(t,e){fr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,function(t,e,n){return n.delete()})},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Zs(function(n,r){e.onerror=function(t){var e=sa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.es=function(t,e){var n=[];return new Zs(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Js(i),s=e(i.primaryKey,i.value,o);if(s instanceof Zs){var a=s.catch(function(t){return o.done(),Zs.reject(t)});n.push(a)}o.Sn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}}).next(function(){return Zs.kn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ia(t){return new Zs(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=sa(t.target.error);n(e)}})}var oa=!1;function sa(t){var e=Xs.$n(Object(s.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new cr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oa||(oa=!0,setTimeout(function(){throw r},0)),r}}return t}function aa(){return"undefined"!=typeof window?window:null}function ua(){return"undefined"!=typeof document?document:null}var ca=function(){function t(t,e,n,r,i){this.hs=t,this.dn=e,this.cs=n,this.op=r,this.us=i,this.ls=new Ys,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(t){})}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout(function(){return e.ds()},t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new cr(ur.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.hs.ws(function(){return null!==t.fs?(t.clearTimeout(),t.op().then(function(e){return t.ls.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fs&&(this.us(this),clearTimeout(this.fs),this.fs=null)},t}(),la=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new Qs(this,"async_queue_retry"),this.ys=function(){var e=ua();e&&fr("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Vs.yn()};var e=ua();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=ua();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise(function(t){}):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws(function(){return e.Ts.push(t),e.Ns()})},t.prototype.Ns=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e=this;return Object(r.d)(this,function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!ea(t=n.sent()))throw t;return fr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.Vs.Pn(function(){return e.Ns()}),n.label=5;case 5:return[2]}})})},t.prototype.Ss=function(t){var e=this,n=this.Es.then(function(){return e.Ps=!0,t().catch(function(t){throw e.Rs=t,e.Ps=!1,dr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ps=!1,t})});return this.Es=n,n},t.prototype.Vn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=ca._s(this,t,e,n,function(t){return r.xs(t)});return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&vr()},t.prototype.Fs=function(){},t.prototype.ks=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Os=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.ks().then(function(){e.As.sort(function(t,e){return t.cs-e.cs});for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.ks()})},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function ha(t,e){if(dr("AsyncQueue",e+": "+t),ea(t))return new cr(ur.UNAVAILABLE,e+": "+t);throw t}var fa=function(){this.Ls=void 0,this.listeners=[]},da=function(){this.Bs=new Pr(function(t){return As(t)},xs),this.onlineState="Unknown",this.qs=new Set};function pa(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return Object(r.d)(this,function(r){switch(r.label){case 0:if(n=mr(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new fa),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=ha(u,"Initialization of query '"+ks(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Ks(n.onlineState),s.Ls&&e.Qs(s.Ls)&&ma(n),[2]}})})}function ga(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.d)(this,function(r){return n=mr(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.Ws(i))]:[2]})})}function va(t,e){for(var n=mr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(s)&&(r=!0);a.Ls=s}}r&&ma(n)}function ya(t,e,n){var r=mr(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function ma(t){t.qs.forEach(function(t){t.next()})}var ba=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new bi(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Js(t,this.onlineState)&&(this.Ys(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Js(this.zs,t)&&(this.Ys(this.zs),e=!0),e},t.prototype.Js=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=bi.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),wa=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();wa.UNAUTHENTICATED=new wa(null),wa.ei=new wa("google-credentials-uid"),wa.ni=new wa("first-party-uid");var _a=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Ea(t,e){return"firestore_clients_"+t+"_"+e}function Ia(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Ca(t,e){return"firestore_targets_"+t+"_"+e}_a.ai=-1;var Sa=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.hi=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new cr(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(dr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ta=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.hi=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new cr(r.error.code,r.error.message)),i?new t(e,r.state,o):(dr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Oa=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.hi=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=vi(),s=0;i&&s<r.activeTargetIds.length;++s)i=Hr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(dr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),xa=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.hi=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(dr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Aa=function(){function t(){this.activeTargetIds=vi()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ka=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new ni(_r),this.Ii=!1,this.mi=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Ea(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Aa),this.Pi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e,n,i,o,s,a,u,c,l,h=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Ea(this.persistenceKey,i)))&&(s=Oa.hi(i,o))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.yi))&&(u=this.vi(a))&&this.Si(u),c=0,l=this.mi;c<l.length;c++)this.Ei(l[c]);return this.mi=[],this.window.addEventListener("unload",function(){return h.Di()}),this.Ii=!0,[2]}})})},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.xi=function(t){var e=!1;return this.Ti.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Fi=function(t){this.ki(t,"pending")},t.prototype.Oi=function(t,e,n){this.ki(t,e,n),this.Mi(t)},t.prototype.$i=function(t){var e="not-current";if(this.xi(t)){var n=this.storage.getItem(Ca(this.persistenceKey,t));if(n){var r=Ta.hi(t,n);r&&(e=r.state)}}return this.Li.ui(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Ca(this.persistenceKey,t))},t.prototype.Ki=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach(function(t){r.Mi(t)}),this.currentUser=t,n.forEach(function(t){r.Fi(t)})},t.prototype.ji=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return fr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){fr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){fr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ei=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(fr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return Object(r.b)(e,void 0,void 0,function(){var t,e,i,o,s,a;return Object(r.d)(this,function(r){if(this.Ii){if(null!==n.key)if(this.Pi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Ji(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.Vi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(t){var e=_a.ai;if(null!=t)try{var n=JSON.parse(t);yr("number"==typeof n),e=n}catch(t){dr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==_a.ai&&this.si(a)}else this.mi.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},t.prototype.ki=function(t,e,n){var r=new Sa(this.currentUser,t,e,n),i=Ia(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.Mi=function(t){var e=Ia(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.yi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Qi=function(t,e,n){var r=Ca(this.persistenceKey,t),i=new Ta(t,e,n);this.setItem(r,i.ci())},t.prototype.zi=function(t){var e=this.Pi.exec(t);return e?e[1]:null},t.prototype.Ji=function(t,e){var n=this.zi(t);return Oa.hi(n,e)},t.prototype.Yi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return Sa.hi(new wa(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.Vi.exec(t),r=Number(n[1]);return Ta.hi(r,e)},t.prototype.vi=function(t){return xa.hi(t)},t.prototype.Xi=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(fr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fi.sr(s,a).then(function(){n.Ti=r})},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=vi();return t.forEach(function(t,n){e=e.Ot(n.activeTargetIds)}),e},t}(),Na=function(){function t(){this.ir=new Aa,this.rr={},this.di=null,this.si=null}return t.prototype.Fi=function(t){},t.prototype.Oi=function(t,e,n){},t.prototype.$i=function(t){return this.ir.ui(t),this.rr[t]||"not-current"},t.prototype.Ki=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.xi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Aa,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),ja=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.hr=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Yo(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Qo(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Qo(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},pi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Er(this.mutations,t.mutations,function(t,e){return Xo(t,e)})&&Er(this.baseMutations,t.baseMutations,function(t,e){return Xo(t,e)})},t}(),Da=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.cr=n,this.dr=r}return t.from=function(e,n,r){yr(e.mutations.length===r.length);for(var i=fi,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Pa=function(){function t(){this.wr=new Pr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Er=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Ir=function(t,e){this.mr(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.mr(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.mr();var n=this.wr.get(e);return void 0!==n?Zs.resolve(n):this.Pr(t,e)},t.prototype.getEntries=function(t,e){return this.gr(t,e)},t.prototype.apply=function(t){return this.mr(),this.Er=!0,this.Vr(t)},t.prototype.mr=function(){},t}(),Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Va=function(){function t(){this.yr=[]}return t.prototype.pr=function(t){this.yr.push(t)},t.prototype.br=function(){this.yr.forEach(function(t){return t()})},t}(),La=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next(function(r){return n.Fr(t,e,r)})},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t})},t.prototype.kr=function(t,e,n){var r=ci();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.ot(t,e)}),r},t.prototype.Or=function(t,e){var n=this;return this.vr.getEntries(t,e).next(function(e){return n.Mr(t,e)})},t.prototype.Mr=function(t,e){var n=this;return this.Sr.$r(t,e).next(function(r){var i=n.kr(t,e,r),o=ui();return i.forEach(function(t,e){e||(e=new ds(t,Vr.min())),o=o.ot(t,e)}),o})},t.prototype.Lr=function(t,e,n){return function(t){return qr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Es(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new qr(e)).next(function(t){var e=hi();return t instanceof fs&&(e=e.ot(t.key,t)),e})},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=hi();return this.Dr.Kr(t,i).next(function(s){return Zs.forEach(s,function(s){var a=function(t,e){return new gs(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Ur(t,a,n).next(function(t){t.forEach(function(t,e){o=o.ot(t,e)})})}).next(function(){return o})})},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next(function(n){return r=n,o.Sr.Qr(t,e)}).next(function(e){return o.Wr(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Qo(u,l,l,o.ar);r=h instanceof fs?r.ot(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ns(e,n)||(r=r.remove(t))}),r})},t.prototype.Wr=function(t,e,n){for(var r=pi(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof es&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof fs&&(c=c.ot(t,e))}),c})},t}(),Ma=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Gr=r}return t.zr=function(e,n){for(var r=pi(),i=pi(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function Ua(t,e){var n=t[1],r=e[1],i=_r(t[0],e[0]);return 0===i?_r(n,r):i}var Fa=function(){function t(t){this.Hr=t,this.buffer=new oi(Ua),this.Jr=0}return t.prototype.Yr=function(){return++this.Jr},t.prototype.Xr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ua(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qa={Zr:!1,eo:0,no:0,so:0},za=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.ho,t.co)},t}();za.uo=-1,za.lo=1048576,za._o=41943040,za.ho=10,za.co=1e3,za.fo=new za(za._o,za.ho,za.co),za.do=new za(za.uo,0,0);var Ba=function(){function t(t,e){this.wo=t,this.hs=e,this.Eo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==za.uo&&this.Io(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ii",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Io=function(t){var e=this,n=this.Eo?3e5:6e4;fr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.hs.Vn("lru_garbage_collection",n,function(){return Object(r.b)(e,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:this.To=null,this.Eo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mo(this.wo)];case 2:return n.sent(),[3,7];case 3:return ea(e=n.sent())?(fr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,uc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Io(t)];case 8:return n.sent(),[2]}})})})},t}(),Ha=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Vo=function(t,e){var n=this;if(0===e)return Zs.resolve(_a.ai);var r=new Fa(e);return this.Ao.Ce(t,function(t){return r.Xr(t.sequenceNumber)}).next(function(){return n.Ao.yo(t,function(t){return r.Xr(t)})}).next(function(){return r.maxValue})},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===za.uo?(fr("LruGarbageCollector","Garbage collection skipped; disabled"),Zs.resolve(qa)):this.So(t).next(function(r){return r<n.params.io?(fr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),qa):n.Do(t,e)})},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next(function(e){return e>l.params.oo?(fr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,s=Date.now(),l.Vo(t,r)}).next(function(r){return n=r,a=Date.now(),l.po(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.bo(t,n)}).next(function(t){return c=Date.now(),hr()<=o.a.DEBUG&&fr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Zs.resolve({Zr:!0,eo:r,no:i,so:t})})},t}();function Ga(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wa(e)),e=$a(t.get(n),e);return Wa(e)}function $a(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Wa(t){return t+"\x01\x01"}function Ka(t){var e=t.length;if(yr(e>=2),2===e)return yr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mr.U();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&vr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:vr()}o=s+2}return new Mr(r)}var Ya=function(t){this.Co=t};function Qa(t,e){if(e.document)return function(t,e,n){var r=uo(t,e.name),i=io(e.updateTime),o=new us({mapValue:{fields:e.fields}});return new fs(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=qr.Z(e.noDocument.path),r=eu(e.noDocument.readTime);return new ds(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=qr.Z(e.unknownDocument.path),o=eu(e.unknownDocument.version);return new ps(i,o)}return vr()}function Za(t,e,n){var r=Xa(n),i=e.key.path.F().L();if(e instanceof fs){var o=function(t,e){return{name:ao(t,e.key),fields:e.rn().mapValue.fields,updateTime:eo(t,e.version.v())}}(t.Co,e);return new Ou(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof ds){var s=e.key.path.L(),a=tu(e.version),u=e.hasCommittedMutations;return new Ou(null,new Su(s,a),null,u,r,i)}if(e instanceof ps){var c=e.key.path.L(),l=tu(e.version);return new Ou(new Tu(c,l),null,null,!0,r,i)}return vr()}function Xa(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Ja(t){var e=new Rr(t[0],t[1]);return Vr.V(e)}function tu(t){var e=t.v();return new wu(e.seconds,e.nanoseconds)}function eu(t){var e=new Rr(t.seconds,t.nanoseconds);return Vr.V(e)}function nu(t,e){var n=(e.baseMutations||[]).map(function(e){return vo(t.Co,e)}),r=e.mutations.map(function(e){return vo(t.Co,e)}),i=Rr.fromMillis(e.localWriteTimeMs);return new ja(e.batchId,i,n,r)}function ru(t){var e,n,r=eu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?eu(t.lastLimboFreeSnapshotVersion):Vr.min();return void 0!==t.query.documents?(yr(1===(n=t.query).documents.length),e=Cs(ys(lo(n.documents[0])))):e=bo(t.query),new Xr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Cr.fromBase64String(t.resumeToken))}function iu(t,e){var n,r=tu(e.nt),i=tu(e.lastLimboFreeSnapshotVersion);n=Yr(e.target)?yo(t.Co,e.target):mo(t.Co,e.target);var o=e.resumeToken.toBase64();return new Au(e.targetId,Wr(e.target),r,o,e.sequenceNumber,i,n)}var ou=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.xo={}}return t.Fo=function(e,n,r,i){return yr(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.ko=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).rs({index:Iu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Oo=function(t,e,n,r){var i=this,o=cu(t),s=uu(t);return s.add({}).next(function(a){yr("number"==typeof a);for(var u=new ja(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return go(t.Co,e)}),i=n.mutations.map(function(e){return go(t.Co,e)});return new Iu(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new oi(function(t,e){return _r(t.B(),e.B())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Cu.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),l.push(s.put(c)),l.push(o.put(g,Cu.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Dr.Mo(t,e))}),t.pr(function(){i.xo[a]=u.keys()}),Zs.kn(l).next(function(){return u})})},t.prototype.$o=function(t,e){var n=this;return uu(t).get(e).next(function(t){return t?(yr(t.userId===n.userId),nu(n.serializer,t)):null})},t.prototype.Lo=function(t,e){var n=this;return this.xo[e]?Zs.resolve(this.xo[e]):this.$o(t,e).next(function(t){if(t){var r=t.keys();return n.xo[e]=r,r}return null})},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return uu(t).rs({index:Iu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(yr(e.batchId>=r),o=nu(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uu(t).rs({index:Iu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).ts(Iu.userMutationsIndex,n).next(function(t){return t.map(function(t){return nu(e.serializer,t)})})},t.prototype.Nr=function(t,e){var n=this,r=Cu.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cu(t).rs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Ka(r[1]);if(a===n.userId&&e.path.isEqual(c))return uu(t).get(u).next(function(t){if(!t)throw vr();yr(t.userId===n.userId),o.push(nu(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.$r=function(t,e){var n=this,r=new oi(_r),i=[];return e.forEach(function(e){var o=Cu.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=cu(t).rs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Ka(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Zs.kn(i).next(function(){return n.Ko(t,r)})},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Cu.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new oi(_r);return cu(t).rs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Ka(t[1]);s===n.userId&&r.M(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ko(t,a)})},t.prototype.Ko=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(uu(t).get(e).next(function(t){if(null===t)throw vr();yr(t.userId===n.userId),r.push(nu(n.serializer,t))}))}),Zs.kn(i).next(function(){return r})},t.prototype.Qo=function(t,e){var n=this;return au(t.Wo,this.userId,e).next(function(r){return t.pr(function(){n.jo(e.batchId)}),Zs.forEach(r,function(e){return n.No.Go(t,e)})})},t.prototype.jo=function(t){delete this.xo[t]},t.prototype.zo=function(t){var e=this;return this.ko(t).next(function(n){if(!n)return Zs.resolve();var r=IDBKeyRange.lowerBound(Cu.prefixForUser(e.userId)),i=[];return cu(t).rs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ka(t[1]);i.push(o)}else r.done()}).next(function(){yr(0===i.length)})})},t.prototype.Ho=function(t,e){return su(t,this.userId,e)},t.prototype.Jo=function(t){var e=this;return lu(t).get(this.userId).next(function(t){return t||new Eu(e.userId,-1,"")})},t}();function su(t,e,n){var r=Cu.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return cu(t).rs({range:o,ss:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function au(t,e,n){var r=t.store(Iu.store),i=t.store(Cu.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){yr(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Cu.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Zs.kn(o).next(function(){return c})}function uu(t){return Gu.Kn(t,Iu.store)}function cu(t){return Gu.Kn(t,Cu.store)}function lu(t){return Gu.Kn(t,Eu.store)}var hu=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Ir=function(t,e,n){return pu(t).put(gu(e),n)},t.prototype.Ar=function(t,e){var n=pu(t),r=gu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Yo(t,r)})},t.prototype.Rr=function(t,e){var n=this;return pu(t).get(gu(e)).next(function(t){return n.Xo(t)})},t.prototype.Zo=function(t,e){var n=this;return pu(t).get(gu(e)).next(function(t){var e=n.Xo(t);return e?{ta:e,size:vu(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ci();return this.ea(t,e,function(t,e){var i=n.Xo(e);r=r.ot(t,i)}).next(function(){return r})},t.prototype.na=function(t,e){var n=this,r=ci(),i=new ni(qr.D);return this.ea(t,e,function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,vu(e))):(r=r.ot(t,null),i=i.ot(t,0))}).next(function(){return{sa:r,ia:i}})},t.prototype.ea=function(t,e,n){if(e.P())return Zs.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return pu(t).rs({range:r},function(t,e,r){for(var s=qr.Z(t);o&&qr.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()}).next(function(){for(;o;)n(o,null),o=i.At()?i.It():null})},t.prototype.Lr=function(t,e,n){var r=this,i=hi(),o=e.path.length+1,s={};if(n.isEqual(Vr.min())){var a=e.path.L();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.L(),c=Xa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ou.collectionReadTimeIndex}return pu(t).rs(s,function(t,n,s){if(t.length===o){var a=Qa(r.serializer,n);e.path.M(a.key.path)?a instanceof fs&&Ns(e,a)&&(i=i.ot(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.ra=function(t){return new fu(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return du(t).get(xu.key).next(function(t){return yr(!!t),t})},t.prototype.Yo=function(t,e){return du(t).put(xu.key,e)},t.prototype.Xo=function(t){if(t){var e=Qa(this.serializer,t);return e instanceof ds&&e.version.isEqual(Vr.min())?null:e}return null},t}(),fu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ha=e,r.oa=n,r.ca=new Pr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[],r=0,i=new oi(function(t,e){return _r(t.B(),e.B())});return this.wr.forEach(function(o,s){var a=e.ca.get(o);if(s){var u=Za(e.ha.serializer,s,e.readTime);i=i.add(o.path.F());var c=vu(u);r+=c-a,n.push(e.ha.Ir(t,o,u))}else if(r-=a,e.oa){var l=Za(e.ha.serializer,new ds(o,Vr.min()),e.readTime);n.push(e.ha.Ir(t,o,l))}else n.push(e.ha.Ar(t,o))}),i.forEach(function(r){n.push(e.ha.Dr.Mo(t,r))}),n.push(this.ha.updateMetadata(t,r)),Zs.kn(n)},e.prototype.Pr=function(t,e){var n=this;return this.ha.Zo(t,e).next(function(t){return null===t?(n.ca.set(e,0),null):(n.ca.set(e,t.size),t.ta)})},e.prototype.gr=function(t,e){var n=this;return this.ha.na(t,e).next(function(t){var e=t.sa;return t.ia.forEach(function(t,e){n.ca.set(t,e)}),e})},e}(Pa);function du(t){return Gu.Kn(t,xu.store)}function pu(t){return Gu.Kn(t,Ou.store)}function gu(t){return t.path.L()}function vu(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw vr();e=t.noDocument}return JSON.stringify(e).length}var yu=function(){function t(){this.ua=new mu}return t.prototype.Mo=function(t,e){return this.ua.add(e),Zs.resolve()},t.prototype.Kr=function(t,e){return Zs.resolve(this.ua.getEntries(e))},t}(),mu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.F(),r=this.index[e]||new oi(Mr.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new oi(Mr.D)).L()},t}(),bu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;yr(n<r&&n>=0&&r<=10);var o=new na("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(_u.store)}(t),function(t){t.createObjectStore(Eu.store,{keyPath:Eu.keyPath}),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Cu.store)}(t),Du(t),function(t){t.createObjectStore(Ou.store)}(t));var s=Zs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ku.store),t.deleteObjectStore(Au.store),t.deleteObjectStore(Nu.store)}(t),Du(t)),s=s.next(function(){return function(t){var e=t.store(Nu.store),n=new Nu(0,0,Vr.min().v(),0);return e.put(Nu.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Iu.store).ts().next(function(n){t.deleteObjectStore(Iu.store),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0});var r=e.store(Iu.store),i=n.map(function(t){return r.put(t)});return Zs.kn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Pu.store,{keyPath:Pu.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(xu.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ou.store);e.createIndex(Ou.readTimeIndex,Ou.readTimeIndexPath,{unique:!1}),e.createIndex(Ou.collectionReadTimeIndex,Ou.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Ou.store).rs(function(t,n){e+=vu(n)}).next(function(){var n=new xu(e);return t.store(xu.store).put(xu.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Eu.store),r=t.store(Iu.store);return n.ts().next(function(n){return Zs.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Iu.userMutationsIndex,i).next(function(r){return Zs.forEach(r,function(r){yr(r.userId===n.userId);var i=nu(e.serializer,r);return au(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ku.store),n=t.store(Ou.store);return t.store(Nu.store).get(Nu.key).next(function(t){var r=[];return n.rs(function(n,i){var o=new Mr(n),s=function(t){return[0,Ga(t)]}(o);r.push(e.get(s).next(function(n){return n?Zs.resolve():function(n){return e.put(new ku(0,Ga(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Zs.kn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ju.store,{keyPath:ju.keyPath});var n=e.store(ju.store),r=new mu,i=function(t){if(r.add(t)){var e=t.O(),i=t.F();return n.put({collectionId:e,parent:Ga(i)})}};return e.store(Ou.store).rs({ss:!0},function(t,e){var n=new Mr(t);return i(n.F())}).next(function(){return e.store(Cu.store).rs({ss:!0},function(t,e){var n=Ka(t[1]);return i(n.F())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Au.store);return n.rs(function(t,r){var i=ru(r),o=iu(e.serializer,i);return n.put(o)})},t}(),wu=function(t,e){this.seconds=t,this.nanoseconds=e},_u=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_u.store="owner",_u.key="owner";var Eu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Eu.store="mutationQueues",Eu.keyPath="userId";var Iu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Iu.store="mutations",Iu.keyPath="batchId",Iu.userMutationsIndex="userMutationsIndex",Iu.userMutationsKeyPath=["userId","batchId"];var Cu=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ga(e)]},t.key=function(t,e,n){return[t,Ga(e),n]},t}();Cu.store="documentMutations",Cu.PLACEHOLDER=new Cu;var Su=function(t,e){this.path=t,this.readTime=e},Tu=function(t,e){this.path=t,this.version=e},Ou=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ou.store="remoteDocuments",Ou.readTimeIndex="readTimeIndex",Ou.readTimeIndexPath="readTime",Ou.collectionReadTimeIndex="collectionReadTimeIndex",Ou.collectionReadTimeIndexPath=["parentPath","readTime"];var xu=function(t){this.byteSize=t};xu.store="remoteDocumentGlobal",xu.key="remoteDocumentGlobalKey";var Au=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Au.store="targets",Au.keyPath="targetId",Au.queryTargetsIndexName="queryTargetsIndex",Au.queryTargetsKeyPath=["canonicalId","targetId"];var ku=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ku.store="targetDocuments",ku.keyPath=["targetId","path"],ku.documentTargetsIndex="documentTargetsIndex",ku.documentTargetsKeyPath=["path","targetId"];var Nu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Nu.key="targetGlobalKey",Nu.store="targetGlobal";var ju=function(t,e){this.collectionId=t,this.parent=e};function Du(t){t.createObjectStore(ku.store,{keyPath:ku.keyPath}).createIndex(ku.documentTargetsIndex,ku.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Au.store,{keyPath:Au.keyPath}).createIndex(Au.queryTargetsIndexName,Au.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Nu.store)}ju.store="collectionParents",ju.keyPath=["collectionId","parent"];var Pu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Pu.store="clientMetadata",Pu.keyPath="clientId";var Ru=Object(r.g)(Object(r.g)(Object(r.g)([Eu.store,Iu.store,Cu.store,Ou.store,Au.store,_u.store,Nu.store,ku.store],[Pu.store]),[xu.store]),[ju.store]),Vu=function(){function t(){this.la=new mu}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e.O(),i=e.F();t.pr(function(){n.la.add(e)});var o={collectionId:r,parent:Ga(i)};return Lu(t).put(o)}return Zs.resolve()},t.prototype.Kr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ir(e),""],!1,!0);return Lu(t).ts(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ka(o.parent))}return n})},t}();function Lu(t){return Gu.Kn(t,ju.store)}var Mu=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),Uu=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.Ea(t).next(function(n){var r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ia=function(t){return this.Ea(t).next(function(t){return Vr.V(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ma=function(t){return this.Ea(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Aa=function(t,e,n){var r=this;return this.Ea(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)})},t.prototype.Ra=function(t,e){var n=this;return this.Pa(t,e).next(function(){return n.Ea(t).next(function(r){return r.targetCount+=1,n.ga(e,r),n.Ta(t,r)})})},t.prototype.Va=function(t,e){return this.Pa(t,e)},t.prototype.ya=function(t,e){var n=this;return this.pa(t,e.targetId).next(function(){return Fu(t).delete(e.targetId)}).next(function(){return n.Ea(t)}).next(function(e){return yr(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)})},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return Fu(t).rs(function(s,a){var u=ru(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.ya(t,u)))}).next(function(){return Zs.kn(o)}).next(function(){return i})},t.prototype.Ce=function(t,e){return Fu(t).rs(function(t,n){var r=ru(n);e(r)})},t.prototype.Ea=function(t){return qu(t).get(Nu.key).next(function(t){return yr(null!==t),t})},t.prototype.Ta=function(t,e){return qu(t).put(Nu.key,e)},t.prototype.Pa=function(t,e){return Fu(t).put(iu(this.serializer,e))},t.prototype.ga=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.Ea(t).next(function(t){return t.targetCount})},t.prototype.va=function(t,e){var n=Wr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fu(t).rs({range:r,index:Au.queryTargetsIndexName},function(t,n,r){var o=ru(n);Kr(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=zu(t);return e.forEach(function(e){var s=Ga(e.path);i.push(o.put(new ku(n,s))),i.push(r.No.Da(t,n,e))}),Zs.kn(i)},t.prototype.Ca=function(t,e,n){var r=this,i=zu(t);return Zs.forEach(e,function(e){var o=Ga(e.path);return Zs.kn([i.delete([n,o]),r.No.Na(t,n,e)])})},t.prototype.pa=function(t,e){var n=zu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zu(t),i=pi();return r.rs({range:n,ss:!0},function(t,e,n){var r=Ka(t[1]),o=new qr(r);i=i.add(o)}).next(function(){return i})},t.prototype.Ho=function(t,e){var n=Ga(e.path),r=IDBKeyRange.bound([n],[Ir(n)],!1,!0),i=0;return zu(t).rs({index:ku.documentTargetsIndex,ss:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ue=function(t,e){return Fu(t).get(e).next(function(t){return t?ru(t):null})},t}();function Fu(t){return Gu.Kn(t,Au.store)}function qu(t){return Gu.Kn(t,Nu.store)}function zu(t){return Gu.Kn(t,ku.store)}var Bu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Fa=n,r}return Object(r.c)(e,t),e}(Va),Gu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.ka=c,this.Oa=l,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.Ln())throw new cr(ur.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new Ku(this,i),this.Qa=n+"main",this.serializer=new Ya(u),this.Wa=new Xs(this.Qa,10,new bu(this.serializer)),this.ja=new Uu(this.No,this.serializer),this.Dr=new Vu,this.vr=function(t,e){return new hu(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===l&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Hu)return Xs.Kn(t.Wo,e);throw vr()},t.prototype.start=function(){var t=this;return this.za().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new cr(ur.FAILED_PRECONDITION,Bu);return t.Ha(),t.Ja(),t.Ya(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.ja.ma(e)})}).then(function(e){t.Ma=new _a(e,t.ka)}).then(function(){t.$a=!0}).catch(function(e){return t.Wa&&t.Wa.close(),Promise.reject(e)})},t.prototype.Xa=function(t){var e=this;return this.Ka=function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){return this.Ii?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.Wa.jn(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.th=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Wu(e).put(new Pu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.eh(e).next(function(e){e||(t.isPrimary=!1,t.fn.Cs(function(){return t.Ka(!1)}))})}).next(function(){return t.nh(e)}).next(function(n){return t.isPrimary&&!n?t.sh(e).next(function(){return!1}):!!n&&t.ih(e).next(function(){return!0})})}).catch(function(e){if(ea(e))return fr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return fr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.fn.Cs(function(){return t.Ka(e)}),t.isPrimary=e})},t.prototype.eh=function(t){var e=this;return $u(t).get(_u.key).next(function(t){return Zs.resolve(e.rh(t))})},t.prototype.oh=function(t){return Wu(t).delete(this.clientId)},t.prototype.ah=function(){return Object(r.b)(this,void 0,void 0,function(){var e,n,i,o=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Kn(e,Pu.store);return n.ts().next(function(t){var e=o.uh(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Zs.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.lh(i[n].clientId));r.label=2;case 2:return[2]}})})},t.prototype.Ya=function(){var t=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,function(){return t.za().then(function(){return t.ah()}).then(function(){return t.Ya()})})},t.prototype.rh=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nh=function(t){var e=this;return this.Oa?Zs.resolve(!0):$u(t).get(_u.key).next(function(n){if(null!==n&&e.hh(n.leaseTimestampMs,5e3)&&!e._h(n.ownerId)){if(e.rh(n)&&e.networkEnabled)return!0;if(!e.rh(n)){if(!n.allowTabSynchronization)throw new cr(ur.FAILED_PRECONDITION,Bu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wu(t).ts().next(function(t){return void 0===e.uh(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&fr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Di=function(){return Object(r.b)(this,void 0,void 0,function(){var t=this;return Object(r.d)(this,function(e){switch(e.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[_u.store,Pu.store],function(e){var n=new Hu(e,_a.ai);return t.sh(n).next(function(){return t.oh(n)})})];case 1:return e.sent(),this.Wa.close(),this.Eh(),[2]}})})},t.prototype.uh=function(t,e){var n=this;return t.filter(function(t){return n.hh(t.updateTimeMs,e)&&!n._h(t.clientId)})},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Wu(e).ts().next(function(e){return t.uh(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Th=function(t){return ou.Fo(t,this.serializer,this.Dr,this.No)},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.Ah=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return fr("IndexedDbPersistence","Starting transaction:",t),this.Wa.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ru,function(o){return r=new Hu(o,i.Ma?i.Ma.next():_a.ai),"readwrite-primary"===e?i.eh(r).next(function(t){return!!t||i.nh(r)}).next(function(e){if(!e)throw dr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs(function(){return i.Ka(!1)}),new cr(ur.FAILED_PRECONDITION,Ra);return n(r)}).next(function(t){return i.ih(r).next(function(){return t})}):i.Rh(r).next(function(){return n(r)})}).then(function(t){return r.br(),t})},t.prototype.Rh=function(t){var e=this;return $u(t).get(_u.key).next(function(t){if(null!==t&&e.hh(t.leaseTimestampMs,5e3)&&!e._h(t.ownerId)&&!e.rh(t)&&!(e.Oa||e.allowTabSynchronization&&t.allowTabSynchronization))throw new cr(ur.FAILED_PRECONDITION,Bu)})},t.prototype.ih=function(t){var e=new _u(this.clientId,this.allowTabSynchronization,Date.now());return $u(t).put(_u.key,e)},t.Ln=function(){return Xs.Ln()},t.prototype.sh=function(t){var e=this,n=$u(t);return n.get(_u.key).next(function(t){return e.rh(t)?(fr("IndexedDbPersistence","Releasing primary lease."),n.delete(_u.key)):Zs.resolve()})},t.prototype.hh=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(dr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws(function(){return t.inForeground="visible"===t.document.visibilityState,t.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ja=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e.fh(),e.fn.ws(function(){return e.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype._h=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.lh(t)));return fr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return dr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(t){dr("Failed to set zombie client id.",t)}},t.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch(t){}},t.prototype.lh=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $u(t){return Gu.Kn(t,_u.store)}function Wu(t){return Gu.Kn(t,Pu.store)}var Ku=function(){function t(t,e){this.db=t,this.wo=new Ha(this,e)}return t.prototype.Po=function(t){var e=this.Ph(t);return this.db.Ih().ba(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Ph=function(t){var e=0;return this.yo(t,function(t){e++}).next(function(){return e})},t.prototype.Ce=function(t,e){return this.db.Ih().Ce(t,e)},t.prototype.yo=function(t,e){return this.gh(t,function(t,n){return e(n)})},t.prototype.Da=function(t,e,n){return Yu(t,n)},t.prototype.Na=function(t,e,n){return Yu(t,n)},t.prototype.po=function(t,e,n){return this.db.Ih().po(t,e,n)},t.prototype.Go=function(t,e){return Yu(t,e)},t.prototype.Vh=function(t,e){return function(t,e){var n=!1;return lu(t).os(function(r){return su(t,r,e).next(function(t){return t&&(n=!0),Zs.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.mh().ra(),i=[],o=0;return this.gh(t,function(s,a){if(a<=e){var u=n.Vh(t,s).next(function(e){if(!e)return o++,r.Rr(t,s).next(function(){return r.Ar(s),zu(t).delete([0,Ga(s.path)])})});i.push(u)}}).next(function(){return Zs.kn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.st(t.Fa);return this.db.Ih().Va(t,n)},t.prototype.yh=function(t,e){return Yu(t,e)},t.prototype.gh=function(t,e){var n,r=zu(t),i=_a.ai;return r.rs({index:ku.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==_a.ai&&e(new qr(Ka(n)),i),i=s,n=o):i=_a.ai}).next(function(){i!==_a.ai&&e(new qr(Ka(n)),i)})},t.prototype.So=function(t){return this.db.mh().aa(t)},t}();function Yu(t,e){return zu(t).put(function(t,e){return new ku(0,Ga(t.path),e)}(e,t.Fa))}function Qu(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Zu=function(){function t(t,e,n){this.persistence=t,this.ph=e,this.bh=new ni(_r),this.Sh=new Pr(function(t){return Wr(t)},Kr),this.Dh=Vr.min(),this.Sr=t.Th(n),this.Ch=t.mh(),this.ja=t.Ih(),this.Nh=new La(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}return t.prototype.mo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.vo(n,e.bh)})},t}();function Xu(t,e){var n=mr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ch.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Zs.resolve();return o.forEach(function(t){s=s.next(function(){return r.Rr(e,t)}).next(function(e){var o=e,s=n.dr.get(t);yr(null!==s),(!o||o.version.h(s)<0)&&(o=i.hr(t,o,n))&&r.Ir(o,n._r)})}),s.next(function(){return t.Sr.Qo(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Nh.Or(t,r)})})}function Ju(t){var e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.ja.Ia(t)})}function tc(t,e){var n=mr(t),r=e.nt,i=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ch.ra({oa:!0});i=n.bh;var s=[];e.zt.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.ja.Ca(t,e.se,o).next(function(){return n.ja.Sa(t,e.ee,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.it(u,r).st(t.Fa);i=i.ot(o,c),function(t,e,n){return yr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&s.push(n.ja.Va(t,c))}}});var a=ui(),u=pi();if(e.Jt.forEach(function(t,e){u=u.add(t)}),s.push(o.getEntries(t,u).next(function(i){e.Jt.forEach(function(u,c){var l=i.get(u);c instanceof ds&&c.version.isEqual(Vr.min())?(o.Ar(u,r),a=a.ot(u,c)):null==l||c.version.h(l.version)>0||0===c.version.h(l.version)&&l.hasPendingWrites?(o.Ir(c,r),a=a.ot(u,c)):fr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&s.push(n.persistence.No.yh(t,u))})})),!r.isEqual(Vr.min())){var c=n.ja.Ia(t).next(function(e){return n.ja.Aa(t,t.Fa,r)});s.push(c)}return Zs.kn(s).next(function(){return o.apply(t)}).next(function(){return n.Nh.Mr(t,a)})}).then(function(t){return n.bh=i,t})}function ec(t,e){var n=mr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)})}function nc(t,e){var n=mr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.ja.va(t,e).next(function(i){return i?Zs.resolve(r=i):n.ja.wa(t).next(function(i){return r=new Xr(e,i,0,t.Fa),n.ja.Ra(t,r).next(function(){return r})})})}).then(function(t){var r=n.bh.get(t.targetId);return(null===r||t.nt.h(r.nt)>0)&&(n.bh=n.bh.ot(t.targetId,t),n.Sh.set(e,t.targetId)),t})}function rc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:i=mr(t),o=i.bh.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(t){return i.persistence.No.removeTarget(t,o)})];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ea(a=r.sent()))throw a;return fr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bh=i.bh.remove(e),i.Sh.delete(o.target),[2]}})})}function ic(t,e,n){var r=mr(t),i=Vr.min(),o=pi();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=mr(t),i=r.Sh.get(n);return void 0!==i?Zs.resolve(r.bh.get(i)):r.ja.va(e,n)}(r,t,Cs(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ja.xa(t,e.targetId).next(function(t){o=t})}).next(function(){return r.ph.Lr(t,e,n?i:Vr.min(),n?o:pi())}).next(function(t){return{documents:t,Fh:o}})})}function oc(t,e){var n=mr(t),r=mr(n.ja),i=n.bh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ue(t,e).next(function(t){return t?t.target:null})})}function sc(t){var e=mr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=mr(t),i=ui(),o=Xa(n),s=pu(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Ou.readTimeIndex,range:a},function(t,e){var n=Qa(r.serializer,e);i=i.ot(n.key,n),o=e.readTime}).next(function(){return{kh:i,readTime:Ja(o)}})}(e.Ch,t,e.Dh)}).then(function(t){var n=t.kh;return e.Dh=t.readTime,n})}function ac(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){return[2,(e=mr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=pu(t),n=Vr.min();return e.rs({index:Ou.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ja(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Dh=t})]})})}function uc(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){if(t.code!==ur.FAILED_PRECONDITION||t.message!==Ra)throw t;return fr("LocalStore","Unexpectedly lost primary lease"),[2]})})}var cc=function(){function t(){this.Oh=new oi(lc.Mh),this.$h=new oi(lc.Lh)}return t.prototype.P=function(){return this.Oh.P()},t.prototype.Da=function(t,e){var n=new lc(t,e);this.Oh=this.Oh.add(n),this.$h=this.$h.add(n)},t.prototype.Bh=function(t,e){var n=this;t.forEach(function(t){return n.Da(t,e)})},t.prototype.Na=function(t,e){this.qh(new lc(t,e))},t.prototype.Uh=function(t,e){var n=this;t.forEach(function(t){return n.Na(t,e)})},t.prototype.Kh=function(t){var e=this,n=new qr(new Mr([])),r=new lc(n,t),i=new lc(n,t+1),o=[];return this.$h.xt([r,i],function(t){e.qh(t),o.push(t.key)}),o},t.prototype.Qh=function(){var t=this;this.Oh.forEach(function(e){return t.qh(e)})},t.prototype.qh=function(t){this.Oh=this.Oh.delete(t),this.$h=this.$h.delete(t)},t.prototype.Wh=function(t){var e=new qr(new Mr([])),n=new lc(e,t),r=new lc(e,t+1),i=pi();return this.$h.xt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Ho=function(t){var e=new lc(t,0),n=this.Oh.kt(e);return null!==n&&t.isEqual(n.key)},t}(),lc=function(){function t(t,e){this.key=t,this.jh=e}return t.Mh=function(t,e){return qr.D(t.key,e.key)||_r(t.jh,e.jh)},t.Lh=function(t,e){return _r(t.jh,e.jh)||qr.D(t.key,e.key)},t}(),hc=function(t,e){this.user=e,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+t},fc=function(){function t(){this.zh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Hh=function(){},t.prototype.Jh=function(t){this.zh=t,t(wa.UNAUTHENTICATED)},t.prototype.Yh=function(){this.zh=null},t}(),dc=function(){function t(t){var e=this;this.Xh=null,this.currentUser=wa.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){e.tc++,e.currentUser=e.ec(),e.Zh=!0,e.zh&&e.zh(e.currentUser)},this.tc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),t.get().then(function(t){e.auth=t,e.Xh&&e.auth.addAuthTokenListener(e.Xh)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.tc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.tc!==e?(fr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(yr("string"==typeof n.accessToken),new hc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.Hh=function(){this.forceRefresh=!0},t.prototype.Jh=function(t){this.zh=t,this.Zh&&t(this.currentUser)},t.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},t.prototype.ec=function(){var t=this.auth&&this.auth.getUid();return yr(null===t||"string"==typeof t),new wa(t)},t}(),pc=function(){function t(t,e){this.nc=t,this.sc=e,this.type="FirstParty",this.user=wa.ni}return Object.defineProperty(t.prototype,"Gh",{get:function(){var t={"X-Goog-AuthUser":this.sc},e=this.nc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),gc=function(){function t(t,e){this.nc=t,this.sc=e}return t.prototype.getToken=function(){return Promise.resolve(new pc(this.nc,this.sc))},t.prototype.Jh=function(t){t(wa.ni)},t.prototype.Yh=function(){},t.prototype.Hh=function(){},t}(),vc=function(){function t(t,e,n,r,i,o){this.fn=t,this.ic=n,this.rc=r,this.oc=i,this.listener=o,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new Qs(t,e)}return t.prototype.cc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.lc()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._c=function(){this.state=0,this.Vs.reset()},t.prototype.fc=function(){var t=this;this.uc()&&null===this.hc&&(this.hc=this.fn.Vn(this.ic,6e4,function(){return t.dc()}))},t.prototype.wc=function(t){this.Ec(),this.stream.send(t)},t.prototype.dc=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){return this.uc()?[2,this.close(0)]:[2]})})},t.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,3!==t?this.Vs.reset():e&&e.code===ur.RESOURCE_EXHAUSTED?(dr(e.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):e&&e.code===ur.UNAUTHENTICATED&&this.oc.Hh(),null!==this.stream&&(this.Tc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ic(e)];case 1:return n.sent(),[2]}})})},t.prototype.Tc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mc(this.ac),n=this.ac;this.oc.getToken().then(function(e){t.ac===n&&t.Ac(e)},function(n){e(function(){var e=new cr(ur.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Rc(e)})})},t.prototype.Ac=function(t){var e=this,n=this.mc(this.ac);this.stream=this.Pc(t),this.stream.gc(function(){n(function(){return e.state=2,e.listener.gc()})}),this.stream.Ic(function(t){n(function(){return e.Rc(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.lc=function(){var t=this;this.state=4,this.Vs.Pn(function(){return Object(r.b)(t,void 0,void 0,function(){return Object(r.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Rc=function(t){return fr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mc=function(t){var e=this;return function(n){e.fn.ws(function(){return e.ac===t?n():(fr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),yc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(r.c)(e,t),e.prototype.Pc=function(t){return this.rc.Vc("Listen",t)},e.prototype.onMessage=function(t){this.Vs.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:vr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ke?(yr(void 0===e||"string"==typeof e),Cr.fromBase64String(e||"")):(yr(void 0===e||e instanceof Uint8Array),Cr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?ur.UNKNOWN:ei(t.code);return new cr(e,t.message||"")}(s);n=new Ci(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=uo(t,u.document.name),l=io(u.document.updateTime),h=new us({mapValue:{fields:u.document.fields}}),f=new fs(c,l,h,{});n=new Ei(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=uo(t,d.document),g=d.readTime?io(d.readTime):Vr.min(),v=new ds(p,g);n=new Ei([],d.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){var y=e.documentRemove,m=uo(t,y.document);n=new Ei([],y.removedTargetIds||[],m,null)}else{if(!("filter"in e))return vr();var b=e.filter,w=new Jr(b.count||0);n=new Ii(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Vr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vr.min():e.readTime?io(e.readTime):Vr.min()}(t);return this.listener.yc(e,n)},e.prototype.bc=function(t){var e={};e.database=ho(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Yr(r)?{documents:yo(t,r)}:{query:mo(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=no(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vr()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wc(e)},e.prototype.vc=function(t){var e={};e.database=ho(this.serializer),e.removeTarget=t,this.wc(e)},e}(vc),mc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Sc=!1,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Tc=function(){this.Sc&&this.Cc([])},e.prototype.Pc=function(t){return this.rc.Vc("Write",t)},e.prototype.onMessage=function(t){if(yr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Sc){this.Vs.reset();var e=function(t,e){return t&&t.length>0?(yr(void 0!==e),t.map(function(t){return function(t,e){var n=io(t.updateTime?t.updateTime:e);n.isEqual(Vr.min())&&(n=io(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Go(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=io(t.commitTime);return this.listener.Nc(n,e)}return yr(!t.writeResults||0===t.writeResults.length),this.Sc=!0,this.listener.xc()},e.prototype.Fc=function(){var t={};t.database=ho(this.serializer),this.wc(t)},e.prototype.Cc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return go(e.serializer,t)})};this.wc(n)},e}(vc),bc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.rc=n,i.serializer=r,i.kc=!1,i}return Object(r.c)(e,t),e.prototype.Oc=function(){if(this.kc)throw new cr(ur.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mc=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then(function(i){return r.rc.Mc(t,e,n,i)}).catch(function(t){throw t.code===ur.UNAUTHENTICATED&&r.credentials.Hh(),t})},e.prototype.$c=function(t,e,n){var r=this;return this.Oc(),this.credentials.getToken().then(function(i){return r.rc.$c(t,e,n,i)}).catch(function(t){throw t.code===ur.UNAUTHENTICATED&&r.credentials.Hh(),t})},e.prototype.terminate=function(){this.kc=!1},e}(function(){}),wc=function(){function t(t,e){this.hs=t,this.di=e,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}return t.prototype.Uc=function(){var t=this;0===this.Lc&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,function(){return t.Bc=null,t.Qc("Backend didn't respond within 10 seconds."),t.Kc("Offline"),Promise.resolve()}))},t.prototype.Wc=function(t){"Online"===this.state?this.Kc("Unknown"):(this.Lc++,this.Lc>=1&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+t.toString()),this.Kc("Offline")))},t.prototype.set=function(t){this.jc(),this.Lc=0,"Online"===t&&(this.qc=!1),this.Kc(t)},t.prototype.Kc=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Qc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qc?(dr(e),this.qc=!1):fr("OnlineStateTracker",e)},t.prototype.jc=function(){null!==this.Bc&&(this.Bc.cancel(),this.Bc=null)},t}(),_c=function(t,e,n,i,o){var s=this;this.Gc=t,this.zc=e,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=o,this.tu.eu(function(t){n.ws(function(){return Object(r.b)(s,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return Nc(this)?(fr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return(e=mr(t)).Xc.add(4),[4,Ic(e)];case 1:return n.sent(),e.nu.set("Unknown"),e.Xc.delete(4),[4,Ec(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.nu=new wc(n,i)};function Ec(t){return Object(r.b)(this,void 0,void 0,function(){var e,n;return Object(r.d)(this,function(r){switch(r.label){case 0:if(!Nc(t))return[3,4];e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ic(t){return Object(r.b)(this,void 0,void 0,function(){var e,n;return Object(r.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Zc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Cc(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return e=mr(t),fr("RemoteStore","RemoteStore shutting down."),e.Xc.add(5),[4,Ic(e)];case 1:return n.sent(),e.tu.Di(),e.nu.set("Unknown"),[2]}})})}function Sc(t,e){var n=mr(t);n.Yc.has(e.targetId)||(n.Yc.set(e.targetId,e),kc(n)?Ac(n):$c(n).uc()&&Oc(n,e))}function Tc(t,e){var n=mr(t),r=$c(n);n.Yc.delete(e),r.uc()&&xc(n,e),0===n.Yc.size&&(r.uc()?r.fc():Nc(n)&&n.nu.set("Unknown"))}function Oc(t,e){t.su.me(e.targetId),$c(t).bc(e)}function xc(t,e){t.su.me(e),$c(t).vc(e)}function Ac(t){t.su=new Ti({qe:function(e){return t.Hc.qe(e)},Ue:function(e){return t.Yc.get(e)||null}}),$c(t).start(),t.nu.Uc()}function kc(t){return Nc(t)&&!$c(t).cc()&&t.Yc.size>0}function Nc(t){return 0===mr(t).Xc.size}function jc(t){t.su=void 0}function Dc(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return t.Yc.forEach(function(e,n){Oc(t,e)}),[2]})})}function Pc(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){return jc(t),kc(t)?(t.nu.Wc(e),Ac(t)):t.nu.set("Unknown"),[2]})})}function Rc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s;return Object(r.d)(this,function(a){switch(a.label){case 0:if(t.nu.set("Online"),!(e instanceof Ci&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s;return Object(r.d)(this,function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Yc.has(s=o[i])?[4,t.Hc.iu(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Yc.delete(s),t.su.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),fr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Vc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ei?t.su.be(e):e instanceof Ii?t.su.ke(e):t.su.De(e),n.isEqual(Vr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ju(t.Gc)];case 8:return o=a.sent(),n.h(o)>=0?[4,function(t,e){var n=t.su.$e(e);return n.zt.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Yc.get(r);i&&t.Yc.set(r,i.it(n.resumeToken,e))}}),n.Ht.forEach(function(e){var n=t.Yc.get(e);if(n){t.Yc.set(e,n.it(Cr.u,n.nt)),xc(t,e);var r=new Xr(n.target,e,1,n.sequenceNumber);Oc(t,r)}}),t.Hc.ru(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return fr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Vc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Vc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i=this;return Object(r.d)(this,function(o){switch(o.label){case 0:if(!ea(e))throw e;return t.Xc.add(1),[4,Ic(t)];case 1:return o.sent(),t.nu.set("Offline"),n||(n=function(){return Ju(t.Gc)}),t.hs.Cs(function(){return Object(r.b)(i,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return fr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xc.delete(1),[4,Ec(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Lc(t,e){return e().catch(function(n){return Vc(t,n,e)})}function Mc(t){return Object(r.b)(this,void 0,void 0,function(){var e,n,i,o,s;return Object(r.d)(this,function(r){switch(r.label){case 0:e=mr(t),n=Wc(e),i=e.Jc.length>0?e.Jc[e.Jc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Nc(t)&&t.Jc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,ec(e.Gc,i)];case 3:return null===(o=r.sent())?(0===e.Jc.length&&n.fc(),[3,7]):(i=o.batchId,function(t,e){t.Jc.push(e);var n=Wc(t);n.uc()&&n.Dc&&n.Cc(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,Vc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Uc(e)&&Fc(e),[2]}})})}function Uc(t){return Nc(t)&&!Wc(t).cc()&&t.Jc.length>0}function Fc(t){Wc(t).start()}function qc(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){return Wc(t).Fc(),[2]})})}function zc(t){return Object(r.b)(this,void 0,void 0,function(){var e,n,i;return Object(r.d)(this,function(r){for(e=Wc(t),n=0,i=t.Jc;n<i.length;n++)e.Cc(i[n].mutations);return[2]})})}function Bc(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return i=t.Jc.shift(),o=Da.from(i,e,n),[4,Lc(t,function(){return t.Hc.ou(o)})];case 1:return r.sent(),[4,Mc(t)];case 2:return r.sent(),[2]}})})}function Hc(t,e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return e&&Wc(t).Dc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:return ti(i=e.code)&&i!==ur.ABORTED?(n=t.Jc.shift(),Wc(t)._c(),[4,Lc(t,function(){return t.Hc.au(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Mc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Uc(t)&&Fc(t),[2]}})})}function Gc(t,e){return Object(r.b)(this,void 0,void 0,function(){var n;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=mr(t),e?(n.Xc.delete(2),[4,Ec(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xc.add(2),[4,Ic(n)]);case 3:r.sent(),n.nu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function $c(t){var e=this;return t.hu||(t.hu=function(t,e,n){var r=mr(t);return r.Oc(),new yc(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:Dc.bind(null,t),Ic:Pc.bind(null,t),yc:Rc.bind(null,t)}),t.Zc.push(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return n?(t.hu._c(),kc(t)?Ac(t):t.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.hu.stop()];case 2:e.sent(),jc(t),e.label=3;case 3:return[2]}})})})),t.hu}function Wc(t){var e=this;return t.cu||(t.cu=function(t,e,n){var r=mr(t);return r.Oc(),new mc(e,r.rc,r.credentials,r.serializer,n)}(t.zc,t.hs,{gc:qc.bind(null,t),Ic:Hc.bind(null,t),xc:zc.bind(null,t),Nc:Bc.bind(null,t)}),t.Zc.push(function(n){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return n?(t.cu._c(),[4,Mc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.cu.stop()];case 3:e.sent(),t.Jc.length>0&&(fr("RemoteStore","Stopping write stream with "+t.Jc.length+" pending writes"),t.Jc=[]),e.label=4;case 4:return[2]}})})})),t.cu}var Kc=function(t){this.key=t},Yc=function(t){this.key=t},Qc=function(){function t(t,e){this.query=t,this.uu=e,this.lu=null,this.te=!1,this._u=pi(),this.Qt=pi(),this.fu=js(t),this.du=new yi(this.fu)}return Object.defineProperty(t.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),t.prototype.Eu=function(t,e){var n=this,r=e?e.Tu:new mi,i=e?e.du:this.du,o=e?e.Qt:this.Qt,s=i,a=!1,u=ms(this.query)&&i.size===this.query.limit?i.last():null,c=bs(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut(function(t,e){var l=i.get(t),h=e instanceof fs?e:null;h&&(h=Ns(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Iu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.fu(h,u)>0||c&&n.fu(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ms(this.query)||bs(this.query))for(;s.size>this.query.limit;){var l=ms(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{du:s,Tu:r,mu:a,Qt:o}},t.prototype.Iu=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.Vr=function(t,e,n){var r=this,i=this.du;this.du=t.du,this.Qt=t.Qt;var o=t.Tu.Ut();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vr()}};return n(t)-n(e)}(t.type,e.type)||r.fu(t.doc,e.doc)}),this.Au(n);var s=e?this.Ru():[],a=0===this._u.size&&this.te?1:0,u=a!==this.lu;return this.lu=a,0!==o.length||u?{snapshot:new bi(this.query,t.du,i,o,t.Qt,0===a,u,!1),Pu:s}:{Pu:s}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Vr({du:this.du,Tu:new mi,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},t.prototype.gu=function(t){return!this.uu.has(t)&&!!this.du.has(t)&&!this.du.get(t).Ye},t.prototype.Au=function(t){var e=this;t&&(t.ee.forEach(function(t){return e.uu=e.uu.add(t)}),t.ne.forEach(function(t){}),t.se.forEach(function(t){return e.uu=e.uu.delete(t)}),this.te=t.te)},t.prototype.Ru=function(){var t=this;if(!this.te)return[];var e=this._u;this._u=pi(),this.du.forEach(function(e){t.gu(e.key)&&(t._u=t._u.add(e.key))});var n=[];return e.forEach(function(e){t._u.has(e)||n.push(new Yc(e))}),this._u.forEach(function(t){e.has(t)||n.push(new Kc(t))}),n},t.prototype.Vu=function(t){this.uu=t.Fh,this._u=pi();var e=this.Eu(t.documents);return this.Vr(e,!0)},t.prototype.yu=function(){return bi.Gt(this.query,this.du,this.Qt,0===this.lu)},t}(),Zc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xc=function(t){this.key=t,this.pu=!1},Jc=function(){function t(t,e,n,r,i,o){this.Gc=t,this.bu=e,this.vu=n,this.Su=r,this.currentUser=i,this.Du=o,this.Cu={},this.Nu=new Pr(function(t){return As(t)},xs),this.xu=new Map,this.Fu=[],this.ku=new ni(qr.D),this.Ou=new Map,this.Mu=new cc,this.$u={},this.Lu=new Map,this.Bu=Mu.da(),this.onlineState="Unknown",this.qu=void 0}return Object.defineProperty(t.prototype,"Uu",{get:function(){return!0===this.qu},enumerable:!1,configurable:!0}),t}();function tl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=Tl(t),(o=n.Nu.get(e))?(n.Su.$i(o.targetId),i=o.view.yu(),[3,4]):[3,1];case 1:return[4,nc(n.Gc,Cs(e))];case 2:return s=r.sent(),a=n.Su.$i(s.targetId),[4,el(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uu&&Sc(n.bu,s),r.label=4;case 4:return[2,i]}})})}function el(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s,a,u,c,l;return Object(r.d)(this,function(h){switch(h.label){case 0:return t.Ku=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return(o=e.view.Eu(n)).mu?[4,ic(t.Gc,e.query,!1).then(function(t){return e.view.Eu(t.documents,o)})]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.Vr(o,t.Uu,s),[2,(fl(t,e.targetId,a.Pu),a.snapshot)]}})})}(t,e,n,i)},[4,ic(t.Gc,e,!0)];case 1:return o=h.sent(),s=new Qc(e,o.Fh),a=s.Eu(o.documents),u=_i.Zt(n,i&&"Offline"!==t.onlineState),c=s.Vr(a,t.Uu,u),fl(t,n,c.Pu),l=new Zc(e,n,s),[2,(t.Nu.set(e,l),t.xu.has(n)?t.xu.get(n).push(e):t.xu.set(n,[e]),c.snapshot)]}})})}function nl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=mr(t),i=n.Nu.get(e),(o=n.xu.get(i.targetId)).length>1?[2,(n.xu.set(i.targetId,o.filter(function(t){return!xs(t,e)})),void n.Nu.delete(e))]:n.Uu?(n.Su.Bi(i.targetId),n.Su.xi(i.targetId)?[3,2]:[4,rc(n.Gc,i.targetId,!1).then(function(){n.Su.Ui(i.targetId),Tc(n.bu,i.targetId),ll(n,i.targetId)}).catch(uc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return ll(n,i.targetId),[4,rc(n.Gc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})}function rl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:n=mr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,tc(n.Gc,e)];case 2:return i=r.sent(),e.zt.forEach(function(t,e){var r=n.Ou.get(e);r&&(yr(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.pu=!0:t.ne.size>0?yr(r.pu):t.se.size>0&&(yr(r.pu),r.pu=!1))}),[4,gl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,uc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function il(t,e,n){var r=mr(t);if(r.Uu&&0===n||!r.Uu&&1===n){var i=[];r.Nu.forEach(function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=mr(t);n.onlineState=e;var r=!1;n.Bs.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(e)&&(r=!0)}),r&&ma(n)}(r.vu,e),i.length&&r.Cu.yc(i),r.onlineState=e,r.Uu&&r.Su.ji(e)}}function ol(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(r.d)(this,function(r){switch(r.label){case 0:return(i=mr(t)).Su.Ki(e,"rejected",n),o=i.Ou.get(e),(s=o&&o.key)?(a=(a=new ni(qr.D)).ot(s,new ds(s,Vr.min())),u=pi().add(s),c=new wi(Vr.min(),new Map,new oi(_r),a,u),[4,rl(i,c)]):[3,2];case 1:return r.sent(),i.ku=i.ku.remove(s),i.Ou.delete(e),pl(i),[3,4];case 2:return[4,rc(i.Gc,e,!1).then(function(){return ll(i,e,n)}).catch(uc)];case 3:r.sent(),r.label=4;case 4:return[2]}})})}function sl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:n=mr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Xu(n.Gc,e)];case 2:return o=r.sent(),cl(n,i,null),ul(n,i),n.Su.Oi(i,"acknowledged"),[4,gl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,uc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function al(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:i=mr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=mr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Sr.$o(t,e).next(function(e){return yr(null!==e),r=e.keys(),n.Sr.Qo(t,e)}).next(function(){return n.Sr.zo(t)}).next(function(){return n.Nh.Or(t,r)})})}(i.Gc,e)];case 2:return o=r.sent(),cl(i,e,n),ul(i,e),i.Su.Oi(e,"rejected",n),[4,gl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,uc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function ul(t,e){(t.Lu.get(e)||[]).forEach(function(t){t.resolve()}),t.Lu.delete(e)}function cl(t,e,n){var r=mr(t),i=r.$u[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$u[r.currentUser.ti()]=i}}function ll(t,e,n){void 0===n&&(n=null),t.Su.Bi(e);for(var r=0,i=t.xu.get(e);r<i.length;r++){var o=i[r];t.Nu.delete(o),n&&t.Cu.Qu(o,n)}t.xu.delete(e),t.Uu&&t.Mu.Kh(e).forEach(function(e){t.Mu.Ho(e)||hl(t,e)})}function hl(t,e){var n=t.ku.get(e);null!==n&&(Tc(t.bu,n),t.ku=t.ku.remove(e),t.Ou.delete(n),pl(t))}function fl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kc?(t.Mu.Da(o.key,e),dl(t,o)):o instanceof Yc?(fr("SyncEngine","Document no longer in limbo: "+o.key),t.Mu.Na(o.key,e),t.Mu.Ho(o.key)||hl(t,o.key)):vr()}}function dl(t,e){var n=e.key;t.ku.get(n)||(fr("SyncEngine","New document in limbo: "+n),t.Fu.push(n),pl(t))}function pl(t){for(;t.Fu.length>0&&t.ku.size<t.Du;){var e=t.Fu.shift(),n=t.Bu.next();t.Ou.set(n,new Xc(e)),t.ku=t.ku.ot(e,n),Sc(t.bu,new Xr(Cs(ys(e.path)),n,2,_a.ai))}}function gl(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.d)(this,function(u){switch(u.label){case 0:return i=mr(t),o=[],s=[],a=[],i.Nu.P()?[3,3]:(i.Nu.forEach(function(t,r){a.push(i.Ku(r,e,n).then(function(t){if(t){i.Uu&&i.Su.Ki(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Ma.zr(r.targetId,t);s.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),i.Cu.yc(o),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l;return Object(r.d)(this,function(r){switch(r.label){case 0:n=mr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Zs.forEach(e,function(e){return Zs.forEach(e.jr,function(r){return n.persistence.No.Da(t,e.targetId,r)}).next(function(){return Zs.forEach(e.Gr,function(r){return n.persistence.No.Na(t,e.targetId,r)})})})})];case 2:return r.sent(),[3,4];case 3:if(!ea(i=r.sent()))throw i;return fr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.bh.get(u),l=c.rt(c.nt),n.bh=n.bh.ot(u,l));return[2]}})})}(i.Gc,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function vl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(o){switch(o.label){case 0:return(n=mr(t)).currentUser.isEqual(e)?[3,3]:(fr("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=mr(t),i=n.Sr,o=n.Nh,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var r;return n.Sr.Uo(t).next(function(s){return r=s,i=n.persistence.Th(e),o=new La(n.Ch,i,n.persistence.Ah()),i.Uo(t)}).next(function(e){for(var n=[],i=[],s=pi(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return o.Or(t,s).next(function(t){return{Wu:t,ju:n,Gu:i}})})})];case 1:return s=r.sent(),[2,(n.Sr=i,n.Nh=o,n.ph.xh(n.Nh),s)]}})})}(n.Gc,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lu.forEach(function(t){t.forEach(function(t){t.reject(new cr(ur.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Lu.clear()}(n),n.Su.Wi(e,i.ju,i.Gu),[4,gl(n,i.Wu)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function yl(t,e){var n=mr(t),r=n.Ou.get(e);if(r&&r.pu)return pi().add(r.key);var i=pi(),o=n.xu.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nu.get(a[s]);i=i.Ot(u.view.wu)}return i}function ml(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,ic((n=mr(t)).Gc,e.query,!0)];case 1:return i=r.sent(),o=e.view.Vu(i),[2,(n.Uu&&fl(n,e.targetId,o.Pu),o)]}})})}function bl(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return[4,function(t,e){var n=mr(t),r=mr(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Lo(t,e).next(function(e){return e?n.Nh.Or(t,e):Zs.resolve(null)})})}((o=mr(t)).Gc,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mc(o.bu)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cl(o,e,i||null),ul(o,e),function(t,e){mr(mr(t).Sr).jo(e)}(o.Gc,e)):vr(),r.label=4;case 4:return[4,gl(o,s)];case 5:return r.sent(),[3,7];case 6:fr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}})})}function wl(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return Object(r.d)(this,function(r){switch(r.label){case 0:return Tl(n=mr(t)),Ol(n),!0!==e||!0===n.qu?[3,3]:(i=n.Su.Ci(),[4,_l(n,i.L())]);case 1:return o=r.sent(),n.qu=!0,[4,Gc(n.bu,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Sc(n.bu,a[s]);return[3,7];case 3:return!1!==e||!1===n.qu?[3,7]:(u=[],c=Promise.resolve(),n.xu.forEach(function(t,e){n.Su.qi(e)?u.push(e):c=c.then(function(){return ll(n,e),rc(n.Gc,e,!0)}),Tc(n.bu,e)}),[4,c]);case 4:return r.sent(),[4,_l(n,u)];case 5:return r.sent(),function(t){var e=mr(t);e.Ou.forEach(function(t,n){Tc(e.bu,n)}),e.Mu.Qh(),e.Ou=new Map,e.ku=new ni(qr.D)}(n),n.qu=!1,[4,Gc(n.bu,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}})})}function _l(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,h,f,d,p,g;return Object(r.d)(this,function(r){switch(r.label){case 0:n=mr(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.xu.get(u=a[s]))&&0!==l.length?[4,nc(n.Gc,Cs(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nu.get(f[h]),[4,ml(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,oc(n.Gc,u)];case 8:return g=r.sent(),[4,nc(n.Gc,g)];case 9:return c=r.sent(),[4,el(n,El(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Cu.yc(o),i)]}})})}function El(t){return vs(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Il(t){var e=mr(t);return mr(mr(e.Gc).persistence).pi()}function Cl(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:return(o=mr(t)).qu?(fr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xu.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sc(o.Gc)];case 3:return s=r.sent(),a=wi.Xt(e,"current"===n),[4,gl(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,rc(o.Gc,e,!0)];case 6:return r.sent(),ll(o,e,i),[3,8];case 7:vr(),r.label=8;case 8:return[2]}})})}function Sl(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f;return Object(r.d)(this,function(d){switch(d.label){case 0:if(!(i=Tl(t)).qu)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.xu.has(a=s[o])?(fr("SyncEngine","Adding an already active target "+a),[3,5]):[4,oc(i.Gc,a)]:[3,6];case 2:return u=d.sent(),[4,nc(i.Gc,u)];case 3:return c=d.sent(),[4,el(i,El(u),c.targetId,!1)];case 4:d.sent(),Sc(i.bu,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r.d)(this,function(e){switch(e.label){case 0:return i.xu.has(t)?[4,rc(i.Gc,t,!1).then(function(){Tc(i.bu,t),ll(i,t)}).catch(uc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function Tl(t){var e=mr(t);return e.bu.Hc.ru=rl.bind(null,e),e.bu.Hc.qe=yl.bind(null,e),e.bu.Hc.iu=ol.bind(null,e),e.Cu.yc=va.bind(null,e.vu),e.Cu.Qu=ya.bind(null,e.vu),e}function Ol(t){var e=mr(t);return e.bu.Hc.ou=sl.bind(null,e),e.bu.Hc.au=al.bind(null,e),e}var xl=function(){function t(){}return t.prototype.xh=function(t){this.zu=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Vr.min())?this.Hu(t,e):this.zu.Or(t,r).next(function(s){var a=i.Ju(e,s);return(ms(e)||bs(e))&&i.mu(e.an,a,r,n)?i.Hu(t,e):(hr()<=o.a.DEBUG&&fr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ks(e)),i.zu.Lr(t,e,n).next(function(t){return a.forEach(function(e){t=t.ot(e.key,e)}),t}))})},t.prototype.Ju=function(t,e){var n=new oi(js(t));return e.forEach(function(e,r){r instanceof fs&&Ns(t,r)&&(n=n.add(r))}),n},t.prototype.mu=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.Hu=function(t,e){return hr()<=o.a.DEBUG&&fr("IndexFreeQueryEngine","Using full collection scan to execute query:",ks(e)),this.zu.Lr(t,e,Vr.min())},t}(),Al=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Yu=1,this.Xu=new oi(lc.Mh)}return t.prototype.ko=function(t){return Zs.resolve(0===this.Sr.length)},t.prototype.Oo=function(t,e,n,r){var i=this.Yu;this.Yu++;var o=new ja(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xu=this.Xu.add(new lc(u.key,i)),this.Dr.Mo(t,u.key.path.F())}return Zs.resolve(o)},t.prototype.$o=function(t,e){return Zs.resolve(this.Zu(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return Zs.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return Zs.resolve(0===this.Sr.length?-1:this.Yu-1)},t.prototype.Uo=function(t){return Zs.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new lc(e,0),i=new lc(e,Number.POSITIVE_INFINITY),o=[];return this.Xu.xt([r,i],function(t){var e=n.Zu(t.jh);o.push(e)}),Zs.resolve(o)},t.prototype.$r=function(t,e){var n=this,r=new oi(_r);return e.forEach(function(t){var e=new lc(t,0),i=new lc(t,Number.POSITIVE_INFINITY);n.Xu.xt([e,i],function(t){r=r.add(t.jh)})}),Zs.resolve(this.el(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;qr.X(i)||(i=i.child(""));var o=new lc(new qr(i),0),s=new oi(_r);return this.Xu.Ft(function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(s=s.add(t.jh)),!0)},o),Zs.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Zu(t);null!==r&&n.push(r)}),n},t.prototype.Qo=function(t,e){var n=this;yr(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xu;return Zs.forEach(e.mutations,function(i){var o=new lc(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)}).next(function(){n.Xu=r})},t.prototype.jo=function(t){},t.prototype.Ho=function(t,e){var n=new lc(e,0),r=this.Xu.kt(n);return Zs.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return Zs.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zu=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),kl=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new ni(qr.D),this.size=0}return t.prototype.Ir=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.F())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return Zs.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=ci();return e.forEach(function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)}),Zs.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=hi(),i=new qr(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ta,c=a.readTime;if(!e.path.M(s.key.path))break;c.h(n)<=0||u instanceof fs&&Ns(e,u)&&(r=r.ot(u.key,u))}return Zs.resolve(r)},t.prototype.il=function(t,e){return Zs.forEach(this.docs,function(t){return e(t)})},t.prototype.ra=function(t){return new Nl(this)},t.prototype.aa=function(t){return Zs.resolve(this.size)},t}(),Nl=function(t){function e(e){var n=this;return(n=t.call(this)||this).ha=e,n}return Object(r.c)(e,t),e.prototype.Vr=function(t){var e=this,n=[];return this.wr.forEach(function(r,i){i?n.push(e.ha.Ir(t,i,e.readTime)):e.ha.Ar(r)}),Zs.kn(n)},e.prototype.Pr=function(t,e){return this.ha.Rr(t,e)},e.prototype.gr=function(t,e){return this.ha.getEntries(t,e)},e}(Pa),jl=function(){function t(t){this.persistence=t,this.rl=new Pr(function(t){return Wr(t)},Kr),this.lastRemoteSnapshotVersion=Vr.min(),this.highestTargetId=0,this.ol=0,this.al=new cc,this.targetCount=0,this.hl=Mu.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach(function(t,n){return e(n)}),Zs.resolve()},t.prototype.Ia=function(t){return Zs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ma=function(t){return Zs.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.hl.next(),Zs.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),Zs.resolve()},t.prototype.Pa=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new Mu(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.Pa(e),this.targetCount+=1,Zs.resolve()},t.prototype.Va=function(t,e){return this.Pa(e),Zs.resolve()},t.prototype.ya=function(t,e){return this.rl.delete(e.target),this.al.Kh(e.targetId),this.targetCount-=1,Zs.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)}),Zs.kn(o).next(function(){return i})},t.prototype.ba=function(t){return Zs.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return Zs.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Bh(e,n),Zs.resolve()},t.prototype.Ca=function(t,e,n){this.al.Uh(e,n);var r=this.persistence.No,i=[];return r&&e.forEach(function(e){i.push(r.Go(t,e))}),Zs.kn(i)},t.prototype.pa=function(t,e){return this.al.Kh(e),Zs.resolve()},t.prototype.xa=function(t,e){var n=this.al.Wh(e);return Zs.resolve(n)},t.prototype.Ho=function(t,e){return Zs.resolve(this.al.Ho(e))},t}(),Dl=function(){function t(t){var e=this;this.cl={},this.Ma=new _a(0),this.$a=!1,this.$a=!0,this.No=t(this),this.ja=new jl(this),this.Dr=new yu,this.vr=function(t,n){return new kl(t,function(t){return e.No.ul(t)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.th=function(){},t.prototype.Ah=function(){return this.Dr},t.prototype.Th=function(t){var e=this.cl[t.ti()];return e||(e=new Al(this.Dr,this.No),this.cl[t.ti()]=e),e},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;fr("MemoryPersistence","Starting transaction:",t);var i=new Pl(this.Ma.next());return this.No.ll(),n(i).next(function(t){return r.No._l(i).next(function(){return t})}).xn().then(function(t){return i.br(),t})},t.prototype.fl=function(t,e){return Zs.On(Object.values(this.cl).map(function(n){return function(){return n.Ho(t,e)}}))},t}(),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fa=e,n}return Object(r.c)(e,t),e}(Va),Rl=function(){function t(t){this.persistence=t,this.dl=new cc,this.wl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw vr()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),Zs.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),Zs.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),Zs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Kh(e.targetId).forEach(function(t){return n.Tl.add(t.toString())});var r=this.persistence.Ih();return r.xa(t,e.targetId).next(function(t){t.forEach(function(t){return n.Tl.add(t.toString())})}).next(function(){return r.ya(t,e)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.mh().ra();return Zs.forEach(this.Tl,function(r){var i=qr.H(r);return e.Il(t,i).next(function(t){t||n.Ar(i)})}).next(function(){return e.wl=null,n.apply(t)})},t.prototype.yh=function(t,e){var n=this;return this.Il(t,e).next(function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())})},t.prototype.ul=function(t){return 0},t.prototype.Il=function(t,e){var n=this;return Zs.On([function(){return Zs.resolve(n.dl.Ho(e))},function(){return n.persistence.Ih().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),Vl=function(){function t(t){this.ml=t.ml,this.Al=t.Al}return t.prototype.gc=function(t){this.Rl=t},t.prototype.Ic=function(t){this.Pl=t},t.prototype.onMessage=function(t){this.gl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.ml(t)},t.prototype.Vl=function(){this.Rl()},t.prototype.yl=function(t){this.Pl(t)},t.prototype.pl=function(t){this.gl(t)},t}(),Ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ml=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(r.c)(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise(function(i,o){var s=new sr;s.listenOnce(ir.COMPLETE,function(){try{switch(s.getLastErrorCode()){case rr.NO_ERROR:var e=s.getResponseJson();fr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case rr.TIMEOUT:fr("Connection",'RPC "'+t+'" timed out'),o(new cr(ur.DEADLINE_EXCEEDED,"Request time out"));break;case rr.HTTP_ERROR:var n=s.getStatus();if(fr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(ur).indexOf(e)>=0?e:ur.UNKNOWN}(r.status);o(new cr(a,r.message))}else o(new cr(ur.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new cr(ur.UNAVAILABLE,"Connection failed."));break;default:vr()}}finally{fr("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Vc=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Xn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.Cl(i.initMessageHeaders,e),Object(s.p)()||Object(s.r)()||Object(s.m)()||Object(s.n)()||Object(s.s)()||Object(s.l)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");fr("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),u=!1,c=!1,l=new Vl({ml:function(t){c?fr("Connection","Not sending because WebChannel is closed:",t):(u||(fr("Connection","Opening WebChannel transport."),a.open(),u=!0),fr("Connection","WebChannel sending:",t),a.send(t))},Al:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(or.EventType.OPEN,function(){c||fr("Connection","WebChannel transport opened.")}),h(or.EventType.CLOSE,function(){c||(c=!0,fr("Connection","WebChannel transport closed"),l.yl())}),h(or.EventType.ERROR,function(t){c||(c=!0,pr("Connection","WebChannel transport errored:",t),l.yl(new cr(ur.UNAVAILABLE,"The operation could not be completed")))}),h(or.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];yr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){fr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qr[t];if(void 0!==e)return ei(e)}(i),s=r.message;void 0===o&&(o=ur.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.yl(new cr(o,s)),a.close()}else fr("Connection","WebChannel received:",n),l.pl(n)}}),setTimeout(function(){l.Vl()},0),l},e}(function(){function t(t){this.bl=t,this._=t._,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Mc=function(t,e,n,r){var i=this.Dl(t,e);fr("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then(function(t){return fr("RestConnection","Received: ",t),t},function(e){throw pr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$c=function(t,e,n,r){return this.Mc(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",t["Content-Type"]="text/plain",e)for(var n in e.Gh)e.Gh.hasOwnProperty(n)&&(t[n]=e.Gh[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+Ll[t]},t}()),Ul=function(){function t(){var t=this;this.xl=function(){return t.Fl()},this.kl=function(){return t.Ol()},this.Ml=[],this.$l()}return t.prototype.eu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},t.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},t.prototype.Fl=function(){fr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){fr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Fl=function(){function t(){}return t.prototype.eu=function(t){},t.prototype.Di=function(){},t}();function ql(t){return new Zi(t,!0)}var zl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return this.Su=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.Gc=this.Kl(t),[2]}})})},t.prototype.Ul=function(t){return null},t.prototype.Kl=function(t){return e=this.persistence,n=new xl,new Zu(e,n,t.Ql);var e,n},t.prototype.Bl=function(t){return new Dl(Rl.El)},t.prototype.Ll=function(t){return new Na},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}})})},t}(),Bl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ac(this.Gc)];case 2:return n.sent(),[4,this.Wl.initialize(this,e)];case 3:return n.sent(),[4,Ol(this.Wl.fi)];case 4:return n.sent(),[4,Mc(this.Wl.bu)];case 5:return n.sent(),[2]}})})},e.prototype.Ul=function(t){return new Ba(this.persistence.No.wo,t.hs)},e.prototype.Bl=function(t){var e=Qu(t.bl._,t.bl.persistenceKey),n=void 0!==this.cacheSizeBytes?za.ao(this.cacheSizeBytes):za.fo,r=ql(t.bl._);return new Gu(this.synchronizeTabs,e,t.clientId,n,t.hs,aa(),ua(),r,this.Su,!!this.forceOwnership)},e.prototype.Ll=function(t){return new Na},e}(zl),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Wl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Wl.fi,this.Su instanceof ka?(this.Su.fi={er:bl.bind(null,n),nr:Cl.bind(null,n),sr:Sl.bind(null,n),pi:Il.bind(null,n)},[4,this.Su.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa(function(t){return Object(r.b)(i,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return[4,wl(this.Wl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ii?this.ql.start(this.Gc):t||this.ql.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Ll=function(t){var e=aa();if(!ka.Ln(e))throw new cr(ur.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qu(t.bl._,t.bl.persistenceKey);return new ka(e,t.hs,n,t.clientId,t.Ql)},e}(Bl),Gl=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.Gc?[3,2]:(this.Gc=t.Gc,this.Su=t.Su,this.zc=this.jl(e),this.bu=this.Gl(e),this.vu=this.zl(e),this.fi=this.Hl(e,!t.synchronizeTabs),this.Su.di=function(t){return il(n.fi,t,1)},this.bu.Hc.Jl=vl.bind(null,this.fi),[4,Gc(this.bu,this.fi.Uu)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.zl=function(t){return new da},t.prototype.jl=function(t){var e=ql(t.bl._),n=new Ml(t.bl);return function(t,e,n){return new bc(t,e,n)}(t.credentials,n,e)},t.prototype.Gl=function(t){var e,n,r,i,o,s=this;return e=this.Gc,n=this.zc,r=t.hs,i=function(t){return il(s.fi,t,0)},o=Ul.Ln()?new Ul:new Fl,new _c(e,n,r,i,o)},t.prototype.Hl=function(t,e){return function(t,e,n,r,i,o,s){var a=new Jc(t,e,n,r,i,o);return s&&(a.qu=!0),a}(this.Gc,this.bu,this.vu,this.Su,t.Ql,t.Du,e)},t.prototype.terminate=function(){return Cc(this.bu)},t}(),$l=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xl=function(){this.muted=!0},t.prototype.Yl=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Wl(t,e,n){if(!n)throw new cr(ur.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new cr(ur.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Yl(t,e,n,r){if(!0===e&&!0===r)throw new cr(ur.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ql(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":vr()}function Zl(t,e){if(e<=0)throw new cr(ur.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xl=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new cr(ur.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new Fr(t)},Jl=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Fr.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Zl.isEqual(t.Zl)},e}(Xl),th=new RegExp("[~\\*/\\[\\]]"),eh=function(t){this.t_=t},nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){if(2!==t.n_)throw t.s_(1===t.n_?this.t_+"() can only appear at the top level of your update data":this.t_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(eh);function rh(t,e,n){return new gh({n_:3,i_:e.settings.i_,methodName:t.t_,r_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.e_=function(t){return new Ho(t.path,new Ro)},e.prototype.isEqual=function(t){return t instanceof e},e}(eh),oh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=rh(this,t,!0),n=this.o_.map(function(t){return _h(t,e)}),r=new Vo(n);return new Ho(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eh),sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).o_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=rh(this,t,!0),n=this.o_.map(function(t){return _h(t,e)}),r=new Mo(n);return new Ho(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eh),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return Object(r.c)(e,t),e.prototype.e_=function(t){var e=new Fo(t.serializer,to(t.serializer,this.a_));return new Ho(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(eh),uh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new cr(ur.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cr(ur.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.h_=t,this.c_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.h_===t.h_&&this.c_===t.c_},t.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},t.prototype.g=function(t){return _r(this.h_,t.h_)||_r(this.c_,t.c_)},t}(),ch=function(t){this.u_=t},lh=/^__.*__$/,hh=function(t,e,n){this.l_=t,this.__=e,this.f_=n},fh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[];return n.push(null!==this.Qe?new es(t,this.data,this.Qe,e):new ts(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new rs(t,this.fieldTransforms)),n},t}(),dh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.d_=function(t,e){var n=[new es(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new rs(t,this.fieldTransforms)),n},t}();function ph(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vr()}}var gh=function(){function t(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.w_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),t.prototype.E_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.T_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.I_(t),r},t.prototype.m_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.E_({path:n,r_:!1});return r.w_(),r},t.prototype.A_=function(t){return this.E_({path:void 0,r_:!0})},t.prototype.s_=function(t){return Oh(t,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},t.prototype.contains=function(t){return void 0!==this.Qe.find(function(e){return t.M(e)})||void 0!==this.fieldTransforms.find(function(e){return t.M(e.field)})},t.prototype.w_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.s_("Document fields must not be empty");if(ph(this.n_)&&lh.test(t))throw this.s_('Document fields cannot begin and end with "__"')},t}(),vh=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||ql(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new gh({n_:t,methodName:e,i_:n,path:Fr.U(),r_:!1,R_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function yh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);Ch("Data must be an object, but it was:",s,r);var a,u,c=Eh(r,s);if(o.merge)a=new Bo(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Xl)p=d.Zl;else{if("string"!=typeof d)throw vr();p=Th(e,d,n)}if(!s.contains(p))throw new cr(ur.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");xh(l,p)||l.push(p)}a=new Bo(l),u=s.fieldTransforms.filter(function(t){return a.Je(t.field)})}else a=null,u=s.fieldTransforms;return new fh(new us(c),a,u)}function mh(t,e,n,r){var i=t.P_(1,e,n);Ch("Data must be an object, but it was:",i,r);var o=[],s=new cs;jr(r,function(t,r){var a=Th(e,t,n),u=i.m_(a);if(r instanceof nh||r instanceof ch&&r.u_ instanceof nh)o.push(a);else{var c=_h(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Bo(o);return new dh(s.Xe(),a,i.fieldTransforms)}function bh(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[Sh(e,r,n)],u=[i];if(o.length%2!=0)throw new cr(ur.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Sh(e,o[c])),u.push(o[c+1]);for(var l=[],h=new cs,f=a.length-1;f>=0;--f)if(!xh(l,a[f])){var d=a[f],p=u[f],g=s.m_(d);if(p instanceof nh||p instanceof ch&&p.u_ instanceof nh)l.push(d);else{var v=_h(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new Bo(l);return new dh(h.Xe(),y,s.fieldTransforms)}function wh(t,e,n,r){return void 0===r&&(r=!1),_h(n,t.P_(r?4:3,e))}function _h(t,e){if(t instanceof ch&&(t=t.u_),Ih(t))return Ch("Unsupported field value:",e,t),Eh(t,e);if(t instanceof eh)return function(t,e){if(!ph(e.n_))throw e.s_(t.t_+"() can only be used with update() and set()");if(!e.path)throw e.s_(t.t_+"() is not currently supported inside arrays");var n=t.e_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.r_&&4!==e.n_)throw e.s_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=_h(o[i],e.A_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return to(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rr.fromDate(t);return{timestampValue:eo(e.serializer,n)}}if(t instanceof Rr){var r=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eo(e.serializer,r)}}if(t instanceof uh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sr)return{bytesValue:no(e.serializer,t.l)};if(t instanceof hh){var i=e._,o=t.l_;if(!o.isEqual(i))throw e.s_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:oo(t.l_||e._,t.__.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.s_("Unsupported field value: "+Ql(t))}(t,e)}function Eh(t,e){var n={};return Dr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):jr(t,function(t,r){var i=_h(r,e.T_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ih(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof uh||t instanceof Sr||t instanceof hh||t instanceof eh)}function Ch(t,e,n){if(!Ih(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ql(n);throw e.s_("an object"===r?t+" a custom object":t+" "+r)}}function Sh(t,e,n){if(e instanceof Xl)return e.Zl;if("string"==typeof e)return Th(t,e);throw Oh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Th(t,e,n){try{return function(t){if(t.search(th)>=0)throw new cr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Jl.bind.apply(Jl,Object(r.g)([void 0],t.split("."))))}catch(e){throw new cr(ur.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Zl}catch(e){throw Oh((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Oh(t,e,n,r,i){var o=r&&!r.P(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new cr(ur.INVALID_ARGUMENT,(a+=". ")+t+u)}function xh(t,e){return t.some(function(t){return t.isEqual(e)})}var Ah=function(){function t(t){this.zc=t,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}return t.prototype.b_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:if(this.v_(),this.mutations.length>0)throw new cr(ur.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a,u;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=mr(t),i=ho(n.serializer)+"/documents",o={documents:e.map(function(t){return ao(n.serializer,t)})},[4,n.$c("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){yr(!!e.found);var n=uo(t,e.found.name),r=io(e.found.updateTime),i=new us({mapValue:{fields:e.found.fields}});return new fs(n,r,i,{})}(t,e):"missing"in e?function(t,e){yr(!!e.missing),yr(!!e.readTime);var n=uo(t,e.missing),r=io(e.readTime);return new ds(n,r)}(t,e):vr()}(n.serializer,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());yr(!!e),u.push(e)}),u)]}})})}(this.zc,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof ds||t instanceof fs?n.S_(t):vr()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.d_(t,this.Ge(t))),this.p_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.d_(t,this.D_(t)))}catch(t){this.y_=t}this.p_.add(t.toString())},t.prototype.delete=function(t){this.write([new ss(t,this.Ge(t))]),this.p_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e=this;return Object(r.d)(this,function(n){switch(n.label){case 0:if(this.v_(),this.y_)throw this.y_;return t=this.g_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=qr.H(n);e.mutations.push(new as(r,e.Ge(r)))}),[4,function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o;return Object(r.d)(this,function(r){switch(r.label){case 0:return n=mr(t),i=ho(n.serializer)+"/documents",o={writes:e.map(function(t){return go(n.serializer,t)})},[4,n.Mc("Commit",i,o)];case 1:return r.sent(),[2]}})})}(this.zc,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}})})},t.prototype.S_=function(t){var e;if(t instanceof fs)e=t.version;else{if(!(t instanceof ds))throw vr();e=Vr.min()}var n=this.g_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new cr(ur.ABORTED,"Document version changed between two reads.")}else this.g_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.g_.get(t.toString());return!this.p_.has(t.toString())&&e?$o.updateTime(e):$o.ze()},t.prototype.D_=function(t){var e=this.g_.get(t.toString());if(!this.p_.has(t.toString())&&e){if(e.isEqual(Vr.min()))throw new cr(ur.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $o.updateTime(e)}return $o.exists(!0)},t.prototype.write=function(t){this.v_(),this.mutations=this.mutations.concat(t)},t.prototype.v_=function(){},t}(),kh=function(){function t(t,e,n,r){this.hs=t,this.zc=e,this.updateFunction=n,this.ls=r,this.C_=5,this.Vs=new Qs(this.hs,"transaction_retry")}return t.prototype.run=function(){this.N_()},t.prototype.N_=function(){var t=this;this.Vs.Pn(function(){return Object(r.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(r.d)(this,function(r){return t=new Ah(this.zc),(e=this.x_(t))&&e.then(function(e){n.hs.ws(function(){return t.commit().then(function(){n.ls.resolve(e)}).catch(function(t){n.F_(t)})})}).catch(function(t){n.F_(t)}),[2]})})})},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!zr(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.F_=function(t){var e=this;this.C_>0&&this.k_(t)?(this.C_-=1,this.hs.ws(function(){return e.N_(),Promise.resolve()})):this.ls.reject(t)},t.prototype.k_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ti(e)}return!1},t}(),Nh=function(){function t(t,e){this.credentials=t,this.hs=e,this.clientId=wr.t(),this.O_=new Ys}return t.prototype.start=function(t,e,n){var i=this;this.M_(),this.bl=t;var o=new Ys,s=!1;return this.credentials.Jh(function(t){if(!s)return s=!0,fr("FirestoreClient","Initializing. user=",t.uid),i.L_(e,n,t,o).then(i.O_.resolve,i.O_.reject);i.hs.Cs(function(){return function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i;return Object(r.d)(this,function(r){switch(r.label){case 0:return(n=mr(t)).hs.Fs(),fr("RemoteStore","RemoteStore received new credentials"),i=Nc(n),n.Xc.add(3),[4,Ic(n)];case 1:return r.sent(),i&&n.nu.set("Unknown"),[4,n.Hc.Jl(e)];case 2:return r.sent(),n.Xc.delete(3),[4,Ec(n)];case 3:return r.sent(),[2]}})})}(i.bu,t)})}),this.hs.ws(function(){return i.O_.promise}),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue(function(){return t.persistence.th(!0),function(t){var e=mr(t);return e.Xc.delete(0),Ec(e)}(t.bu)})},t.prototype.L_=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,function(){var o,s,a=this;return Object(r.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(o={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:n,Du:100})];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Su=t.Su,this.Gc=t.Gc,this.ql=t.ql,this.zc=e.zc,this.bu=e.bu,this.fi=e.fi,this.B_=e.vu,this.B_.Us=tl.bind(null,this.fi),this.B_.Ws=nl.bind(null,this.fi),this.persistence.Za(function(){return Object(r.b)(a,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!function(t){return"FirebaseError"===t.name?t.code===ur.FAILED_PRECONDITION||t.code===ur.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.L_(new zl,new Gl,n,i))];case 4:return[2]}})})},t.prototype.M_=function(){if(this.hs.ps)throw new cr(ur.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.M_(),this.hs.enqueue(function(){return t.persistence.th(!1),function(t){return Object(r.b)(this,void 0,void 0,function(){var e;return Object(r.d)(this,function(n){switch(n.label){case 0:return(e=mr(t)).Xc.add(0),[4,Ic(e)];case 1:return n.sent(),e.nu.set("Offline"),[2]}})})}(t.bu)})},t.prototype.terminate=function(){var t=this;this.hs.Ds();var e=new Ys;return this.hs.bs(function(){return Object(r.b)(t,void 0,void 0,function(){var t,n;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Cc(this.bu)];case 1:return r.sent(),[4,this.Su.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=ha(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}})})}),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.M_();var e=new Ys;return this.hs.ws(function(){return function(t,e){return Object(r.b)(this,void 0,void 0,function(){var n,i,o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:Nc((n=mr(t)).bu)||fr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=mr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Sr.qo(t)})}(n.Gc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lu.get(i)||[]).push(e),n.Lu.set(i,o),[3,4]);case 3:return s=r.sent(),a=ha(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}(t.fi,e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.M_();var i=new $l(n),o=new ba(t,i,e);return this.hs.ws(function(){return pa(r.B_,o)}),function(){i.Xl(),r.hs.ws(function(){return ga(r.B_,o)})}},t.prototype.q_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new Ys,[2,(this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=mr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Nh.Cr(t,e)})}(t,e)];case 1:return(i=r.sent())instanceof fs?n.resolve(i):i instanceof ds?n.resolve(null):n.reject(new cr(ur.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=ha(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})}(n.Gc,t,e)}),e.promise)]}})})},t.prototype.U_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new Ys,[2,(this.hs.ws(function(){return function(t,e,n,r,i){var o=new $l({next:function(o){e.ws(function(){return ga(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new cr(ur.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new cr(ur.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ba(ys(n.path),o,{includeMetadataChanges:!0,Xs:!0});return pa(t,s)}(i.B_,i.hs,t,e,n)}),n.promise)]}})})},t.prototype.K_=function(t){return Object(r.b)(this,void 0,void 0,function(){var e,n=this;return Object(r.d)(this,function(i){switch(i.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return i.sent(),e=new Ys,[2,(this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(r.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ic(t,e,!0)];case 1:return i=r.sent(),o=new Qc(e,i.Fh),s=o.Eu(i.documents),a=o.Vr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=ha(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}})})}(n.Gc,t,e)}),e.promise)]}})})},t.prototype.Q_=function(t,e){return void 0===e&&(e={}),Object(r.b)(this,void 0,void 0,function(){var n,i=this;return Object(r.d)(this,function(r){switch(r.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return r.sent(),n=new Ys,[2,(this.hs.ws(function(){return function(t,e,n,r,i){var o=new $l({next:function(n){e.ws(function(){return ga(t,s)}),n.fromCache&&"server"===r.source?i.reject(new cr(ur.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ba(n,o,{includeMetadataChanges:!0,Xs:!0});return pa(t,s)}(i.B_,i.hs,t,e,n)}),n.promise)]}})})},t.prototype.write=function(t){var e=this;this.M_();var n=new Ys;return this.hs.ws(function(){return function(t,e,n){return Object(r.b)(this,void 0,void 0,function(){var i,o,s,a;return Object(r.d)(this,function(r){switch(r.label){case 0:i=Ol(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=mr(t),i=Rr.now(),o=e.reduce(function(t,e){return t.add(e.key)},pi());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Nh.Or(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Zo(c,n.get(c.key));null!=l&&s.push(new es(c.key,l,ls(l.proto.mapValue),$o.exists(!0)))}return r.Sr.Oo(t,i,s,e)})}).then(function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}})}(i.Gc,e)];case 2:return o=r.sent(),i.Su.Fi(o.batchId),function(t,e,n){var r=t.$u[t.currentUser.ti()];r||(r=new ni(_r)),r=r.ot(e,n),t.$u[t.currentUser.ti()]=r}(i,o.batchId,n),[4,gl(i,o.wr)];case 3:return r.sent(),[4,Mc(i.bu)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=ha(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}(e.fi,t,n)}),n.promise},t.prototype._=function(){return this.bl._},t.prototype.W_=function(t){var e=this;this.M_();var n=new $l(t);return this.hs.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){return[2,function(t,e){mr(t).qs.add(e),e.next()}(this.B_,n)]})})}),function(){n.Xl(),e.hs.ws(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){return[2,function(t,e){mr(t).qs.delete(e)}(this.B_,n)]})})})}},Object.defineProperty(t.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.M_();var n=new Ys;return this.hs.ws(function(){return new kh(e.hs,e.zc,t,n).run(),Promise.resolve()}),n.promise},t}();function jh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Dh=function(){function t(t,e,n,r){this._=t,this.G_=e,this.z_=n,this.H_=r}return t.prototype.J_=function(t){switch(Di(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qi(t.integerValue||t.doubleValue);case 3:return this.Y_(t.timestampValue);case 4:return this.X_(t);case 5:return t.stringValue;case 6:return this.H_(zi(t.bytesValue));case 7:return this.Z_(t.referenceValue);case 8:return this.tf(t.geoPointValue);case 9:return this.ef(t.arrayValue);case 10:return this.nf(t.mapValue);default:throw vr()}},t.prototype.nf=function(t){var e=this,n={};return jr(t.fields||{},function(t,r){n[t]=e.J_(r)}),n},t.prototype.tf=function(t){return new uh(qi(t.latitude),qi(t.longitude))},t.prototype.ef=function(t){var e=this;return(t.values||[]).map(function(t){return e.J_(t)})},t.prototype.X_=function(t){switch(this.G_){case"previous":var e=ki(t);return null==e?null:this.J_(e);case"estimate":return this.Y_(Ni(t));default:return null}},t.prototype.Y_=function(t){var e=Fi(t);return new Rr(e.seconds,e.nanos)},t.prototype.Z_=function(t){var e=Mr.q(t);yr(ko(e));var n=new kr(e.get(1),e.get(3)),r=new qr(e.N(5));return n.isEqual(this._)||dr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(r)},t}(),Ph=za.uo,Rh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new cr(ur.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=za._o;else{if(t.cacheSizeBytes!==Ph&&t.cacheSizeBytes<za.lo)throw new cr(ur.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+za.lo);this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Yl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vh="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Lh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new cr(ur.FAILED_PRECONDITION,Vh)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new cr(ur.FAILED_PRECONDITION,Vh)},t.prototype.clearIndexedDbPersistence=function(t){throw new cr(ur.FAILED_PRECONDITION,Vh)},t}(),Mh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){var n=new Gl,r=new Bl(n,t.sf().cacheSizeBytes,e);return t.if(r,n)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){var e=new Gl,n=new Hl(e,t.sf().cacheSizeBytes);return t.if(n,e)},t.prototype.clearIndexedDbPersistence=function(t){var e=this,n=new Ys;return t.rf.bs(function(){return Object(r.b)(e,void 0,void 0,function(){var e;return Object(r.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(e){switch(e.label){case 0:return Xs.Ln()?[4,Xs.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Qu(t.l_,t.af))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},t}(),Uh=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Lh),this.hf=i,this.cf=null,this.rf=new la,this.INTERNAL={delete:function(){return Object(r.b)(o,void 0,void 0,function(){return Object(r.d)(this,function(t){switch(t.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var s=e;this.cf=s,this.l_=t._f(s),this.af=s.name,this.ff=new dc(n)}else{var a=e;if(!a.projectId)throw new cr(ur.INVALID_ARGUMENT,"Must provide projectId");this.l_=new kr(a.projectId,a.database),this.af="[DEFAULT]",this.ff=new fc}this.df=new Rh({})}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new vh(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.df),t)).merge;var e=new Rh(t);if(this.lf&&!this.df.isEqual(e))throw new cr(ur.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.df=e,void 0!==e.credentials&&(this.ff=function(t){if(!t)return new fc;switch(t.type){case"gapi":var e=t.client;return yr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new gc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new cr(ur.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.df.host&&pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.lf)throw new cr(ur.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Yl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(r.b)(this,void 0,void 0,function(){return Object(r.d)(this,function(t){if(void 0!==this.lf&&!this.lf.j_)throw new cr(ur.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.uf(),jh(t)?this.lf.W_(t):this.lf.W_({next:t})},t.prototype.uf=function(){return this.lf||this.if(new zl,new Gl),this.lf},t.prototype.If=function(){return new Ar(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},t.prototype.if=function(t,e){var n=this.If();return this.lf=new Nh(this.ff,this.rf),this.lf.start(n,t,e)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new cr(ur.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new cr(ur.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new kr(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new cr(ur.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Wl("Firestore.collection","path",t),this.uf(),new Xh(Mr.q(t),this,null)},t.prototype.doc=function(t){return Wl("Firestore.doc","path",t),this.uf(),zh.mf(Mr.q(t),this,null)},t.prototype.collectionGroup=function(t){if(Wl("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new cr(ur.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new Qh(function(t){return new gs(Mr.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return this.uf().transaction(function(n){return t(new Fh(e,n))})},t.prototype.batch=function(){return this.uf(),new qh(this)},t.prototype.sf=function(){return this.df},t}(),Fh=function(){function t(t,e){this.Af=t,this.Rf=e}return t.prototype.get=function(t){var e=this,n=Jh(0,t,this.Af);return this.Rf.b_([n.__]).then(function(t){if(!t||1!==t.length)return vr();var r=t[0];if(r instanceof ds)return new Hh(e.Af,n.__,null,!1,!1,n.f_);if(r instanceof fs)return new Hh(e.Af,n.__,r,!1,!1,n.f_);throw vr()})},t.prototype.set=function(t,e,n){var r=Jh(0,t,this.Af);n=Kl("Transaction.set",n);var i=ef(r.f_,e,n),o=yh(this.Af.wf,"Transaction.set",r.__,i,null!==r.f_,n);return this.Rf.set(r.__,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Jl?(r=Jh(0,t,this.Af),i=bh(this.Af.wf,"Transaction.update",r.__,e,n,o)):(r=Jh(0,t,this.Af),i=mh(this.Af.wf,"Transaction.update",r.__,e)),this.Rf.update(r.__,i),this},t.prototype.delete=function(t){var e=Jh(0,t,this.Af);return this.Rf.delete(e.__),this},t}(),qh=function(){function t(t){this.Af=t,this.Pf=[],this.gf=!1}return t.prototype.set=function(t,e,n){this.Vf();var r=Jh(0,t,this.Af);n=Kl("WriteBatch.set",n);var i=ef(r.f_,e,n),o=yh(this.Af.wf,"WriteBatch.set",r.__,i,null!==r.f_,n);return this.Pf=this.Pf.concat(o.d_(r.__,$o.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Vf(),"string"==typeof e||e instanceof Jl?(r=Jh(0,t,this.Af),i=bh(this.Af.wf,"WriteBatch.update",r.__,e,n,o)):(r=Jh(0,t,this.Af),i=mh(this.Af.wf,"WriteBatch.update",r.__,e)),this.Pf=this.Pf.concat(i.d_(r.__,$o.exists(!0))),this},t.prototype.delete=function(t){this.Vf();var e=Jh(0,t,this.Af);return this.Pf=this.Pf.concat(new ss(e.__,$o.ze())),this},t.prototype.commit=function(){return this.Vf(),this.gf=!0,this.Pf.length>0?this.Af.uf().write(this.Pf):Promise.resolve()},t.prototype.Vf=function(){if(this.gf)throw new cr(ur.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),zh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.l_,e,r)||this).__=e,i.firestore=n,i.f_=r,i.lf=i.firestore.uf(),i}return Object(r.c)(e,t),e.mf=function(t,n,r){if(t.length%2!=0)throw new cr(ur.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new qr(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xh(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Wl("DocumentReference.collection","path",t),!t)throw new cr(ur.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Mr.q(t);return new Xh(this.__.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.__.isEqual(t.__)&&this.f_===t.f_},e.prototype.set=function(t,e){e=Kl("DocumentReference.set",e);var n=ef(this.f_,t,e),r=yh(this.firestore.wf,"DocumentReference.set",this.__,n,null!==this.f_,e);return this.lf.write(r.d_(this.__,$o.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Jl?bh(this.firestore.wf,"DocumentReference.update",this.__,t,e,r):mh(this.firestore.wf,"DocumentReference.update",this.__,t),this.lf.write(n.d_(this.__,$o.exists(!0)))},e.prototype.delete=function(){return this.lf.write([new ss(this.__,$o.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||jh(i[a])||(s=i[a],a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(jh(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){i[a]&&i[a](r.yf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(ys(this.__.path),u,l)},e.prototype.get=function(t){var e=this,n=this.firestore.uf();return t&&"cache"===t.source?n.q_(this.__).then(function(t){return new Hh(e.firestore,e.__,t,!0,t instanceof fs&&t.Ye,e.f_)}):n.U_(this.__,t).then(function(t){return e.yf(t)})},e.prototype.withConverter=function(t){return new e(this.__,this.firestore,t)},e.prototype.yf=function(t){var e=t.docs.get(this.__);return new Hh(this.firestore,this.__,e,t.fromCache,t.hasPendingWrites,this.f_)},e}(hh),Bh=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hh=function(){function t(t,e,n,r,i,o){this.Af=t,this.__=e,this.pf=n,this.bf=r,this.vf=i,this.f_=o}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.pf){if(this.f_){var n=new Gh(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(n,t)}return new Dh(this.Af.l_,t.serverTimestamps||"none",function(t){return new zh(t,e.Af,null)},function(t){return new xr(t)}).J_(this.pf.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.pf){var r=this.pf.data().field(Sh("DocumentSnapshot.get",t,this.__));if(null!==r)return new Dh(this.Af.l_,e.serverTimestamps||"none",function(t){return new zh(t,n.Af,n.f_)},function(t){return new xr(t)}).J_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new zh(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Bh(this.vf,this.bf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&this.bf===e.bf&&this.__.isEqual(e.__)&&(null===this.pf?null===e.pf:this.pf.isEqual(e.pf))&&this.f_===e.f_},t}(),Gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Hh);function $h(t,e,n){if("string"==typeof n){if(""===n)throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Es(e)&&-1!==n.indexOf("/"))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mr.q(n));if(!qr.X(r))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bi(t,new qr(r))}if(n instanceof hh)return Bi(t,n.__);throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ql(n)+".")}function Wh(t,e){if(!Array.isArray(t)||0===t.length)throw new cr(ur.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new cr(ur.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kh(t,e,n){if(!n.isEqual(e))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yh(t){if(bs(t)&&0===t.on.length)throw new cr(ur.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qh=function(){function t(t,e,n){this.Sf=t,this.firestore=e,this.f_=n}return t.prototype.where=function(e,n,r){var i=Sh("Query.where",e),o=function(t,e,n,r,i,o,s){var a;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new cr(ur.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wh(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push($h(r,t,l[c]));a={arrayValue:{values:u}}}else a=$h(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wh(s,o),a=wh(n,"Query.where",s,"in"===o||"not-in"===o);var h=Ds.create(i,o,a);return function(t,e){if(e.un()){var n=_s(t);if(null!==n&&!n.isEqual(e.field))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ws(t);null!==r&&Kh(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new cr(ur.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.Sf,0,this.firestore.wf,this.firestore.l_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new gs(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Sf,o),this.firestore,this.f_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new cr(ur.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Sh("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new cr(ur.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cr(ur.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $s(e,n);return function(t,e){if(null===ws(t)){var n=_s(t);null!==n&&Kh(0,n,e.field)}}(t,r),r}(this.Sf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new gs(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Sf,o),this.firestore,this.f_)},t.prototype.limit=function(e){return Zl("Query.limit",e),new t(Ss(this.Sf,e,"F"),this.firestore,this.f_)},t.prototype.limitToLast=function(e){return Zl("Query.limitToLast",e),new t(Ss(this.Sf,e,"L"),this.firestore,this.f_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAt",e,n,!0);return new t(Ts(this.Sf,i),this.firestore,this.f_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.startAfter",e,n,!1);return new t(Ts(this.Sf,i),this.firestore,this.f_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endBefore",e,n,!0);return new t(Os(this.Sf,i),this.firestore,this.f_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Df("Query.endAt",e,n,!1);return new t(Os(this.Sf,i),this.firestore,this.f_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&xs(this.Sf,e.Sf)&&this.f_===e.f_},t.prototype.withConverter=function(e){return new t(this.Sf,this.firestore,e)},t.prototype.Df=function(t,e,n,r){if(e instanceof Hh)return function(t,e,n,r,i){if(!r)throw new cr(ur.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Is(t);s<a.length;s++){var u=a[s];if(u.field.W())o.push(Bi(e,r.key));else{var c=r.field(u.field);if(Ai(c))throw new cr(ur.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.B();throw new cr(ur.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new zs(o,i)}(this.Sf,this.firestore.l_,t,e.pf,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new cr(ur.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.W()){if("string"!=typeof c)throw new cr(ur.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Es(t)&&-1!==c.indexOf("/"))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Mr.q(c));if(!qr.X(l))throw new cr(ur.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new qr(l);a.push(Bi(e,h))}else{var f=wh(n,r,c);a.push(f)}}return new zs(a,o)}(this.Sf,this.firestore.l_,this.firestore.wf,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={},a=0;if("object"!=typeof i[a]||jh(i[a])||(s=i[a],a++),jh(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[a]&&i[a](new Zh(r.firestore,r.Sf,t,r.f_))},error:i[a+1],complete:i[a+2]};return Yh(this.Sf),this.firestore.uf().listen(this.Sf,s,c)},t.prototype.get=function(t){var e=this;Yh(this.Sf);var n=this.firestore.uf();return(t&&"cache"===t.source?n.K_(this.Sf):n.Q_(this.Sf,t)).then(function(t){return new Zh(e.firestore,e.Sf,t,e.f_)})},t}(),Zh=function(){function t(t,e,n,r){this.Af=t,this.Cf=e,this.Nf=n,this.f_=r,this.xf=null,this.Ff=null,this.metadata=new Bh(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Nf.docs.forEach(function(r){t.call(e,n.kf(r,n.metadata.fromCache,n.Nf.Qt.has(r.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Qh(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Nf.jt)throw new cr(ur.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===e||(this.xf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map(function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}})}var i=t.Kt;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:tf(e.type),doc:r,oldIndex:o,newIndex:s}})}(this.Nf,e,this.kf.bind(this)),this.Ff=e),this.xf},t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&xs(this.Cf,e.Cf)&&this.Nf.isEqual(e.Nf)&&this.f_===e.f_},t.prototype.kf=function(t,e,n){return new Gh(this.Af,t.key,t,e,n,this.f_)},t}(),Xh=function(t){function e(e,n,r){var i=this;if((i=t.call(this,ys(e),n,r)||this).Of=e,e.length%2!=1)throw new cr(ur.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Sf.path.F();return t.P()?null:new zh(new qr(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=wr.t()),Wl("CollectionReference.doc","path",t);var e=Mr.q(t);return zh.mf(this.Sf.path.child(e),this.firestore,this.f_)},e.prototype.add=function(t){var e=this.f_?this.f_.toFirestore(t):t,n=this.doc();return new zh(n.__,this.firestore,null).set(e).then(function(){return n})},e.prototype.withConverter=function(t){return new e(this.Of,this.firestore,t)},e}(Qh);function Jh(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new cr(ur.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ql(t);throw new cr(ur.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,zh);if(r.firestore!==n)throw new cr(ur.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function tf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vr()}}function ef(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new ih("serverTimestamp");return t.t_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new nh("deleteField");return t.t_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oh("arrayUnion",t)}).apply(void 0,t);return r.t_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sh("arrayRemove",t)}).apply(void 0,t);return r.t_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ah("increment",t)}(t);return n.t_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.u_.isEqual(t.u_)},e}(ch),rf={Firestore:Uh,GeoPoint:uh,Timestamp:Rr,Blob:xr,Transaction:Fh,WriteBatch:qh,DocumentReference:zh,DocumentSnapshot:Hh,Query:Qh,QueryDocumentSnapshot:Gh,QuerySnapshot:Zh,CollectionReference:Xh,FieldPath:Jl,FieldValue:nf,setLogLevel:function(t){lr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:Ph};function of(t){!function(t,e){t.INTERNAL.registerComponent(new ar.a("firestore",function(t){return function(t,e){return new Uh(t,e,new Mh)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rf)))}(t),t.registerVersion("@firebase/firestore","2.0.0")}of(i.a)},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.i)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.12",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof l?f(a.errors):[a]}}if(u(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof l?e=e.concat(f(a.errors)):e.push(a)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let m=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let I=(()=>{class t extends m{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new m;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}function T(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(t,e))}}class O{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new x(t,this.project,this.thisArg))}}class x extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=k(),j=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[v])return r=t,t=>{const e=r[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(j(t))return A(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[N])return e=t,t=>{const n=e[N]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function R(t,e){return new m(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new m(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(j(t))return R(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[N](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof m?t:new m(P(t))}class L extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class M extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(!e.closed)return t instanceof m?t.subscribe(e):P(t)(e)}function F(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(F((n,r)=>V(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new z(t,this.project,this.concurrent))}}class z extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new L(this),n=this.destination;n.add(e);const r=U(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return F(y,t)}function H(t,e){return e?R(t,e):new m(A(t))}function G(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends m{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Y=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new I}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function J(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=X({__forward_ref__:X});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return tt(this())},t}function it(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===rt}function st(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ut(t){return ct(t,ht)||ct(t,dt)}function ct(t,e){return t.hasOwnProperty(e)?t[e]:null}function lt(t){return t&&(t.hasOwnProperty(ft)||t.hasOwnProperty(pt))?t[ft]:null}const ht=X({"\u0275prov":X}),ft=X({"\u0275inj":X}),dt=X({ngInjectableDef:X}),pt=X({ngInjectorDef:X});var gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let vt;function yt(t){const e=vt;return vt=t,e}function mt(t,e,n){const r=ut(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&gt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${tt(t)}]`)}function bt(t){return{toString:t}.toString()}var wt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),_t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St="undefined"!=typeof global&&global,Tt=Et||St||It||Ct,Ot={},xt=[],At=X({"\u0275cmp":X}),kt=X({"\u0275dir":X}),Nt=X({"\u0275pipe":X}),jt=X({"\u0275mod":X}),Dt=X({"\u0275loc":X}),Pt=X({"\u0275fac":X}),Rt=X({__NG_ELEMENT_ID__:X});let Vt=0;function Lt(t){return bt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||xt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Vt++,n.inputs=zt(t.inputs,e),n.outputs=zt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Mt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ut):null,n})}function Mt(t){return Ht(t)||function(t){return t[kt]||null}(t)}function Ut(t){return function(t){return t[Nt]||null}(t)}const Ft={};function qt(t){const e={type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&bt(()=>{Ft[t.id]=t.type}),e}function zt(t,e){if(null==t)return Ot;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Bt=Lt;function Ht(t){return t[At]||null}function Gt(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const $t=20,Wt=10;function Kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Qt(t){return 0!=(8&t.flags)}function Zt(t){return 2==(2&t.flags)}function Xt(t){return 1==(1&t.flags)}function Jt(t){return null!==t.template}function te(t,e){return t.hasOwnProperty(Pt)?t[Pt]:null}class ee extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}function ie(t,e){const n=e?" in "+e:"";throw new ee("201",`No provider for ${re(t)} found${n}`)}class oe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function se(){return ae}function ae(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),ue}function ue(){const t=le(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ot)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=le(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ot,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new oe(u&&u.currentValue,e,s===Ot),t[r]=e}function le(t){return t.__ngSimpleChanges__||null}se.ngInherit=!0;const he="http://www.w3.org/2000/svg";let fe=void 0;function de(t){return!!t.listen}const pe={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return ge(e[t])}function ye(t,e){return ge(e[t.index])}function me(t,e){return t.data[e]}function be(t,e){const n=e[t];return Kt(n)?n:n[0]}function we(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _e(t){return 128==(128&t[2])}function Ee(t,e){return null==e?null:t[e]}function Ie(t){t[18]=0}function Ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Se={lFrame:He(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Te(){return Se.bindingsEnabled}function Oe(){return Se.lFrame.lView}function xe(){return Se.lFrame.tView}function Ae(t){Se.lFrame.contextLView=t}function ke(){let t=Ne();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ne(){return Se.lFrame.currentTNode}function je(t,e){const n=Se.lFrame;n.currentTNode=t,n.isParent=e}function De(){return Se.lFrame.isParent}function Pe(){return Se.isInCheckNoChangesMode}function Re(t){Se.isInCheckNoChangesMode=t}function Ve(){return Se.lFrame.bindingIndex++}function Le(t,e){const n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Me(e)}function Me(t){Se.lFrame.currentDirectiveIndex=t}function Ue(t){Se.lFrame.currentQueryIndex=t}function Fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function qe(t,e,n){if(n&gt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&gt.Host||(r=Fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Se.lFrame=Be();return r.currentTNode=e,r.lView=t,!0}function ze(t){const e=Be(),n=t[1];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Be(){const t=Se.lFrame,e=null===t?null:t.child;return null===e?He(t):e}function He(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ge(){const t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $e=Ge;function We(){const t=Ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ke(){return Se.lFrame.selectedIndex}function Ye(t){Se.lFrame.selectedIndex=t}function Qe(){const t=Se.lFrame;return me(t.tView,t.selectedIndex)}function Ze(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Xe(t,e,n){en(t,e,3,n)}function Je(t,e,n,r){(3&t[2])===n&&en(t,e,n,r)}function tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function en(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(nn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function nn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const rn=-1;class on{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function sn(t,e,n){const r=de(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];un(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function an(t){return 3===t||4===t||6===t}function un(t){return 64===t.charCodeAt(0)}function cn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ln(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ln(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function hn(t){return t!==rn}function fn(t){return 32767&t}function dn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let pn=!0;function gn(t){const e=pn;return pn=t,e}let vn=0;function yn(t,e){const n=bn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,mn(r.data,t),mn(e,null),mn(r.blueprint,null));const i=wn(t,e),o=t.injectorIndex;if(hn(i)){const t=fn(i),n=dn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return rn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return rn}function _n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(r=n[Rt]),null==r&&(r=n[Rt]=vn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function En(t,e,n){if(n&gt.Optional)return t;ie(e,"NodeInjector")}function In(t,e,n,r){if(n&gt.Optional&&void 0===r&&(r=null),0==(n&(gt.Self|gt.Host))){const i=t[9],o=yt(void 0);try{return i?i.get(e,r,n&gt.Optional):mt(e,r,n&gt.Optional)}finally{yt(o)}}return En(r,e,n)}function Cn(t,e,n,r=gt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e?e>=0?255&e:Tn:e}(n);if("function"==typeof o){if(!qe(e,t,r))return r&gt.Host?En(i,n,r):In(e,n,r,i);try{const t=o();if(null!=t||r&gt.Optional)return t;ie(n)}finally{$e()}}else if("number"==typeof o){let i=null,s=bn(t,e),a=rn,u=r&gt.Host?e[16][6]:null;for((-1===s||r&gt.SkipSelf)&&(a=-1===s?wn(t,e):e[s+8],a!==rn&&kn(r,!1)?(i=e[1],s=fn(a),e=dn(a,e)):s=-1);-1!==s;){const t=e[1];if(An(o,s,t.data)){const t=On(s,e,n,i,r,u);if(t!==Sn)return t}a=e[s+8],a!==rn&&kn(r,e[1].data[s+8]===u)&&An(o,s,e)?(i=t,s=fn(a),e=dn(a,e)):s=-1}}}return In(e,n,r,i)}const Sn={};function Tn(){return new Nn(ke(),Oe())}function On(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Jt(t)&&t.type===n)return u}return null}(a,s,n,null==r?Zt(a)&&pn:r!=s&&0!=(3&a.type),i&gt.Host&&o===a);return null!==u?xn(e,s,u,a):Sn}function xn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof on){const s=i;s.resolving&&function(t,e){throw new ee("200","Circular dependency in DI detected for "+t)}(re(o[n]));const a=gn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?yt(s.injectImpl):null;qe(t,r,gt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ae(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&yt(u),gn(a),s.resolving=!1,$e()}}return i}function An(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function kn(t,e){return!(t&gt.Self||t&gt.Host&&e)}class Nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Cn(this._tNode,this._lView,t,void 0,e)}}function jn(t){const e=t;if(ot(t))return()=>{const t=jn(it(e));return t?t():null};let n=te(e);if(null===n){const t=lt(e);n=t&&t.factory}return n||null}function Dn(t){return bt(()=>{const e=t.prototype.constructor,n=e[Pt]||jn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Pt]||jn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Pn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(an(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ke(),t)}const Rn="__parameters__";function Vn(t,e,n){return bt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Rn)?t[Rn]:Object.defineProperty(t,Rn,{value:[]})[Rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=st({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Mn=new Ln("AnalyzeForEntryComponents"),Un=Function;function Fn(t,e){t.forEach(t=>Array.isArray(t)?Fn(t,e):e(t))}function qn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bn(t,e,n){let r=Gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Hn(t,e){const n=Gn(t,e);if(n>=0)return t[1|n]}function Gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const $n=Vn("Inject",t=>({token:t})),Wn=Vn("Optional"),Kn=Vn("Self"),Yn=Vn("SkipSelf"),Qn={},Zn=/\n/gm,Xn="__source",Jn=X({provide:String,useValue:X});let tr=void 0;function er(t){const e=tr;return tr=t,e}function nr(t,e=gt.Default){if(void 0===tr)throw new Error("inject() must be called from an injection context");return null===tr?mt(t,void 0,e):tr.get(t,e&gt.Optional?null:void 0,e)}function rr(t,e=gt.Default){return(vt||nr)(it(t),e)}function ir(t){const e=[];for(let n=0;n<t.length;n++){const r=it(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=gt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof Wn||"Optional"===i.ngMetadataName||i===Wn?n|=gt.Optional:i instanceof Yn||"SkipSelf"===i.ngMetadataName||i===Yn?n|=gt.SkipSelf:i instanceof Kn||"Self"===i.ngMetadataName||i===Kn?n|=gt.Self:t=i instanceof $n||i===$n?i.token:i}e.push(rr(t,n))}else e.push(rr(r))}return e}class or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}function sr(t){return t instanceof or?t.changingThisBreaksApplicationSecurity:t}const ar=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ur=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=Oe();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":function(t,e){const n=function(t){return t instanceof or&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?sr(t):(n=ne(t),(n=String(n)).match(ar)||n.match(ur)?n:"unsafe:"+n);var n}function hr(t){return t.ngDebugContext}function fr(t){return t.ngOriginalError}function dr(t,...e){t.error(...e)}class pr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(fr(t)):null}_findOriginalError(t){let e=fr(t);for(;e&&fr(e);)e=fr(e);return e}}function gr(t,e){t.__ngContext__=e}const vr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function yr(t){return t instanceof Function?t():t}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function br(t,e){return(void 0)(t,e)}function wr(t){const e=t[3];return Yt(e)?e[3]:e}function _r(t){return Ir(t[13])}function Er(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:Kt(r)&&(s=!0,r=r[0]);const a=ge(r);0===t&&null!==n?null==i?Nr(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Dr(t,e);r&&function(t,e,n,r){de(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&Cr(e,t,r,o,i);for(let s=Wt;s<n.length;s++){const i=n[s];Mr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Sr(t,e,n){return de(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Tr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ce(i,-1)),n.splice(r,1)}function Or(t,e){if(t.length<=Wt)return;const n=Wt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Tr(o,r),e>0&&(t[n-1][4]=r[4]);const s=zn(t,Wt+e);Mr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xr(t,e){if(!(256&e[2])){const n=e[11];de(n)&&n.destroyNode&&Mr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ar(t[1],t);for(;e;){let n=null;if(Kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Kt(e)&&Ar(e[1],e),e=e[3];null===e&&(e=t),Kt(e)&&Ar(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof on)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n){for(let t=0;t<n.length-1;t+=2)if("string"==typeof n[t]){const o=n[t+1],s="function"==typeof o?o(e):ge(e[o]),a=r[i=n[t+2]],u=n[t+3];"boolean"==typeof u?s.removeEventListener(n[t],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),t+=2}else{const e=r[i=n[t+1]];n[t].call(e)}if(null!==r)for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&de(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&Tr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function kr(t,e,n,r,i){de(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Nr(t,e,n){de(t)?t.appendChild(e,n):e.appendChild(n)}function jr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):Nr(t,e,n)}function Dr(t,e){return de(t)?t.parentNode(e):e.parentNode}function Pr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===_t.None||e===_t.Emulated)return null}return ye(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?ye(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)jr(o,i,n[a],s,!1);else jr(o,i,n,s,!1)}function Rr(t,e){if(null!==e){const n=e.type;if(3&n)return ye(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Rr(t,n);{const n=t[e.index];return Yt(n)?Vr(-1,n):ge(n)}}if(32&n)return br(e,t)()||ge(t[e.index]);{const n=t[16],r=n[6],i=wr(n),o=r.projection[e.projection];return null!=o?Rr(i,o):Rr(t,e.next)}}return null}function Vr(t,e){const n=Wt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Rr(t,r)}return e[7]}function Lr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&gr(ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Lr(t,e,n.child,r,i,o,!1),Cr(e,t,i,a,o);else if(32&u){const s=br(n,r);let u;for(;u=s();)Cr(e,t,i,u,o);Cr(e,t,i,a,o)}else 16&u?Ur(t,e,r,n,i,o):Cr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Mr(t,e,n,r,i,o){Lr(n,r,t.firstChild,e,i,o,!1)}function Ur(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],o);else Lr(t,e,a,s[3],i,o,!0)}function Fr(t,e,n){de(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qr(t,e,n){de(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function zr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Br="ng-template";function Hr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==zr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Gr(t){return 4===t.type&&t.value!==Br}function $r(t,e,n){return e===(4!==t.type||n?t.value:Br)}function Wr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(an(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!$r(t,u,n)||""===u&&1===e.length){if(Kr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hr(t.attrs,c,n)){if(Kr(r))return!1;s=!0}continue}const l=Yr(8&r?"class":u,i,Gr(t),n);if(-1===l){if(Kr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==zr(e,c,0)||2&r&&c!==t){if(Kr(r))return!1;s=!0}}}}else{if(!s&&!Kr(r)&&!Kr(u))return!1;if(s&&Kr(u))continue;s=!1,r=u|1&r}}return Kr(r)||s}function Kr(t){return 0==(1&t)}function Yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Qr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wr(t,e[r],n))return!0;return!1}function Zr(t,e){return t?":not("+e.trim()+")":e}function Xr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Kr(s)||(e+=Zr(o,i),i=""),r=s,o=o||!Kr(r);n++}return""!==i&&(e+=Zr(o,i)),e}const Jr={};function ti(t){ei(xe(),Oe(),Ke()+t,Pe())}function ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Xe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Je(e,r,0,n)}Ye(n)}function ni(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ii(t){return 2|t}function oi(t){return(131068&t)>>2}function si(t,e){return-131069&t|e<<2}function ai(t){return 1|t}function ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ue(i),n.contentQueries(2,e[o],o)}}}function ci(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ie(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function li(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Ne(),s=De(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Se.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return je(o,!0),o}function hi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fi(t,e,n){ze(e);try{const r=t.viewQuery;null!==r&&Fi(1,r,n);const i=t.template;null!==i&&gi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ui(t,e),t.staticViewQueries&&Fi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ri(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,We()}}function di(t,e,n,r){const i=e[2];if(256==(256&i))return;ze(e);const o=Pe();try{Ie(e),Se.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&gi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Xe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Je(e,n,0,null),tn(e,0)}if(function(t){for(let e=_r(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=_r(t);null!==e;e=Er(e))for(let t=Wt;t<e.length;t++){const n=e[t],r=n[1];_e(n)&&di(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Xe(e,n)}else{const n=t.contentHooks;null!==n&&Je(e,n,1),tn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ye(~r);else{const i=r,o=n[++t],s=n[++t];Le(o,i),s(2,e[i])}}}finally{Ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Di(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Fi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Xe(e,n)}else{const n=t.viewHooks;null!==n&&Je(e,n,2),tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ce(e[3],-1))}finally{We()}}function pi(t,e,n,r){const i=e[10],o=!Pe(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&fi(t,e,r),di(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function gi(t,e,n,r,i){const o=Ke();try{Ye(-1),2&r&&e.length>$t&&ei(t,e,$t,Pe()),n(r,i)}finally{Ye(o)}}function vi(t,e,n){Te()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||yn(n,e),gr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Jt(r);o&&Ai(e,n,r);const u=xn(e,t,a,n);gr(u,e),null!==s&&ki(0,a-i,u,r,0,s),o&&(be(n.index,e)[8]=u)}}(t,e,n,ye(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Se.lFrame.currentDirectiveIndex;try{Ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Me(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ci(r,i)}}finally{Ye(-1),Me(s)}}(t,e,n))}function yi(t,e,n=ye){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bi(t,e,n,r,i,o,s,a,u,c){const l=$t+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Jr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function wi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function _i(t,e,n,r,i,o,s,a){const u=ye(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Gi(t,n,c,r,i),Zt(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,de(o)?o.setProperty(u,r,i):un(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ei(t,e,n,r){let i=!1;if(Te()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Qr(n,s.selectors,!1)&&(i||(i=[]),_n(yn(n,e),t,s.type),Jt(s)?(Si(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Oi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=hi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=cn(n.mergedAttrs,c.hostAttrs),xi(t,n,e,u,c),Ti(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Gr(e)?null:Ni(n,i);o.push(c),s=wi(n,u,s),a=wi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ee("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=cn(n.mergedAttrs,n.attrs),i}function Ii(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ti(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jt(e)&&(n[""]=t)}}function Oi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=te(i.type)),s=new on(o,Jt(i),null);t.blueprint[r]=s,n[r]=s,Ii(t,e,0,r,hi(t,n,i.hostVars,Jr),i)}function Ai(t,e,n){const r=ye(e,t),i=mi(n),o=t[10],s=Vi(t,ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ki(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ni(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Di(t,e){const n=be(e,t);if(_e(n)){const t=n[1];80&n[2]?di(t,n,t.template,n[8]):n[5]>0&&Pi(n)}}function Pi(t){for(let n=_r(t);null!==n;n=Er(n))for(let t=Wt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];di(t,e,t.template,e[8])}else e[5]>0&&Pi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=be(e[n],t);_e(r)&&r[5]>0&&Pi(r)}}function Ri(t,e){const n=be(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),fi(r,n,n[8])}function Vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Li(t){for(;t;){t[2]|=64;const e=wr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Mi(t,e,n){const r=e[10];r.begin&&r.begin();try{di(t,e,t.template,n)}catch(i){throw Hi(e,i),i}finally{r.end&&r.end()}}function Ui(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=we(n),i=r[1];pi(i,r,i.template,n)}}(t[8])}function Fi(t,e,n){Ue(0),e(t,n)}const qi=(()=>Promise.resolve(null))();function zi(t){return t[7]||(t[7]=[])}function Bi(t){return t.cleanup||(t.cleanup=[])}function Hi(t,e){const n=t[9],r=n?n.get(pr,null):null;r&&r.handleError(e)}function Gi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function $i(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=et(i,t):2==o&&(r=et(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Wi=new Ln("INJECTOR",-1);class Ki{get(t,e=Qn){if(e===Qn){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Yi=new Ln("Set Injector scope."),Qi={},Zi={},Xi=[];let Ji=void 0;function to(){return void 0===Ji&&(Ji=new Ki),Ji}function eo(t,e=null,n=null,r){return new no(t,n,e||to(),r)}class no{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Fn(e,n=>this.processProvider(n,t,e)),Fn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Wi,oo(void 0,this));const o=this.records.get(Yi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Qn,n=gt.Default){this.assertNotDestroyed();const r=er(this);try{if(!(n&gt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ln)&&ut(t);e=n&&this.injectableDefInScope(n)?oo(ro(t),Qi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&gt.Self?to():this.parent).get(t,e=n&gt.Optional&&e===Qn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(tt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Xn]&&i.unshift(e[Xn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):tt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{er(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let r=lt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=lt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Fn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Fn(r,t=>this.processProvider(t,n,r||Xi))}}this.injectorDefTypes.add(o),this.records.set(o,oo(r.factory,Qi));const a=r.providers;if(null!=a&&!s){const e=t;Fn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ao(t=it(t))?t:it(t&&t.provide);const i=function(t,e,n){return so(t)?oo(void 0,t.useValue):oo(io(t),Qi)}(t);if(ao(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=oo(void 0,Qi,!0),e.factory=()=>ir(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi&&(e.value=Zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ro(t){const e=ut(t),n=null!==e?e.factory:te(t);if(null!==n)return n;const r=lt(t);if(null!==r)return r.factory;if(t instanceof Ln)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ht]||t[dt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function io(t,e,n){let r=void 0;if(ao(t)){const e=it(t);return te(e)||ro(e)}if(so(t))r=()=>it(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ir(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rr(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return te(e)||ro(e);r=()=>new e(...ir(t.deps))}var i;return r}function oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function so(t){return null!==t&&"object"==typeof t&&Jn in t}function ao(t){return"function"==typeof t}const uo=function(t,e,n){return function(t,e=null,n=null,r){const i=eo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let co=(()=>{class t{static create(t,e){return Array.isArray(t)?uo(t,e,""):uo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Qn,t.NULL=new Ki,t.\u0275prov=st({token:t,providedIn:"any",factory:()=>rr(Wi)}),t.__NG_ELEMENT_ID__=-1,t})();function lo(t,e){Ze(we(t)[1],ke())}function ho(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Jt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=fo(t.inputs),e.declaredInputs=fo(t.declaredInputs),e.outputs=fo(t.outputs);const n=i.hostBindings;n&&vo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&po(t,o),s&&go(t,s),J(t.inputs,i.inputs),J(t.declaredInputs,i.declaredInputs),J(t.outputs,i.outputs),Jt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ho&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cn(i.hostAttrs,n=cn(n,i.hostAttrs))}}(r)}function fo(t){return t===Ot?{}:t===xt?[]:t}function po(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function go(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function vo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let yo=null;function mo(){if(!yo){const t=Tt.Symbol;if(t&&t.iterator)yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}}return yo}function bo(t){return!!wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&mo()in t)}function wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){return _o(t,Ve(),n)?e+ne(n)+r:Jr}function Io(t,e,n,r,i,o,s,a){const u=Oe(),c=xe(),l=t+$t,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=li(e,t,4,s||null,Ee(c,a));Ei(e,n,l,Ee(c,u)),Ze(e,l);const h=l.tViews=bi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];je(h,!1);const f=u[11].createComment("");Pr(c,u,f,h),gr(f,u),Vi(u,u[l]=ji(f,u,f,h)),Xt(h)&&vi(c,u,h),null!=s&&yi(u,h,a)}function Co(t,e=gt.Default){const n=Oe();return null===n?rr(t,e):Cn(ke(),n,it(t),e)}function So(t,e,n){const r=Oe();return _o(r,Ve(),e)&&_i(xe(),Qe(),r,t,e,r[11],n,!1),So}function To(t,e,n,r,i){const o=i?"class":"style";Gi(t,n,e.inputs[o],o,r)}function Oo(t,e,n,r){const i=Oe(),o=xe(),s=$t+t,a=i[11],u=i[s]=Sr(a,e,Se.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=li(e,t,2,i,Ee(a,o));return Ei(e,n,u,Ee(a,s)),null!==u.attrs&&$i(u,u.attrs,!1),null!==u.mergedAttrs&&$i(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];je(c,!0);const l=c.mergedAttrs;null!==l&&sn(a,u,l);const h=c.classes;null!==h&&qr(a,u,h);const f=c.styles;null!==f&&Fr(a,u,f),64!=(64&c.flags)&&Pr(o,i,u,c),0===Se.lFrame.elementDepthCount&&gr(u,i),Se.lFrame.elementDepthCount++,Xt(c)&&(vi(o,i,c),function(t,e,n){if(Qt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function xo(){let t=ke();De()?Se.lFrame.isParent=!1:(t=t.parent,je(t,!1));const e=t;Se.lFrame.elementDepthCount--;const n=xe();n.firstCreatePass&&(Ze(n,t),Qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&To(n,e,Oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&To(n,e,Oe(),e.stylesWithoutHost,!1)}function Ao(t,e,n,r){Oo(t,e,n,r),xo()}function ko(){return Oe()}function No(t){return!!t&&"function"==typeof t.then}function jo(t){return!!t&&"function"==typeof t.subscribe}function Do(t,e,n=!1,r){const i=Oe(),o=xe(),s=ke();return function(t,e,n,r,i,o,s=!1,a){const u=Xt(r),c=t.firstCreatePass&&Bi(t),l=zi(e);let h=!0;if(3&r.type){const f=ye(r,e),d=a?a(f):Ot,p=d.target||f,g=l.length,v=a?t=>a(ge(t[r.index])).target:r.index;if(de(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ro(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Ro(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Ro(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Do}function Po(t,e,n){try{return!1!==e(n)}catch(r){return Hi(t,r),!1}}function Ro(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Li(s);let a=Po(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Po(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Vo(t=1){return function(t){return(Se.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Se.lFrame.contextLView))[8]}(t)}function Lo(t,e,n){return Mo(t,"",e,"",n),Lo}function Mo(t,e,n,r,i){const o=Oe(),s=Eo(o,e,n,r);return s!==Jr&&_i(xe(),Qe(),o,t,s,o[11],i,!1),Mo}const Uo=[];function Fo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ri(o):oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];qo(t[a],e)&&(u=!0,t[a+1]=r?ai(n):ii(n)),a=r?ri(n):oi(n)}u&&(t[n+1]=r?ii(o):ai(o))}function qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Gn(t,e)>=0}function zo(t,e){return function(t,e,n,r){const i=Oe(),o=xe(),s=function(t){const e=Se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ke()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Se.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Ho(n=Bo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Bo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==oi(r))return t[ri(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Bo(null,t,e,n[1],r),n=Ho(n,e.attrs,r),function(t,e,n,r){t[ri(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ho(r,t[o].hostAttrs,true);return Ho(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ri(s),u=oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ri(t[a+1]);t[r+1]=ni(e,a),0!==e&&(t[e+1]=si(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ni(a,0),0!==a&&(t[a+1]=si(t[a+1],r)),a=r;else t[r+1]=ni(u,0),0===a?a=r:t[u+1]=si(t[u+1],r),u=r;l&&(t[r+1]=ii(t[r+1])),Fo(t,c,r,!0),Fo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Gn(o,e)>=0&&(n[r+1]=ai(n[r+1]))}(e,c,t,r),s=ni(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Jr&&_o(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];$o(1==(1&c)?Go(u,e,n,i,oi(c),s):void 0)||($o(o)||function(t){return 2==(2&t)}(c)&&(o=Go(u,null,n,i,a,s)),function(t,e,n,r,i){const o=de(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,ve(Ke(),n),i,o))}(o,o.data[Ke()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=tt(sr(t))),t}(e),true,s)}(t,e),zo}function Bo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ho(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ho(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Bn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Go(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Jr&&(l=c?Uo:void 0);let h=c?Hn(l,r):u===r?l:void 0;if(o&&!$o(h)&&(h=Hn(e,r)),$o(h)&&(a=h,s))return a;const f=t[i+1];i=s?ri(f):oi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Hn(t,r))}return a}function $o(t){return void 0!==t}function Wo(t,e=""){const n=Oe(),r=xe(),i=t+$t,o=r.firstCreatePass?li(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return de(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Pr(r,n,s,o),je(o,!1)}function Ko(t){return Yo("",t,""),Ko}function Yo(t,e,n){const r=Oe(),i=Eo(r,t,e,n);return i!==Jr&&function(t,e,n){const r=ve(e,t);!function(t,e,n){de(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ke(),i),Yo}const Qo=void 0;var Zo=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xo={};function Jo(t){return t in Xo||(Xo[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),Xo[t]}var ts=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const es="en-US";let ns=es;function rs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ns=t.toLowerCase().replace(/_/g,"-"))}function is(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)is(t[o],e,n,r,i);else{const o=xe(),s=Oe();let a=ao(t)?t:it(t.provide),u=io(t);const c=ke(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ao(t)||!t.multi){const r=new on(u,i,Co),d=as(a,e,i?l:l+f,h);-1===d?(_n(yn(c,s),o,a),os(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=as(a,e,l+f,h),p=as(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){_n(yn(c,s),o,a);const l=function(t,e,n,r,i){const o=new on(t,n,Co);return o.multi=[],o.index=e,o.componentProviders=0,ss(o,i,r&&!n),o}(i?cs:us,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),os(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else os(o,t,d>-1?d:p,ss(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function os(t,e,n,r){const i=ao(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ss(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function as(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function us(t,e,n,r){return ls(this.multi,[])}function cs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=xn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ls(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ls(i,o);return o}function ls(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function hs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=xe();if(r.firstCreatePass){const i=Jt(t);is(n,r.data,r.blueprint,i,!0),is(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class fs{}class ds{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ps=(()=>{class t{}return t.NULL=new ds,t})();function gs(...t){}function vs(t,e){return new ms(ye(t,e))}const ys=function(){return vs(ke(),Oe())};let ms=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ys,t})();class bs{}let ws=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_s(),t})();const _s=function(){const t=Oe(),e=be(ke().index,t);return function(t){return t[11]}(Kt(e)?e:t)};let Es=(()=>{class t{}return t.\u0275prov=st({token:t,providedIn:"root",factory:()=>null}),t})();class Is{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cs=new Is("11.0.5");class Ss{constructor(){}supports(t){return bo(t)}create(t){return new Os(t)}}const Ts=(t,e)=>e;class Os{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ts}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ns(n,r,i)?e:n,s=Ns(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bo(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[mo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ks),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ks),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class As{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ks{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new As,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ns(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class js{constructor(){}supports(t){return t instanceof Map||wo(t)}create(){return new Ds}}class Ds{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wo(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ps(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ps{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Rs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Yn,new Wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=st({token:t,providedIn:"root",factory:()=>new t([new Ss])}),t})(),Vs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Yn,new Wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=st({token:t,providedIn:"root",factory:()=>new t([new js])}),t})();function Ls(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),Yt(o))for(let t=Wt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ls(e[1],e,n,r)}const s=n.type;if(8&s)Ls(t,e,n.child,r);else if(32&s){const t=br(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=wr(t);Ls(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ms{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Ls(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}xr(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=zi(e);i.push(r)}(0,this._lView,0,t)}markForCheck(){Li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Re(!0);try{Mi(t,e,n)}finally{Re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Mr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Us extends Ms{constructor(t){super(t),this._view=t}detectChanges(){Ui(this._view)}checkNoChanges(){!function(t){Re(!0);try{Ui(t)}finally{Re(!1)}}(this._view)}get context(){return null}}const Fs=function(t=!1){return function(t,e,n){if(!n&&Zt(t)){const n=be(t.index,e);return new Ms(n,n)}return 47&t.type?new Ms(e[16],e):null}(ke(),Oe(),t)};let qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fs,t.__ChangeDetectorRef__=!0,t})();const zs=[new js],Bs=new Rs([new Ss]),Hs=new Vs(zs),Gs=function(){return t=ke(),e=Oe(),4&t.type?new Ks(e,t,vs(t,e)):null;var t,e};let $s=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gs,t})();const Ws=$s,Ks=class extends Ws{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),fi(e,n,t),new Ms(n)}};class Ys{}class Qs{}const Zs=function(){return function(t,e){let n;const r=e[t.index];if(Yt(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=ye(t,e);kr(n,Dr(n,r),i,function(t,e){return de(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Vi(e,n)}return new ta(n,t,e)}(ke(),Oe())};let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zs,t})();const Js=Xs,ta=class extends Js{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new Nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=wn(this._hostTNode,this._hostLView);if(hn(t)){const e=dn(t,this._hostLView),n=fn(t);return new Nn(e[1].data[n+8],e)}return new Nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ea(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ys,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ta(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Wt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Wt?(e[4]=n[i],qn(n,Wt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Vr(i,o),a=n[11],u=Dr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Mr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),qn(na(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ea(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);n&&(zn(na(this._lContainer),e),xr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);return n&&null!=zn(na(this._lContainer),e)?new Ms(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ea(t){return t[8]}function na(t){return t[8]||(t[8]=[])}const ra={};class ia extends ps{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ht(t);return new aa(e,this.ngModule)}}function oa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const sa=new Ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vr});class aa extends fs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Xr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return oa(this.componentDef.inputs)}get outputs(){return oa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ra,i);return o!==ra||r===ra?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(bs,pe),s=i.get(Es,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(de(t))return t.selectRootElement(e,n===_t.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Sr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?he:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:vr,clean:qi,playerHandler:null,flags:0},f=bi(0,null,null,1,0,null,null,null,null,null),d=ci(null,f,h,l,null,null,o,a,s,i);let p,g;ze(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=li(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&($i(a,u,!0),null!==t&&(sn(i,t,u),null!==a.classes&&qr(i,t,a.classes),null!==a.styles&&Fr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ci(n,mi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(_n(yn(a,n),s,e.type),Si(s,a),Oi(a,n.length,1)),Vi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)sn(a,c,["ng-version",Cs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&sn(a,c,t),e&&e.length>0&&qr(a,c,e.join(" "))}if(g=me(f,$t),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ke();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xi(t,r,e,hi(t,e,1,null),n));const i=xn(e,t,r.directiveStart,r);gr(i,e);const o=ye(r,e);return o&&gr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=ke();e.contentQueries(1,s,t.directiveStart)}const a=ke();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ye(a.index),Ii(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ci(e,s)),s}(t,this.componentDef,d,h,[lo]),fi(f,d,null)}finally{We()}return new ua(this.componentType,p,vs(g,d),d,g)}}class ua extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Us(r),this.componentType=t}get injector(){return new Nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ca=new Map;class la extends Ys{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ia(this);const n=Gt(t),r=t[Dt]||null;r&&rs(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=eo(t,e,[{provide:Ys,useValue:this},{provide:ps,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=co.THROW_IF_NOT_FOUND,n=gt.Default){return t===co||t===Ys||t===Wi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ha extends Qs{constructor(t){super(),this.moduleType=t,null!==Gt(t)&&function(t){const e=new Set;!function t(n){const r=Gt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(i,ca.get(i),n),ca.set(i,n));const o=yr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new la(this.moduleType,t)}}function fa(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=_o(t,e,n);return _o(t,e+1,r)||i}(t,a,i,o)?function(t,e,n){return t[e]=n}(t,a+2,s?r.call(s,i,o):r(i,o)):function(t,e){const n=t[e];return n===Jr?void 0:n}(t,a+2)}(Oe(),function(){const t=Se.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r,i)}const da=class extends I{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}},pa=new Ln("Application Initializer");let ga=(()=>{class t{constructor(t){this.appInits=t,this.resolve=gs,this.reject=gs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();No(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rr(pa,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const va=new Ln("AppId"),ya={provide:va,useFactory:function(){return`${ma()}${ma()}${ma()}`},deps:[]};function ma(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ba=new Ln("Platform Initializer"),wa=new Ln("Platform ID"),_a=new Ln("appBootstrapListener");let Ea=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const Ia=new Ln("LocaleId"),Ca=new Ln("DefaultCurrencyCode");class Sa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ta=function(t){return new ha(t)},Oa=Ta,xa=function(t){return Promise.resolve(Ta(t))},Aa=function(t){const e=Ta(t),n=yr(Gt(t).declarations).reduce((t,e)=>{const n=Ht(e);return n&&t.push(new aa(n)),t},[]);return new Sa(e,n)},ka=Aa,Na=function(t){return Promise.resolve(Aa(t))};let ja=(()=>{class t{constructor(){this.compileModuleSync=Oa,this.compileModuleAsync=xa,this.compileModuleAndAllComponentsSync=ka,this.compileModuleAndAllComponentsAsync=Na}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const Da=(()=>Promise.resolve(0))();function Pa(t){"undefined"==typeof Zone?Da.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ra{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new da(!1),this.onMicrotaskEmpty=new da(!1),this.onStable=new da(!1),this.onError=new da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Tt.requestAnimationFrame,e=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ma(t),La(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ma(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ua(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Fa(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Ua(t),e.invoke(r,i,o,s,a)}finally{Fa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ma(t),La(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Va,gs,gs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Va={};function La(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ma(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ua(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fa(t){t._nesting--,La(t)}class qa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new da,this.onMicrotaskEmpty=new da,this.onStable=new da,this.onError=new da}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let za=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),Pa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rr(Ra))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),Ba=(()=>{class t{constructor(){this._applications=new Map,$a.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return $a.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();class Ha{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Ga,$a=new Ha,Wa=!0,Ka=!1;function Ya(){return Ka=!0,Wa}const Qa=new Ln("AllowMultipleToken");class Za{constructor(t,e){this.name=t,this.token=e}}function Xa(t,e,n=[]){const r="Platform: "+e,i=new Ln(r);return(e=[])=>{let o=Ja();if(!o||o.injector.get(Qa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Yi,useValue:"platform"});!function(t){if(Ga&&!Ga.destroyed&&!Ga.injector.get(Qa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ga=t.get(tu);const e=t.get(ba,null);e&&e.forEach(t=>t())}(co.create({providers:t,name:r}))}return function(t){const e=Ja();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ja(){return Ga&&!Ga.destroyed?Ga:null}let tu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qa:("zone.js"===t?void 0:t)||new Ra({enableLongStackTrace:Ya(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ra,useValue:n}];return n.run(()=>{const e=co.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(pr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{ru(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return No(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ga);return t.runInitializers(),t.donePromise.then(()=>(rs(i.injector.get(Ia,es)||es),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=eu({},e);return function(t,e,n){const r=new ha(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rr(co))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();function eu(t,e){return Array.isArray(e)?e.reduce(eu,t):Object.assign(Object.assign({},t),e)}let nu=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new m(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new m(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),Pa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof m?t[0]:B(e)(H(t,n))}(s,a.pipe(t=>{return G()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Y);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ys),i=n.create(co.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(za,null),a=s&&i.injector.get(Ba);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),ru(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Ya()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ru(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(_a,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rr(Ra),rr(Ea),rr(co),rr(pr),rr(ps),rr(ga))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();function ru(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iu{}class ou{}const su={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let au=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||su}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>uu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>uu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rr(ja),rr(ou,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();function uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const cu=Xa(null,"core",[{provide:wa,useValue:"unknown"},{provide:tu,deps:[co]},{provide:Ba,deps:[]},{provide:Ea,deps:[]}]),lu=[{provide:nu,useClass:nu,deps:[Ra,Ea,co,pr,ps,ga]},{provide:sa,deps:[Ra],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ga,useClass:ga,deps:[[new Wn,pa]]},{provide:ja,useClass:ja,deps:[]},ya,{provide:Rs,useFactory:function(){return Bs},deps:[]},{provide:Vs,useFactory:function(){return Hs},deps:[]},{provide:Ia,useFactory:function(t){return rs(t=t||"undefined"!=typeof $localize&&$localize.locale||es),t},deps:[[new $n(Ia),new Wn,new Yn]]},{provide:Ca,useValue:"USD"}];let hu=(()=>{class t{constructor(t){}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(rr(nu))},providers:lu}),t})();const fu={apiKey:"AIzaSyAcg3_O37ynHnkvWgdvGJnNTxeFJB3A2Rw",authDomain:"firechat-304d4.firebaseapp.com",databaseURL:"https://firechat-304d4.firebaseio.com",projectId:"firechat-304d4",storageBucket:"firechat-304d4.appspot.com",messagingSenderId:"320363959944",appId:"1:320363959944:web:ccbf1df63768595a12713d",measurementId:"G-M6PSJFN5CB"};let du=null;function pu(){return du}const gu=new Ln("DocumentToken");let vu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({factory:yu,token:t,providedIn:"platform"}),t})();function yu(){return rr(bu)}const mu=new Ln("Location Initialized");let bu=(()=>{class t extends vu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=pu().getLocation(),this._history=pu().getHistory()}getBaseHrefFromDOM(){return pu().getBaseHref(this._doc)}onPopState(t){pu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){pu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){wu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){wu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(rr(gu))},t.\u0275prov=st({factory:_u,token:t,providedIn:"platform"}),t})();function wu(){return!!window.history.pushState}function _u(){return new bu(rr(gu))}function Eu(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Iu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Cu(t){return t&&"?"!==t[0]?"?"+t:t}let Su=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({factory:Tu,token:t,providedIn:"root"}),t})();function Tu(t){const e=rr(gu).location;return new xu(rr(vu),e&&e.origin||"")}const Ou=new Ln("appBaseHref");let xu=(()=>{class t extends Su{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Eu(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Cu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Cu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Cu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(rr(vu),rr(Ou,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),Au=(()=>{class t extends Su{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Eu(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Cu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Cu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(rr(vu),rr(Ou,8))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),ku=(()=>{class t{constructor(t,e){this._subject=new da,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Iu(ju(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Cu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ju(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(rr(Su),rr(vu))},t.normalizeQueryParams=Cu,t.joinWithSlash=Eu,t.stripTrailingSlash=Iu,t.\u0275prov=st({factory:Nu,token:t,providedIn:"root"}),t})();function Nu(){return new ku(rr(Su),rr(vu))}function ju(t){return t.replace(/\/index.html$/,"")}var Du=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Pu{}let Ru=(()=>{class t extends Pu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Jo(e);if(n)return n;const r=e.split("-")[0];if(n=Jo(r),n)return n;if("en"===r)return Zo;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ts.PluralCase]}(e||this.locale)(t)){case Du.Zero:return"zero";case Du.One:return"one";case Du.Two:return"two";case Du.Few:return"few";case Du.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(rr(Ia))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(bo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+tt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Co(Rs),Co(Vs),Co(ms),Co(ws))},t.\u0275dir=Bt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Lu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Lu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Uu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Uu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Co(Xs),Co($s),Co(Rs))},t.\u0275dir=Bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Uu{constructor(t,e){this.record=t,this.view=e}}let Fu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new qu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Co(Xs),Co($s))},t.\u0275dir=Bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class qu{constructor(){this.$implicit=null,this.ngIf=null}}function zu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let Bu=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[{provide:Pu,useClass:Ru}]}),t})();function Hu(t){return"browser"===t}function Gu(t){return"server"===t}let $u=(()=>{class t{}return t.\u0275prov=st({token:t,providedIn:"root",factory:()=>new Wu(rr(gu),window,rr(pr))}),t})();class Wu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ku(this.window.history)||Ku(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ku(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Yu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Yu,du||(du=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Zu||(Zu=document.querySelector("base"),Zu)?Zu.getAttribute("href"):null;return null==e?null:(n=e,Qu||(Qu=document.createElement("a")),Qu.setAttribute("href",n),"/"===Qu.pathname.charAt(0)?Qu.pathname:"/"+Qu.pathname);var n}resetBaseElement(){Zu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Qu,Zu=null;const Xu=new Ln("TRANSITION_ID"),Ju=[{provide:pa,useFactory:function(t,e,n){return()=>{n.get(ga).donePromise.then(()=>{const n=pu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Xu,gu,co],multi:!0}];class tc{static init(){var t;t=new tc,$a=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?pu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ec=new Ln("EventManagerPlugins");let nc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(rr(ec),rr(Ra))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();class rc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=pu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ic=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t extends ic{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>pu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(rr(gu))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const sc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ac=/%COMP%/g;function uc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?uc(t,i,n):(i=i.replace(ac,t),n.push(i))}return n}function cc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new hc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case _t.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new fc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case _t.ShadowDom:return new dc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=uc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(rr(nc),rr(oc),rr(va))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();class hc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(sc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=sc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=sc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(mr.DashCase|mr.Important)?t.style.setProperty(e,n,r&mr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&mr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cc(n)):this.eventManager.addEventListener(t,e,cc(n))}}class fc extends hc{constructor(t,e,n,r){super(t),this.component=n;const i=uc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ac,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ac,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dc extends hc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=uc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pc=(()=>{class t extends rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(rr(gu))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const gc=["alt","control","meta","shift"],vc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bc=(()=>{class t extends rc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(gc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yc.hasOwnProperty(e)&&(e=yc[e]))}return vc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gc.forEach(r=>{r!=n&&(0,mc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(rr(gu))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const wc=Xa(cu,"browser",[{provide:wa,useValue:"browser"},{provide:ba,useValue:function(){Yu.makeCurrent(),tc.init()},multi:!0},{provide:gu,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),_c=[[],{provide:Yi,useValue:"root"},{provide:pr,useFactory:function(){return new pr},deps:[]},{provide:ec,useClass:pc,multi:!0,deps:[gu,Ra,wa]},{provide:ec,useClass:bc,multi:!0,deps:[gu]},[],{provide:lc,useClass:lc,deps:[nc,oc,va]},{provide:bs,useExisting:lc},{provide:ic,useExisting:oc},{provide:oc,useClass:oc,deps:[gu]},{provide:za,useClass:za,deps:[Ra]},{provide:nc,useClass:nc,deps:[ec,Ra]},[]];let Ec=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:va,useValue:e.appId},{provide:Xu,useExisting:va},Ju]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(rr(t,12))},providers:_c,imports:[Bu,hu]}),t})();function Ic(){return new Cc(rr(gu))}let Cc=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(rr(gu))},t.\u0275prov=st({factory:Ic,token:t,providedIn:"root"}),t})();function Sc(...t){let e=t[t.length-1];return S(e)?(t.pop(),R(t,e)):H(t)}"undefined"!=typeof window&&window;class Tc extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class Oc extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xc extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Ac(t,e,n,r,i=new xc(t,n,r)){if(!i.closed)return e instanceof m?e.subscribe(i):P(e)(i)}const kc={};class Nc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jc(t,this.resultSelector))}}class jc extends Oc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ac(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kc?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Dc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Pc=new m(t=>t.complete());function Rc(t){return t?function(t){return new m(e=>t.schedule(()=>e.complete()))}(t):Pc}function Vc(t){return new m(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?V(n):Rc()).subscribe(e)})}function Lc(){return B(1)}function Mc(t,e){return function(n){return n.lift(new Uc(t,e))}}class Uc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fc(t,this.predicate,this.thisArg))}}class Fc extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const qc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zc(t){return function(e){return 0===t?Rc():e.lift(new Bc(t))}}class Bc{constructor(t){if(this.total=t,this.total<0)throw new qc}call(t,e){return e.subscribe(new Hc(t,this.total))}}class Hc extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Gc(t=Kc){return e=>e.lift(new $c(t))}class $c{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Wc(t,this.errorFactory))}}class Wc extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Kc(){return new Dc}function Yc(t=null){return e=>e.lift(new Qc(t))}class Qc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Zc(t,this.defaultValue))}}class Zc extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Xc(t,e){return"function"==typeof e?n=>n.pipe(Xc((n,r)=>V(t(n,r)).pipe(T((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jc(t))}class Jc{constructor(t){this.project=t}call(t,e){return e.subscribe(new tl(t,this.project))}}class tl extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new L(this),r=this.destination;r.add(n),this.innerSubscription=U(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function el(t){return e=>0===t?Rc():e.lift(new nl(t))}class nl{constructor(t){if(this.total=t,this.total<0)throw new qc}call(t,e){return e.subscribe(new rl(t,this.total))}}class rl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function il(...t){return Lc()(Sc(...t))}function ol(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>il(t,n,e)):e=>il(t,e)}function sl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new al(t,e,n))}}class al{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ul(t,this.accumulator,this.seed,this.hasSeed))}}class ul extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function cl(t){return function(e){const n=new ll(t),r=e.lift(n);return n.caught=r}}class ll{constructor(t){this.selector=t}call(t,e){return e.subscribe(new hl(t,this.selector,this.caught))}}class hl extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new L(this);this.add(r);const i=U(n,r);i!==r&&this.add(i)}}}function fl(t,e){return F(t,e,1)}function dl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mc((e,n)=>t(e,n,r)):y,el(1),n?Yc(e):Gc(()=>new Dc))}function pl(){}function gl(t,e,n){return function(r){return r.lift(new vl(t,e,n))}}class vl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new yl(t,this.nextOrObserver,this.error,this.complete))}}class yl extends p{constructor(t,e,n,i){super(t),this._tapNext=pl,this._tapError=pl,this._tapComplete=pl,this._tapError=n||pl,this._tapComplete=i||pl,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||pl,this._tapError=e.error||pl,this._tapComplete=e.complete||pl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class ml{constructor(t){this.callback=t}call(t,e){return e.subscribe(new bl(t,this.callback))}}class bl extends p{constructor(t,e){super(t),this.add(new h(e))}}class wl{constructor(t,e){this.id=t,this.url=e}}class _l extends wl{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class El extends wl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Il extends wl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cl extends wl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sl extends wl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tl extends wl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol extends wl{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xl extends wl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Al extends wl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jl{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dl{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vl{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ll="primary";class Ml{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ul(t){return new Ml(t)}function Fl(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ql(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zl(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Bl(t[i],e[i]))return!1;return!0}function Bl(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Hl(t){return Array.prototype.concat.apply([],t)}function Gl(t){return t.length>0?t[t.length-1]:null}function $l(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Wl(t){return jo(t)?t:No(t)?V(Promise.resolve(t)):Sc(t)}function Kl(t,e,n){return n?function(t,e){return zl(t,e)}(t.queryParams,e.queryParams)&&Yl(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Bl(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ql(t.root,e.root)}function Yl(t,e){if(!eh(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Yl(t.children[n],e.children[n]))return!1}return!0}function Ql(t,e){return Zl(t,e,e.segments)}function Zl(t,e,n){if(t.segments.length>n.length)return!!eh(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!eh(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ql(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!eh(t.segments,r)&&!!t.children.primary&&Zl(t.children.primary,e,i)}}class Xl{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ul(this.queryParams)),this._queryParamMap}toString(){return oh.serialize(this)}}class Jl{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$l(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sh(this)}}class th{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ul(this.parameters)),this._parameterMap}toString(){return dh(this)}}function eh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function nh(t,e){let n=[];return $l(t.children,(t,r)=>{r===Ll&&(n=n.concat(e(t,r)))}),$l(t.children,(t,r)=>{r!==Ll&&(n=n.concat(e(t,r)))}),n}class rh{}class ih{parse(t){const e=new mh(t);return new Xl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ah(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ch(e)}=${ch(t)}`).join("&"):`${ch(e)}=${ch(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const oh=new ih;function sh(t){return t.segments.map(t=>dh(t)).join("/")}function ah(t,e){if(!t.hasChildren())return sh(t);if(e){const e=t.children.primary?ah(t.children.primary,!1):"",n=[];return $l(t.children,(t,e)=>{e!==Ll&&n.push(`${e}:${ah(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=nh(t,(e,n)=>n===Ll?[ah(t.children.primary,!1)]:[`${n}:${ah(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sh(t)}/${e[0]}`:`${sh(t)}/(${e.join("//")})`}}function uh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ch(t){return uh(t).replace(/%3B/gi,";")}function lh(t){return uh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hh(t){return decodeURIComponent(t)}function fh(t){return hh(t.replace(/\+/g,"%20"))}function dh(t){return`${lh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${lh(t)}=${lh(e[t])}`).join("")}`;var e}const ph=/^[^\/()?;=#]+/;function gh(t){const e=t.match(ph);return e?e[0]:""}const vh=/^[^=?&#]+/,yh=/^[^?&#]+/;class mh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jl([],{}):new Jl([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Jl(t,e)),n}parseSegment(){const t=gh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new th(hh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gh(this.remaining);t&&(n=t,this.capture(n))}t[hh(e)]=hh(n)}parseQueryParam(t){const e=function(t){const e=t.match(vh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(yh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fh(e),i=fh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ll);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Jl([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_h(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _h(t,this._root).map(t=>t.value)}}function wh(t,e){if(t===e.value)return e;for(const n of e.children){const e=wh(t,n);if(e)return e}return null}function _h(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_h(t,n);if(r.length)return r.unshift(e),r}return[]}class Eh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ih(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ch extends bh{constructor(t,e){super(t),this.snapshot=e,kh(this,t)}toString(){return this.snapshot.toString()}}function Sh(t,e){const n=function(t,e){const n=new xh([],{},{},"",{},Ll,e,null,t.root,-1,{});return new Ah("",new Eh(n,[]))}(t,e),r=new Tc([new th("",{})]),i=new Tc({}),o=new Tc({}),s=new Tc({}),a=new Tc(""),u=new Th(r,i,s,a,o,Ll,e,n.root);return u.snapshot=n.root,new Ch(new Eh(u,[]),n)}class Th{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(T(t=>Ul(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(T(t=>Ul(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xh{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ul(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ul(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ah extends bh{constructor(t,e){super(e),this.url=t,kh(this,e)}toString(){return Nh(this._root)}}function kh(t,e){e.value._routerState=t,e.children.forEach(e=>kh(t,e))}function Nh(t){const e=t.children.length>0?` { ${t.children.map(Nh).join(", ")} } `:"";return`${t.value}${e}`}function jh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zl(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),zl(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zl(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),zl(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Dh(t,e){var n,r;return zl(t.params,e.params)&&eh(n=t.url,r=e.url)&&n.every((t,e)=>zl(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Dh(t.parent,e.parent))}function Ph(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ph(t,e,r);return Ph(t,e)})}(t,e,n);return new Eh(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Rh(e,t),t}{const n=new Th(new Tc((r=e.value).url),new Tc(r.params),new Tc(r.queryParams),new Tc(r.fragment),new Tc(r.data),r.outlet,r.component,r),i=e.children.map(e=>Ph(t,e));return new Eh(n,i)}}var r}function Rh(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Rh(t.children[n],e.children[n])}function Vh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lh(t){return"object"==typeof t&&null!=t&&t.outlets}function Mh(t,e,n,r,i){let o={};return r&&$l(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Xl(n.root===t?e:Uh(n.root,t,e),o,i)}function Uh(t,e,n){const r={};return $l(t.children,(t,i)=>{r[i]=t===e?n:Uh(t,e,n)}),new Jl(t.segments,r)}class Fh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Lh);if(r&&r!==Gl(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function zh(t,e,n){if(t||(t=new Jl([],{})),0===t.segments.length&&t.hasChildren())return Bh(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Lh(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Wh(a,u,e))return o;r+=2}else{if(!Wh(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Jl(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Jl(t.segments.slice(r.pathIndex),t.children),Bh(e,0,i)}return r.match&&0===i.length?new Jl(t.segments,{}):r.match&&!t.hasChildren()?Hh(t,e,n):r.match?Bh(t,0,i):Hh(t,e,n)}function Bh(t,e,n){if(0===n.length)return new Jl(t.segments,{});{const r=function(t){return Lh(t[0])?t[0].outlets:{[Ll]:t}}(n),i={};return $l(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=zh(t.children[r],e,n))}),$l(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Jl(t.segments,i)}}function Hh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Lh(o)){const t=Gh(o.outlets);return new Jl(r,t)}if(0===i&&Vh(n[0])){r.push(new th(t.segments[e].path,n[0])),i++;continue}const s=Lh(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Vh(a)?(r.push(new th(s,$h(a))),i+=2):(r.push(new th(s,{})),i++)}return new Jl(r,{})}function Gh(t){const e={};return $l(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Hh(new Jl([],{}),0,t))}),e}function $h(t){const e={};return $l(t,(t,n)=>e[n]=""+t),e}function Wh(t,e,n){return t==n.path&&zl(e,n.parameters)}class Kh{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ih(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$l(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ih(t),i=t.value.component?n.children:e;$l(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ih(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Rl(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Dl(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Yh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Yh(t){jh(t.value),t.children.forEach(Yh)}class Qh{constructor(t,e){this.routes=t,this.module=e}}function Zh(t){return"function"==typeof t}function Xh(t){return t instanceof Xl}const Jh=Symbol("INITIAL_VALUE");function tf(){return Xc(t=>function(...t){let e=void 0,n=void 0;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new Nc(e))}(...t.map(t=>t.pipe(el(1),ol(Jh)))).pipe(sl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Jh)return t;if(r===Jh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xh(r))return r}return t},t)},Jh),Mc(t=>t!==Jh),T(t=>Xh(t)?t:!0===t),el(1)))}let ef=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ao(0,"router-outlet")},directives:function(){return[Kf]},encapsulation:2}),t})();function nf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rf(r,of(e,r))}}function rf(t,e){t.children&&nf(t.children,e)}function of(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sf(t){const e=t.children&&t.children.map(sf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ll&&(n.component=ef),n}function af(t){return t.outlet||Ll}class uf{constructor(t){this.segmentGroup=t||null}}class cf{constructor(t){this.urlTree=t}}function lf(t){return new m(e=>e.error(new uf(t)))}function hf(t){return new m(e=>e.error(new cf(t)))}function ff(t){return new m(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class df{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Ys)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ll).pipe(T(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(cl(t=>{if(t instanceof cf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof uf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ll).pipe(T(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(cl(t=>{if(t instanceof uf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Jl([],{[Ll]:t}):t;return new Xl(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(T(t=>new Jl([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Sc({});const n=[],r=[],i={};return $l(t,(t,o)=>{const s=e(o,t).pipe(T(t=>i[o]=t));o===Ll?n.push(s):r.push(s)}),Sc.apply(null,n.concat(r)).pipe(Lc(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mc((e,n)=>t(e,n,r)):y,zc(1),n?Yc(e):Gc(()=>new Dc))}(),T(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=af(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>V(n).pipe(fl(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(cl(t=>{if(t instanceof uf)return Sc(null);throw t}))),dl(t=>null!==t),cl(t=>{if(t instanceof Dc||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Sc(new Jl([],{}));throw new uf(e)}throw t}));return V(Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(T(()=>null),cl(()=>Sc(null)))})).pipe(t=>t.lift(new Nc(void 0)),dl(),T(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return af(r)!==o&&""!==r.path?lf(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):lf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hf(i):this.lineralizeSegments(n,i).pipe(F(n=>{const i=new Jl(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=pf(e,r,i);if(!s)return lf(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?hf(l):this.lineralizeSegments(r,l).pipe(F(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(T(t=>(n._loadedConfig=t,new Jl(r,{})))):Sc(new Jl(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=pf(e,n,r);if(!i)return lf(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(F(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>vf(t,e,n)&&af(n)!==Ll)}(t,n,r)?{segmentGroup:gf(new Jl(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&af(r)!==Ll&&(n[af(r)]=new Jl([],{}));return n}(r,new Jl(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>vf(t,e,n))}(t,n,r)?{segmentGroup:gf(new Jl(t.segments,function(t,e,n,r){const i={};for(const o of n)vf(t,e,o)&&!r[af(o)]&&(i[af(o)]=new Jl([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(T(t=>new Jl(o,t))):0===r.length&&0===s.length?Sc(new Jl(o,{})):this.expandSegment(n,i,r,s,Ll,!0).pipe(T(t=>new Jl(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Sc(new Qh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Sc(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(F(n=>n?this.configLoader.load(t.injector,e).pipe(T(t=>(e._loadedConfig=t,t))):function(t){return new m(e=>e.error(Fl(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Sc(new Qh([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Sc(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zh(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zh(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Wl(o)})).pipe(tf(),gl(t=>{if(!Xh(t))return;const e=Fl(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),T(t=>!0===t)):Sc(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Sc(n);if(r.numberOfChildren>1||!r.children.primary)return ff(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $l(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $l(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Jl(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function pf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ql)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Jl(t.segments.concat(e.segments),e.children)}return t}function vf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class yf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mf{constructor(t,e){this.component=t,this.route=e}}function bf(t,e,n){const r=t._root;return _f(r,e?e._root:null,n,[r.value])}function wf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function _f(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ih(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!eh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!eh(t.url,e.url)||!zl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dh(t,e)||!zl(t.queryParams,e.queryParams);case"paramsChange":default:return!Dh(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),_f(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mf(a.outlet.component,s))}else s&&Ef(e,a,i),i.canActivateChecks.push(new yf(r)),_f(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),$l(o,(t,e)=>Ef(t,n.getContext(e),i)),i}function Ef(t,e,n){const r=Ih(t),i=t.value;$l(r,(t,r)=>{Ef(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new mf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function If(t,e){return null!==t&&e&&e(new Pl(t)),Sc(!0)}function Cf(t,e){return null!==t&&e&&e(new jl(t)),Sc(!0)}function Sf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Sc(r.map(r=>Vc(()=>{const i=wf(r,e,n);let o;if(function(t){return t&&Zh(t.canActivate)}(i))o=Wl(i.canActivate(e,t));else{if(!Zh(i))throw new Error("Invalid CanActivate guard");o=Wl(i(e,t))}return o.pipe(dl())}))).pipe(tf()):Sc(!0)}function Tf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Vc(()=>Sc(e.guards.map(i=>{const o=wf(i,e.node,n);let s;if(function(t){return t&&Zh(t.canActivateChild)}(o))s=Wl(o.canActivateChild(r,t));else{if(!Zh(o))throw new Error("Invalid CanActivateChild guard");s=Wl(o(r,t))}return s.pipe(dl())})).pipe(tf())));return Sc(i).pipe(tf())}class Of{}class xf{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Nf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ll),n=new xh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ll,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Eh(n,e),i=new Ah(this.url,r);return this.inheritParamsAndData(i._root),Sc(i)}catch(t){return new m(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Oh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=nh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Ll?-1:e.value.outlet===Ll?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Of))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Of}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Of;if((t.outlet||Ll)!==r)throw new Of;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Gl(n).parameters:{};i=new xh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Df(t),r,t.component,t,Af(e),kf(e)+n.length,Pf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Of;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ql)(n,t,e);if(!r)throw new Of;const i={};$l(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new xh(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Df(t),r,t.component,t,Af(e),kf(e)+o.length,Pf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Nf(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Eh(i,t)]}if(0===a.length&&0===c.length)return[new Eh(i,[])];const l=this.processSegment(a,u,c,Ll);return[new Eh(i,l)]}}function Af(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function kf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Nf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>jf(t,e,n)&&af(n)!==Ll)}(t,n,r)){const i=new Jl(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&af(o)!==Ll){const n=new Jl([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[af(o)]=n}return i}(t,e,r,new Jl(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jf(t,e,n))}(t,n,r)){const o=new Jl(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(jf(t,n,a)&&!i[af(a)]){const n=new Jl([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[af(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Jl(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function jf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Df(t){return t.data||{}}function Pf(t){return t.resolve||{}}function Rf(t){return function(e){return e.pipe(Xc(e=>{const n=t(e);return n?V(n).pipe(T(()=>e)):V([e])}))}}class Vf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Lf=new Ln("ROUTES");class Mf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(T(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Qh(Hl(r.injector.get(Lf)).map(sf),r)}))}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):Wl(t()).pipe(F(t=>t instanceof Qs?Sc(t):V(this.compiler.compileModuleAsync(t))))}}class Uf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ff,this.attachRef=null}}class Ff{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zf(t){throw t}function Bf(t,e,n){return e.parse("/")}function Hf(t,e){return Sc(null)}let Gf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=zf,this.malformedUriErrorHandler=Bf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hf,afterPreactivation:Hf},this.urlHandlingStrategy=new qf,this.routeReuseStrategy=new Vf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(Ys),this.console=i.get(Ea);const u=i.get(Ra);this.isNgZoneEnabled=u instanceof Ra,this.resetConfig(a),this.currentUrlTree=new Xl(new Jl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mf(o,s,t=>this.triggerEvent(new kl(t)),t=>this.triggerEvent(new Nl(t))),this.routerState=Sh(this.currentUrlTree,this.rootComponentType),this.transitions=new Tc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Mc(t=>0!==t.id),T(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Xc(t=>{let n=!1,r=!1;return Sc(t).pipe(gl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Sc(t).pipe(Xc(t=>{const n=this.transitions.getValue();return e.next(new _l(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pc:[t]}),Xc(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Xc(t=>function(t,e,n,r,i){return new df(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(T(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),gl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(F(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new xf(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(T(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),gl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),gl(t=>{const n=new Sl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new _l(n,this.serializeUrl(r),i,o);e.next(a);const u=Sh(r,this.rootComponentType).snapshot;return Sc(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pc}),Rf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),gl(t=>{const e=new Tl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),T(t=>Object.assign(Object.assign({},t),{guards:bf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(F(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Sc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return V(t).pipe(F(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Sc(o.map(o=>{const s=wf(o,e,i);let a;if(function(t){return t&&Zh(t.canDeactivate)}(s))a=Wl(s.canDeactivate(t,e,n,r));else{if(!Zh(s))throw new Error("Invalid CanDeactivate guard");a=Wl(s(t,e,n,r))}return a.pipe(dl())})).pipe(tf()):Sc(!0)}(t.component,t.route,n,e,r)),dl(t=>!0!==t,!0))}(s,r,i,t).pipe(F(n=>n&&"boolean"==typeof n?function(t,e,n,r){return V(e).pipe(fl(e=>V([Cf(e.route.parent,r),If(e.route,r),Tf(t,e.path,n),Sf(t,e.route,n)]).pipe(Lc(),dl(t=>!0!==t,!0))),dl(t=>!0!==t,!0))}(r,o,t,e):Sc(n)),T(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),gl(t=>{if(Xh(t.guardsResult)){const e=Fl(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),gl(t=>{const e=new Ol(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Mc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Il(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rf(t=>{if(t.guards.canActivateChecks.length)return Sc(t).pipe(gl(t=>{const e=new xl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Xc(t=>{let n=!1;return Sc(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(F(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Sc(t);let o=0;return V(n).pipe(fl(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Sc({});const o={};return V(i).pipe(F(i=>function(t,e,n,r){const i=wf(t,e,r);return Wl(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(gl(t=>{o[i]=t}))),zc(1),F(()=>Object.keys(o).length===i.length?Sc(o):Pc))}(t._resolve,t,e,r).pipe(T(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Oh(t,n).resolve),null)))}(t.route,e,r,i)),gl(()=>o++),zc(1),F(e=>o===n.length?Sc(t):Pc))}))}),gl({next:()=>n=!0,complete:()=>{if(!n){const n=new Il(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),gl(t=>{const e=new Al(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),T(t=>{const e=function(t,e,n){const r=Ph(t,e._root,n?n._root:void 0);return new Ch(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),gl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),T(t=>(new Kh(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),gl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Il(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ml(i))),cl(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Xh(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Il(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Cl(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Pc}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nf(t),this.config=t.map(sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mh(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fh(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $l(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Fh(n,e,r)}(n);if(o.toRoot())return Mh(e.root,new Jl([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qh(t,t===e.root,0)}const r=Vh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Bh(s.segmentGroup,s.index,o.commands):zh(s.segmentGroup,s.index,o.commands);return Mh(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Xh(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Xh(t))return Kl(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Kl(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new El(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(rr(Un),rr(rh),rr(Ff),rr(ku),rr(co),rr(iu),rr(ja),rr(void 0))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),$f=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new I,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Wf(this.skipLocationChange),replaceUrl:Wf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Co(Gf),Co(Th),Pn("tabindex"),Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Do("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[se]}),t})();function Wf(t){return""===t||!!t}let Kf=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new da,this.deactivateEvents=new da,this.name=r||Ll,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Co(Ff),Co(Xs),Co(ps),Pn("name"),Co(qs))},t.\u0275dir=Bt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Th?this.route:t===Ff?this.childContexts:this.parent.get(t,e)}}class Qf{}class Zf{preload(t,e){return Sc(null)}}let Xf=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mf(e,n,e=>t.triggerEvent(new kl(e)),e=>t.triggerEvent(new Nl(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mc(t=>t instanceof El),fl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ys);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return V(n).pipe(B(),T(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(rr(Gf),rr(iu),rr(ja),rr(co),rr(Qf))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),Jf=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _l?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof El&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Vl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(rr(Gf),rr($u),rr(void 0))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();const td=new Ln("ROUTER_CONFIGURATION"),ed=new Ln("ROUTER_FORROOT_GUARD"),nd=[ku,{provide:rh,useClass:ih},{provide:Gf,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Gf(null,t,e,n,r,i,o,Hl(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing){const t=pu();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l},deps:[rh,Ff,ku,co,iu,ja,Lf,td,[class{},new Wn],[class{},new Wn]]},Ff,{provide:Th,useFactory:function(t){return t.routerState.root},deps:[Gf]},{provide:iu,useClass:au},Xf,Zf,class{preload(t,e){return e().pipe(cl(()=>Sc(null)))}},{provide:td,useValue:{enableTracing:!1}}];function rd(){return new Za("Router",Gf)}let id=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[nd,ud(e),{provide:ed,useFactory:ad,deps:[[Gf,new Wn,new Yn]]},{provide:td,useValue:n||{}},{provide:Su,useFactory:sd,deps:[vu,[new $n(Ou),new Wn],td]},{provide:Jf,useFactory:od,deps:[Gf,$u,td]},{provide:Qf,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Zf},{provide:Za,multi:!0,useFactory:rd},[cd,{provide:pa,multi:!0,useFactory:ld,deps:[cd]},{provide:fd,useFactory:hd,deps:[cd]},{provide:_a,multi:!0,useExisting:fd}]]}}static forChild(e){return{ngModule:t,providers:[ud(e)]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(rr(ed,8),rr(Gf,8))}}),t})();function od(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jf(t,e,n)}function sd(t,e,n={}){return n.useHash?new Au(t,e):new xu(t,e)}function ad(t){return"guarded"}function ud(t){return[{provide:Mn,multi:!0,useValue:t},{provide:Lf,multi:!0,useValue:t}]}let cd=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(mu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Gf),r=this.injector.get(td);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Sc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(td),n=this.injector.get(Xf),r=this.injector.get(Jf),i=this.injector.get(Gf),o=this.injector.get(nu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(rr(co))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})();function ld(t){return t.appInitializer.bind(t)}function hd(t){return t.bootstrapListener.bind(t)}const fd=new Ln("Router Initializer");let dd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt({type:t,selectors:[["app-home"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var pd=n("zIRd");pd.a.registerVersion("firebase","8.0.0","app");class gd extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class vd extends gd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let yd=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class md extends yd{constructor(t,e=yd.now){super(t,()=>md.delegate&&md.delegate!==this?md.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return md.delegate&&md.delegate!==this?md.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const bd=new md(vd);let wd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Sc(this.value);case"E":return t=this.error,new m(e=>e.error(t));case"C":return Rc()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function _d(t,e=0){return function(n){return n.lift(new Ed(t,e))}}class Ed{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Id(t,this.scheduler,this.delay))}}class Id extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Id.dispatch,this.delay,new Cd(t,this.destination)))}_next(t){this.scheduleMessage(wd.createNext(t))}_error(t){this.scheduleMessage(wd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(wd.createComplete()),this.unsubscribe()}}class Cd{constructor(t,e){this.notification=t,this.destination=e}}class Sd extends vd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Td extends md{}const Od=new Td(Sd),xd=Od;let Ad=1;const kd=(()=>Promise.resolve())(),Nd={};function jd(t){return t in Nd&&(delete Nd[t],!0)}const Dd={setImmediate(t){const e=Ad++;return Nd[e]=!0,kd.then(()=>jd(e)&&t()),e},clearImmediate(t){jd(t)}};class Pd extends vd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Dd.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Dd.clearImmediate(e),t.scheduled=void 0)}}class Rd extends md{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Vd=new Rd(Pd);class Ld extends m{constructor(t,e=0,n=Vd){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Vd)}static create(t,e=0,n=Vd){return new Ld(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Ld.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Md{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Ld(e,this.delay,this.scheduler).subscribe(t)}}function Ud(){}class Fd{constructor(t,e=Od){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class qd{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ud,{},Ud,Ud)),e.pipe(gl({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class zd{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Fd(Zone.current)),this.insideAngular=t.run(()=>new Fd(Zone.current,bd))}}function Bd(t){return function(e){return(e=e.lift(new qd(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Md(t,e))}}(t.outsideAngular),_d(t.insideAngular))}}const Hd=["ngOnDestroy"],Gd=(t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(Hd.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}),$d=new Ln("angularfire2.app.options"),Wd=new Ln("angularfire2.app.nameOrConfig"),Kd=new Is("6.0.4");function Yd(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",pd.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>pd.a.initializeApp(t,r))}const Qd={provide:class{},useFactory:Yd,deps:[$d,Ra,[new Wn,Wd]]};let Zd=(()=>{class t{constructor(t){pd.a.registerVersion("angularfire",Kd.full,t.toString()),pd.a.registerVersion("angular",Cs.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:$d,useValue:e},{provide:Wd,useValue:n}]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(rr(wa))},providers:[Qd]}),t})();function Xd(t,e){return function(t,e=bd){return new m(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Jd(t,e){return Xd(t,e).pipe(T(t=>({payload:t,type:"query"})))}function tp(t,e){return Jd(t,e).pipe(T(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function ep(t,e,n){return Jd(t,n).pipe(T(t=>t.payload.docChanges()),sl((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),T(t=>t.map(t=>({type:t.type,payload:t}))))}function np(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class rp{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?tp(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mc(t=>t.length>0),this.afs.keepUnstableUntilFirst):tp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(sl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=np(t);return ep(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Jd(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return V(this.query.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ip(this.ref.doc(t),this.afs)}}class ip{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=lp(n,e);return new rp(r,i,this.afs)}snapshotChanges(){return Xd(this.ref,this.afs.schedulers.outsideAngular).pipe(T(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(T(t=>t.payload.data()))}get(t){return V(this.ref.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}}class op{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?tp(this.query,this.afs.schedulers.outsideAngular).pipe(T(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mc(t=>t.length>0),this.afs.keepUnstableUntilFirst):tp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(sl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=np(t);return ep(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Jd(this.query,this.afs.schedulers.outsideAngular).pipe(T(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return V(this.query.get(t)).pipe(_d(this.afs.schedulers.insideAngular))}}const sp=n("xsWp"),ap=new Ln("angularfire2.enableFirestorePersistence"),up=new Ln("angularfire2.firestore.persistenceSettings"),cp=new Ln("angularfire2.firestore.settings");function lp(t,e=(t=>t)){return{query:e(t),ref:t}}let hp=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new zd(o),this.keepUnstableUntilFirst=Bd(this.schedulers),this.firestore=o.runOutsideAngular(()=>{const n=Yd(t,o,e);"registerFirestore"in sp&&sp.registerFirestore(pd.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!Gu(i)?o.runOutsideAngular(()=>{try{return V(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return Sc(!1)}}):Sc(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=lp(n,e),o=this.schedulers.ngZone.run(()=>r);return new rp(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new op(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new ip(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(rr($d),rr(Wd,8),rr(ap,8),rr(cp,8),rr(wa),rr(Ra),rr(up,8))},t.\u0275prov=st({factory:function(){return new t(rr($d),rr(Wd,8),rr(ap,8),rr(cp,8),rr(wa),rr(Ra),rr(up,8))},token:t,providedIn:"any"}),t})(),fp=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ap,useValue:!0},{provide:up,useValue:e}]}}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[hp]}),t})();class dp extends I{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new pp(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new w;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new _(this,t)),r&&t.add(t=new Id(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||xd).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class pp{constructor(t,e){this.time=t,this.value=e}}function gp(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new dp(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}let vp=(()=>{class t{constructor(t,e,r,i){const o=new zd(i),s=Bd(o),a=Sc(void 0).pipe(_d(o.outsideAngular),Xc(()=>i.runOutsideAngular(()=>n.e(1).then(n.bind(null,"6nsN")))),T(()=>Yd(t,i,e)),T(t=>i.runOutsideAngular(()=>t.auth())),gp({bufferSize:1,refCount:!1}));return Gu(r)?this.authState=this.user=this.idToken=this.idTokenResult=Sc(null):(a.pipe(dl()).subscribe(),this.authState=a.pipe(Xc(t=>t.getRedirectResult().then(()=>t,()=>t)),Xc(t=>i.runOutsideAngular(()=>new m(t.onAuthStateChanged.bind(t)))),s),this.user=a.pipe(Xc(t=>t.getRedirectResult().then(()=>t,()=>t)),Xc(t=>i.runOutsideAngular(()=>new m(t.onIdTokenChanged.bind(t)))),s),this.idToken=this.user.pipe(Xc(t=>t?V(t.getIdToken()):Sc(null))),this.idTokenResult=this.user.pipe(Xc(t=>t?V(t.getIdTokenResult()):Sc(null)))),Gd(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(rr($d),rr(Wd,8),rr(wa),rr(Ra))},t.\u0275prov=st({factory:function(){return new t(rr($d),rr(Wd,8),rr(wa),rr(Ra))},token:t,providedIn:"any"}),t})(),yp=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.user={},this.auth.authState.subscribe(t=>{console.log("Estado del usuario: ",t),t&&(this.user.name=t.displayName,this.user.uid=t.uid,this.user.photoUrl=t.photoURL)})}login(t){this.auth.signInWithPopup("google"===t?new pd.a.auth.GoogleAuthProvider:new pd.a.auth.TwitterAuthProvider)}logout(){this.user={},this.auth.signOut()}uploadMessages(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("fecha","asc").limitToLast(5)),this.itemsCollection.valueChanges().pipe(T(t=>{console.log(t),this.chats=t}))}addMessage(t){let e={nombre:this.user.name,mensaje:t,fecha:(new Date).getTime(),uid:this.user.uid};return this.itemsCollection.add(e)}}return t.\u0275fac=function(e){return new(e||t)(rr(hp),rr(vp))},t.\u0275prov=st({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mp(t,e){return new m(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=V(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const bp=new Ln("NgValueAccessor"),wp={provide:bp,useExisting:rt(()=>_p),multi:!0};let _p=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Do("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[hs([wp])]}),t})();const Ep={provide:bp,useExisting:rt(()=>Cp),multi:!0},Ip=new Ln("CompositionEventMode");let Cp=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=pu()?pu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms),Co(Ip,8))},t.\u0275dir=Bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Do("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[hs([Ep])]}),t})();function Sp(t){return null==t||0===t.length}function Tp(t){return null!=t&&"number"==typeof t.length}const Op=new Ln("NgValidators"),xp=new Ln("NgAsyncValidators"),Ap=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kp{static min(t){return e=>{if(Sp(e.value)||Sp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Sp(e.value)||Sp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Sp(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Sp(t.value)||Ap.test(t.value)?null:{email:!0}}static minLength(t){return e=>Sp(e.value)||!Tp(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Tp(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return kp.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Sp(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Np);return 0==e.length?null:function(t){return Dp(Pp(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Np);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return mp(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return mp(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return mp(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(T(t=>e(...t)))}return mp(t,null)}(Pp(t,e).map(jp)).pipe(T(Dp))}}}function Np(t){return null!=t}function jp(t){const e=No(t)?V(t):t;return jo(e),e}function Dp(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Pp(t,e){return e.map(e=>e(t))}function Rp(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vp(t){return null!=t?kp.compose(Rp(t)):null}function Lp(t){return null!=t?kp.composeAsync(Rp(t)):null}function Mp(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Up=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Bt({type:t}),t})(),Fp=(()=>{class t extends Up{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return qp(e||t)},t.\u0275dir=Bt({type:t,features:[ho]}),t})();const qp=Dn(Fp);class zp extends Up{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bp{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Hp=(()=>{class t extends Bp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Co(zp,2))},t.\u0275dir=Bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&zo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ho]}),t})(),Gp=(()=>{class t extends Bp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Co(Fp,2))},t.\u0275dir=Bt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&zo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ho]}),t})();const $p={provide:bp,useExisting:rt(()=>Wp),multi:!0};let Wp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Do("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[hs([$p])]}),t})();const Kp={provide:bp,useExisting:rt(()=>Qp),multi:!0};let Yp=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),Qp=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(zp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms),Co(Yp),Co(co))},t.\u0275dir=Bt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Do("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[hs([Kp])]}),t})();const Zp={provide:bp,useExisting:rt(()=>Xp),multi:!0};let Xp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Do("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[hs([Zp])]}),t})();const Jp={provide:bp,useExisting:rt(()=>tg),multi:!0};let tg=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Do("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[hs([Jp])]}),t})();const eg={provide:bp,useExisting:rt(()=>ng),multi:!0};let ng=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Co(ws),Co(ms))},t.\u0275dir=Bt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Do("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[hs([eg])]}),t})();function rg(t,e){og(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sg(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ig(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function og(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Mp(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Mp(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ig(e._rawValidators,n),ig(e._rawAsyncValidators,n)}}function sg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const ag=[_p,Xp,Wp,tg,ng,Qp];function ug(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const cg="VALID",lg="INVALID",hg="PENDING",fg="DISABLED";function dg(t){return(yg(t)?t.validators:t)||null}function pg(t){return Array.isArray(t)?Vp(t):t||null}function gg(t,e){return(yg(e)?e.asyncValidators:t)||null}function vg(t){return Array.isArray(t)?Lp(t):t||null}function yg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pg(this._rawValidators),this._composedAsyncValidatorFn=vg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cg}get invalid(){return this.status===lg}get pending(){return this.status==hg}get disabled(){return this.status===fg}get enabled(){return this.status!==fg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pg(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cg,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==cg&&this.status!==hg||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fg:cg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hg,this._hasOwnPendingAsyncValidator=!0;const e=jp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof wg?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof _g&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new da,this.statusChanges=new da}_calculateStatus(){return this._allControlsDisabled()?fg:this.errors?lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hg)?hg:this._anyControlsHaveStatus(lg)?lg:cg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bg extends mg{constructor(t=null,e,n){super(dg(e),gg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ug(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ug(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class wg extends mg{constructor(t,e,n){super(dg(e),gg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof bg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class _g extends mg{constructor(t,e,n){super(dg(e),gg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof bg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Eg={provide:Fp,useExisting:rt(()=>Cg)},Ig=(()=>Promise.resolve(null))();let Cg=(()=>{class t extends Fp{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new da,this.form=new wg({},Vp(t),Lp(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ig.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),rg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ig.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ug(this._directives,t)})}addFormGroup(t){Ig.then(()=>{const e=this._findContainer(t.path),n=new wg({});(function(t,e){og(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ig.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ig.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Co(Op,10),Co(xp,10))},t.\u0275dir=Bt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Do("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hs([Eg]),ho]}),t})();const Sg={provide:zp,useExisting:rt(()=>Og)},Tg=(()=>Promise.resolve(null))();let Og=(()=>{class t extends zp{constructor(t,e,n,r){super(),this.control=new bg,this._registered=!1,this.update=new da,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Cp?n=t:(e=t,ag.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Tg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Co(Fp,9),Co(Op,10),Co(xp,10),Co(bp,10))},t.\u0275dir=Bt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[hs([Sg]),ho,se]}),t})(),xg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Bt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ag=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)}}),t})(),kg=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[Yp],imports:[Ag]}),t})();const Ng=function(t,e){return{"justify-content-end":t,"justify-content-start":e}},jg=function(t,e){return{"badge-primary":t,"badge-success":e}};function Dg(t,e){if(1&t&&(Oo(0,"li",35),Ao(1,"img",36),Oo(2,"div",37),Oo(3,"div",38),Oo(4,"span",39),Wo(5),xo(),Ao(6,"br"),Oo(7,"small",40),Ao(8,"i",41),Wo(9," 12 mins ago"),xo(),Ao(10,"br"),xo(),Ao(11,"hr",42),Oo(12,"p",43),Wo(13),xo(),xo(),xo()),2&t){const t=e.$implicit,n=Vo();So("ngClass",fa(5,Ng,n._cs.user.uid==t.uid,n._cs.user.uid!=t.uid)),ti(1),Lo("src",n._cs.user.photoUrl,lr),ti(3),So("ngClass",fa(8,jg,n._cs.user.uid==t.uid,n._cs.user.uid!=t.uid)),ti(1),Yo(" ",n._cs.user.name," "),ti(8),Yo(" ",t.mensaje," ")}}let Pg=(()=>{class t{constructor(t){this._cs=t,this.mensaje="",this._cs.uploadMessages().subscribe(()=>{setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}sendMessage(){console.log(this.mensaje),0!==this.mensaje.length&&this._cs.addMessage(this.mensaje).then(()=>this.mensaje="").catch(t=>console.error("Error al enviar",t))}}return t.\u0275fac=function(e){return new(e||t)(Co(yp))},t.\u0275cmp=Lt({type:t,selectors:[["app-chat"]],decls:134,vars:4,consts:[[1,"card","blue-gradient","chat-room"],[1,"card-body"],[1,"row","px-lg-2","px-2"],[1,"col-md-6","col-xl-4","px-0"],[1,"font-weight-bold","mb-3","text-center","text-lg-left","text-white"],[1,"white","z-depth-1","px-2","pt-3","pb-0","members-panel-1","scrollbar-light-blue"],[1,"list-unstyled","friend-list"],[1,"active","grey","lighten-3","p-2"],["href","#",1,"d-flex","justify-content-between"],["alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1",3,"src"],[1,"text-small"],[1,"last-message","text-muted"],[1,"chat-footer"],[1,"text-smaller","text-muted","mb-0"],[1,"badge","badge-danger","float-right"],[1,"p-2"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-1.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],[1,"text-muted","float-right"],["aria-hidden","true",1,"fas","fa-mail-reply"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-2.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-3.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-4.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["src","https://mdbootstrap.com/img/Photos/Avatars/avatar-6.jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["aria-hidden","true",1,"fas","fa-check"],["src","https://mdbootstrap.com/img/Photos/Avatars/img(3).jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],["src","https://mdbootstrap.com/img/Photos/Avatars/img(2).jpg","alt","avatar",1,"avatar","rounded-circle","d-flex","align-self-center","mr-2","z-depth-1"],[1,"col-md-6","col-xl-8","pl-md-3","px-lg-auto","px-0"],[1,"chat-message"],["id","app-mensajes",1,"list-unstyled","chat-1","scrollbar-light-blue"],["class","d-flex mb-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"white"],[1,"form-group","basic-textarea"],["id","exampleFormControlTextarea2","rows","3","placeholder","Type your message here...",1,"form-control","pl-2","my-0",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","tempting-azure-gradient","rounded-pill","btn-sm","waves-effect","float-right",3,"click"],[1,"d-flex","mb-4",3,"ngClass"],["alt","avatar",1,"avatar","rounded-circle","mr-2","ml-lg-3","ml-0","z-depth-1",3,"src"],[1,"chat-body","white","p-3","ml-2","z-depth-1"],[1,"header"],[1,"badge",3,"ngClass"],[1,"float-left","text-muted"],[1,"far","fa-clock"],[1,"w-100"],[1,"mb-0"]],template:function(t,e){1&t&&(Oo(0,"div",0),Oo(1,"div",1),Oo(2,"div",2),Oo(3,"div",3),Oo(4,"h5",4),Wo(5,"Chat"),xo(),Oo(6,"div",5),Oo(7,"ul",6),Oo(8,"li",7),Oo(9,"a",8),Ao(10,"img",9),Oo(11,"div",10),Oo(12,"strong"),Wo(13),xo(),Oo(14,"p",11),Wo(15,"Hello, Are you there?"),xo(),xo(),Oo(16,"div",12),Oo(17,"p",13),Wo(18,"Just now"),xo(),Oo(19,"span",14),Wo(20,"1"),xo(),xo(),xo(),xo(),Oo(21,"li",15),Oo(22,"a",8),Ao(23,"img",16),Oo(24,"div",10),Oo(25,"strong"),Wo(26,"Danny Smith"),xo(),Oo(27,"p",11),Wo(28,"Lorem ipsum dolor sit."),xo(),xo(),Oo(29,"div",12),Oo(30,"p",13),Wo(31,"5 min ago"),xo(),Oo(32,"span",17),Ao(33,"i",18),xo(),xo(),xo(),xo(),Oo(34,"li",15),Oo(35,"a",8),Ao(36,"img",19),Oo(37,"div",10),Oo(38,"strong"),Wo(39,"Alex Steward"),xo(),Oo(40,"p",11),Wo(41,"Lorem ipsum dolor sit."),xo(),xo(),Oo(42,"div",12),Oo(43,"p",13),Wo(44,"Yesterday"),xo(),Oo(45,"span",17),Ao(46,"i",18),xo(),xo(),xo(),xo(),Oo(47,"li",15),Oo(48,"a",8),Ao(49,"img",20),Oo(50,"div",10),Oo(51,"strong"),Wo(52,"Ashley Olsen"),xo(),Oo(53,"p",11),Wo(54,"Lorem ipsum dolor sit."),xo(),xo(),Oo(55,"div",12),Oo(56,"p",13),Wo(57,"Yesterday"),xo(),Oo(58,"span",17),Ao(59,"i",18),xo(),xo(),xo(),xo(),Oo(60,"li",15),Oo(61,"a",8),Ao(62,"img",21),Oo(63,"div",10),Oo(64,"strong"),Wo(65,"Kate Moss"),xo(),Oo(66,"p",11),Wo(67,"Lorem ipsum dolor sit."),xo(),xo(),Oo(68,"div",12),Oo(69,"p",13),Wo(70,"Yesterday"),xo(),Oo(71,"span",17),Ao(72,"i",18),xo(),xo(),xo(),xo(),Oo(73,"li",15),Oo(74,"a",8),Ao(75,"img",22),Oo(76,"div",10),Oo(77,"strong"),Wo(78,"Lara Croft"),xo(),Oo(79,"p",11),Wo(80,"Lorem ipsum dolor sit."),xo(),xo(),Oo(81,"div",12),Oo(82,"p",13),Wo(83,"Yesterday"),xo(),Oo(84,"span",17),Ao(85,"i",18),xo(),xo(),xo(),xo(),Oo(86,"li",15),Oo(87,"a",8),Ao(88,"img",23),Oo(89,"div",10),Oo(90,"strong"),Wo(91,"Brad Pitt"),xo(),Oo(92,"p",11),Wo(93,"Lorem ipsum dolor sit."),xo(),xo(),Oo(94,"div",12),Oo(95,"p",13),Wo(96,"5 min ago"),xo(),Oo(97,"span",17),Ao(98,"i",24),xo(),xo(),xo(),xo(),Oo(99,"li",15),Oo(100,"a",8),Ao(101,"img",25),Oo(102,"div",10),Oo(103,"strong"),Wo(104,"Ken Ditto"),xo(),Oo(105,"p",11),Wo(106,"Lorem ipsum dolor sit."),xo(),xo(),Oo(107,"div",12),Oo(108,"p",13),Wo(109,"Yesterday"),xo(),Oo(110,"span",17),Ao(111,"i",18),xo(),xo(),xo(),xo(),Oo(112,"li",15),Oo(113,"a",8),Ao(114,"img",26),Oo(115,"div",10),Oo(116,"strong"),Wo(117,"Marta Wozniak"),xo(),Oo(118,"p",11),Wo(119,"Lorem ipsum dolor sit."),xo(),xo(),Oo(120,"div",12),Oo(121,"p",13),Wo(122,"Yesterday"),xo(),Oo(123,"span",17),Ao(124,"i",18),xo(),xo(),xo(),xo(),xo(),xo(),xo(),Oo(125,"div",27),Oo(126,"div",28),Oo(127,"ul",29),Io(128,Dg,14,11,"li",30),xo(),Oo(129,"div",31),Oo(130,"div",32),Oo(131,"textarea",33),Do("ngModelChange",function(t){return e.mensaje=t})("keyup.enter",function(){return e.sendMessage()}),xo(),xo(),xo(),Oo(132,"button",34),Do("click",function(){return e.sendMessage()}),Wo(133," Send "),xo(),xo(),xo(),xo(),xo(),xo()),2&t&&(ti(10),Lo("src",e._cs.user.photoUrl,lr),ti(3),Ko(e._cs.user.name),ti(115),So("ngForOf",e._cs.chats),ti(3),So("ngModel",e.mensaje))},directives:[Mu,Cp,Hp,Og,Vu],encapsulation:2}),t})();function Rg(t,e){if(1&t){const t=ko();Oo(0,"div",2),Oo(1,"div",3),Oo(2,"div",4),Oo(3,"h5",5),Oo(4,"strong"),Wo(5,"Sign in"),xo(),xo(),Oo(6,"div",6),Oo(7,"form",7,8),Oo(9,"div",9),Oo(10,"p",10),Wo(11,"Login with:"),xo(),xo(),Oo(12,"div",11),Oo(13,"div"),Oo(14,"button",12),Do("click",function(){return Ae(t),Vo().onLogin("google")}),Se.lFrame.currentNamespace=he,Oo(15,"svg",13),Ao(16,"path",14),Ao(17,"path",15),Ao(18,"path",16),Ao(19,"path",17),xo(),Wo(20," Google "),xo(),xo(),Se.lFrame.currentNamespace=null,Oo(21,"div"),Oo(22,"button",12),Do("click",function(){return Ae(t),Vo().onLogin("twitter")}),Ao(23,"i",18),Wo(24," Twitter "),xo(),xo(),xo(),xo(),xo(),xo(),xo(),xo()}}function Vg(t,e){1&t&&Ao(0,"app-chat")}const Lg=[{path:"login",component:(()=>{class t{constructor(t,e){this._cs=t,this.route=e}ngOnInit(){}onLogin(t){console.log(t),this._cs.login(t)}}return t.\u0275fac=function(e){return new(e||t)(Co(yp),Co(Gf))},t.\u0275cmp=Lt({type:t,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","row mb-5",4,"ngIf"],[4,"ngIf"],[1,"row","mb-5"],[1,"col-md-6","offset-3"],[1,"card","animate__animated","animate__bounceIn"],[1,"card-header","blue-gradient","white-text","text-center","py-4"],[1,"card-body","px-lg-5","pt-0"],[1,"text-center","needs-validation",2,"color","#757575"],["signInForm","ngForm"],[1,"mt-4"],[1,"text-center"],[1,"d-flex","justify-content-around","my-2"],["type","submit",1,"btn","deep-blue-gradient","btn-block","my-4","rounded-pill","hvr-bob",3,"click"],["role","img","height","30","width","30","viewBox","0 0 20 20","aria-hidden","true","focusable","false",1,"svg-icon"],["d","M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z","fill","#4285F4"],["d","M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z","fill","#34A853"],["d","M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z","fill","#FBBC05"],["d","M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z","fill","#EA4335"],[1,"fab","fa-twitter","fa-2x"]],template:function(t,e){1&t&&(Io(0,Rg,25,0,"div",0),Io(1,Vg,1,0,"app-chat",1)),2&t&&(So("ngIf",!e._cs.user.uid),ti(1),So("ngIf",e._cs.user.uid))},directives:[Fu,xg,Gp,Cg,Pg],encapsulation:2}),t})()},{path:"home",component:dd},{path:"**",pathMatch:"full",redirectTo:"home"}];let Mg=(()=>{class t{}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)},imports:[[id.forRoot(Lg,{relativeLinkResolution:"legacy"})],id]}),t})();class Ug{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Fg(t,this.observables,this.project))}}class Fg extends Oc{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ac(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class qg{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new zg(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class zg extends p{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new I,n.set(e,i);const t=new Hg(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Hg(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Bg(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Bg extends p{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Hg extends m{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new h,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Gg(n)),e.add(r.subscribe(t)),e}}class Gg extends h{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}class $g{call(t,e){return e.subscribe(new Wg(t))}}class Wg extends p{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}const Kg=new Ln("angularfire2.analytics.analyticsCollectionEnabled"),Yg=new Ln("angularfire2.analytics.appVersion"),Qg=new Ln("angularfire2.analytics.appName"),Zg=new Ln("angularfire2.analytics.debugMode"),Xg=new Ln("angularfire2.analytics.config");let Jg,tv;const ev={};let nv=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c){this.options=t,tv||(Hu(u)?(window.dataLayer=window.dataLayer||[],Jg=window.gtag||function(...t){window.dataLayer.push(arguments)},tv=c.runOutsideAngular(()=>new Promise(t=>{window.gtag=(...e)=>{"js"===e[0]&&t(),Jg(...e)}}))):(Jg=()=>{},tv=Promise.resolve()));let l=ev[t.measurementId];return l||(l=Sc(void 0).pipe(_d(new zd(c).outsideAngular),Xc(()=>Hu(u)?n.e(5).then(n.bind(null,"AAub")):Pc),T(()=>Yd(t,c,e)),T(t=>t.analytics()),gl(t=>{!1===r&&t.setAnalyticsCollectionEnabled(!1)}),gp({bufferSize:1,refCount:!1})),ev[t.measurementId]=l),a&&this.updateConfig(a),o&&this.updateConfig({app_name:o}),i&&this.updateConfig({app_version:i}),s&&this.updateConfig({debug_mode:1}),Gd(this,l,c)}updateConfig(t){return e=this,void 0,r=function*(){yield tv,Jg("config",this.options.measurementId,Object.assign(Object.assign({},t),{update:!0}))},new((n=void 0)||(n=Promise))(function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(e,[])).next())});var e,n,r}}return t.\u0275fac=function(e){return new(e||t)(rr($d),rr(Wd,8),rr(Kg,8),rr(Yg,8),rr(Qg,8),rr(Zg,8),rr(Xg,8),rr(wa),rr(Ra))},t.\u0275prov=st({factory:function(){return new t(rr($d),rr(Wd,8),rr(Kg,8),rr(Yg,8),rr(Qg,8),rr(Zg,8),rr(Xg,8),rr(wa),rr(Ra))},token:t,providedIn:"any"}),t})();const rv="page_path",iv="screen_class",ov="screen_view",sv="???";let av=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const uv={},cv=t=>{const e=[t.screen_class,t.outlet].join("#");if(uv.hasOwnProperty(e))return uv[e];{const t=av++;return uv[e]=t,t}};let lv=(()=>{class t{constructor(t,e,n,r,i,o,s,a){if(!e||!Hu(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(Mc(t=>t instanceof Rl)),u=e.events.pipe(Mc(t=>t instanceof El));var c;this.disposable=u.pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Ug(t,n))}}(i),Xc(([t,e])=>{const i=t.url,o=e.snapshot.routeConfig&&e.snapshot.routeConfig.path||i,s={screen_name:o,[rv]:i,firebase_event_origin:"auto",firebase_screen:o,outlet:e.snapshot.outlet};n&&(s.page_title=n.getTitle());const u=e.snapshot.component,c=e.snapshot.routeConfig,l=c&&c.loadChildren;if("string"==typeof l)return Sc(Object.assign(Object.assign({},s),{[iv]:l.split("#")[1]}));if("string"==typeof u)return Sc(Object.assign(Object.assign({},s),{[iv]:u}));if(u){const t=r.resolveComponentFactory(u);return Sc(Object.assign(Object.assign({},s),{[iv]:t.selector}))}if(l){const t=l();return(t instanceof m?t:V(Promise.resolve(t))).pipe(T(t=>{if(!(t instanceof Qs)){const e=[].concat.apply([],(t.__annotations__||[]).map(t=>t.declarations)),n=[].concat.apply([],e.map(t=>(t.__annotations__||[]).map(t=>t.selector)));return Object.assign(Object.assign({},s),{[iv]:n[0]||sv})}{const n=t.create(a),r=n.injector.get(Lf)[0][0].component;try{const t=n.componentFactoryResolver.resolveComponentFactory(r);return Object.assign(Object.assign({},s),{[iv]:t.selector})}catch(e){return Object.assign(Object.assign({},s),{[iv]:sv})}}}))}return Sc(Object.assign(Object.assign({},s),{[iv]:sv}))}),T(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:cv(t)},t)),gl(e=>{"primary"===e.outlet&&(t.setCurrentScreen(e.screen_name),t.updateConfig({[rv]:e.page_path,[iv]:e.screen_class}),n&&t.updateConfig({page_title:e.page_title}))}),(c=t=>t.outlet,t=>t.lift(new qg(c,void 0,void 0,void 0))),F(t=>t.pipe(ol(void 0),t=>t.lift(new $g))),T(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),gl(t=>o&&console.info(ov,t)),gl(e=>s.runOutsideAngular(()=>t.logEvent(ov,e)))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(rr(nv),rr(Gf,8),rr(Cc,8),rr(ps),rr(wa),rr(Zg,8),rr(Ra),rr(co))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),hv=(()=>{class t{constructor(t,e,r){const i=new zd(e);Gu(r)||e.runOutsideAngular(()=>{this.disposable=V(n.e(1).then(n.bind(null,"6nsN"))).pipe(_d(i.outsideAngular),Xc(()=>t.app),T(t=>t.auth()),Xc(t=>new m(t.onAuthStateChanged.bind(t))),Xc(e=>t.setUserId(e?e.uid:null))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(rr(nv),rr(Ra),rr(wa))},t.\u0275prov=st({token:t,factory:t.\u0275fac}),t})(),fv=(()=>{class t{constructor(t,e,n){}}return t.\u0275mod=qt({type:t}),t.\u0275inj=at({factory:function(e){return new(e||t)(rr(nv),rr(lv,8),rr(hv,8))},providers:[nv]}),t})();function dv(t,e){if(1&t){const t=ko();Oo(0,"span",8),Oo(1,"button",9),Do("click",function(){return Ae(t),Vo()._cs.logout()}),Ao(2,"i",10),Wo(3," Logout "),xo(),xo()}}function pv(t,e){1&t&&(Oo(0,"span",8),Oo(1,"button",11),Ao(2,"i",12),Wo(3," Log In "),xo(),xo())}let gv=(()=>{class t{constructor(t,e){this._cs=t,this.router=e}}return t.\u0275fac=function(e){return new(e||t)(Co(yp),Co(Gf))},t.\u0275cmp=Lt({type:t,selectors:[["app-navbar"]],decls:11,vars:2,consts:[[1,"navbar","sticky-top","navbar-expand-md","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==","loading","lazy"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","navbar-text text-dark",4,"ngIf"],[1,"navbar-text","text-dark"],["type","button","routerLink","/home",1,"btn","deep-blue-gradient","rounded-pill","hvr-bob",3,"click"],[1,"fas","fa-sign-out-alt","fa-2x"],["routerLink","/login","type","button",1,"btn","deep-blue-gradient","rounded-pill","hvr-bob"],[1,"fas","fa-sign-in-alt","fa-2x"]],template:function(t,e){1&t&&(Oo(0,"nav",0),Oo(1,"a",1),Ao(2,"img",2),Wo(3," Fire Chat App "),xo(),Oo(4,"button",3),Ao(5,"span",4),xo(),Oo(6,"div",5),Oo(7,"ul",6),Ao(8,"li"),xo(),Io(9,dv,4,0,"span",7),Io(10,pv,4,0,"span",7),xo(),xo()),2&t&&(ti(9),So("ngIf",e._cs.user.uid),ti(1),So("ngIf",!e._cs.user.uid))},directives:[Fu,$f],encapsulation:2}),t})(),vv=(()=>{class t{constructor(t,e){this._cs=e,this.title="fireChat"}}return t.\u0275fac=function(e){return new(e||t)(Co(hp),Co(yp))},t.\u0275cmp=Lt({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container","content"],[1,"main","mt-5"]],template:function(t,e){1&t&&(Ao(0,"app-navbar"),Oo(1,"div",0),Ao(2,"div",1),Ao(3,"router-outlet"),xo())},directives:[gv,Kf],styles:[""]}),t})(),yv=(()=>{class t{}return t.\u0275mod=qt({type:t,bootstrap:[vv]}),t.\u0275inj=at({factory:function(e){return new(e||t)},providers:[yp],imports:[[Ec,kg,Mg,Zd.initializeApp(fu),fv,fp]]}),t})();(function(){if(Ka)throw new Error("Cannot enable prod mode after platform setup.");Wa=!1})(),wc().bootstrapModule(yv).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);